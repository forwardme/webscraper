<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch10.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch10.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch10.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch10.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9781491920565"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>10. Visualizing Data with Matplotlib - Data Visualization with Python and JavaScript</title><link rel="stylesheet" href="/static/CACHE/css/a04cd81b09cd.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.ef38b0457d7b.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td,#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content canvas,#sbo-rt-content details,#sbo-rt-content embed,#sbo-rt-content figure,#sbo-rt-content figcaption,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content output,#sbo-rt-content ruby,#sbo-rt-content section,#sbo-rt-content summary,#sbo-rt-content time,#sbo-rt-content mark,#sbo-rt-content audio,#sbo-rt-content video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content details,#sbo-rt-content figcaption,#sbo-rt-content figure,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content section{display:block}#sbo-rt-content div{line-height:1}#sbo-rt-content ol,#sbo-rt-content ul{list-style:none}#sbo-rt-content blockquote,#sbo-rt-content q{quotes:none}#sbo-rt-content blockquote:before,#sbo-rt-content blockquote:after,#sbo-rt-content q:before,#sbo-rt-content q:after{content:none}#sbo-rt-content table{border-collapse:collapse;border-spacing:0}@page{margin:5px !important}#sbo-rt-content p{margin:10px 0 0;line-height:125%;text-align:left}#sbo-rt-content p.byline{text-align:left;margin:-33px auto 35px;font-style:italic;font-weight:bold}#sbo-rt-content div.preface p+p.byline{margin:1em 0 0}#sbo-rt-content div.preface p.byline+p.byline{margin:0}#sbo-rt-content div.sect1>p.byline{margin:-.25em 0 1em}#sbo-rt-content div.sect1>p.byline+p.byline{margin-top:-1em}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link,#sbo-rt-content a{text-decoration:none;color:#8e0012}#sbo-rt-content span.lineannotation{font-style:italic;color:#a62a2a;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#fff}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important;margin-bottom:30px !important}#sbo-rt-content section[data-type="sect1"] h1{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content section[data-type="sect2"] h2{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content section[data-type="sect3"] h3{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content section[data-type="sect4"] h4{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section[data-type="chapter"]>div>h1,#sbo-rt-content section[data-type="preface"]>div>h1,#sbo-rt-content section[data-type="appendix"]>div>h1,#sbo-rt-content section[data-type="glossary"]>div>h1,#sbo-rt-content section[data-type="bibliography"]>div>h1,#sbo-rt-content section[data-type="index"]>div>h1{font-size:2em;line-height:1;margin-bottom:50px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content span.label,#sbo-rt-content span.keep-together{font-size:inherit;font-weight:inherit}#sbo-rt-content div[data-type="part"] h1{font-size:2em;text-align:center;margin-top:0 !important;margin-bottom:50px;padding:50px 0 10px 0;border-bottom:1px solid #000}#sbo-rt-content img.width-ninety{width:90%}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center !important;margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content figure{margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content div.figure h6{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding-top:10px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center !important;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:15px 0 10px 0 !important;border:1px solid #DCDCDC;background-color:#F7F7F7;padding:15px !important;page-break-inside:avoid}#sbo-rt-content aside[data-type="sidebar"]{margin:15px 0 10px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title,#sbo-rt-content aside[data-type="sidebar"] h5{font-weight:bold;font-size:1em;font-family:sans-serif;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar ol,#sbo-rt-content div.sidebar ul,#sbo-rt-content aside[data-type="sidebar"] ol,#sbo-rt-content aside[data-type="sidebar"] ul{margin-left:1.25em !important}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content aside[data-type="sidebar"] figcaption,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div[data-type="tip"],#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div[data-type="note"],#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div[data-type="warning"],#sbo-rt-content div.sidebar div[data-type="caution"],#sbo-rt-content div.sidebar div[data-type="important"]{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content aside[data-type="sidebar"] p.byline{font-size:90%;font-weight:bold;font-style:italic;text-align:center;text-indent:0;margin:5px auto 6px;page-break-after:avoid}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div[data-type="example"]{margin:10px 0 15px 0 !important}#sbo-rt-content div[data-type="example"] h1,#sbo-rt-content div[data-type="example"] h2,#sbo-rt-content div[data-type="example"] h3,#sbo-rt-content div[data-type="example"] h4,#sbo-rt-content div[data-type="example"] h5,#sbo-rt-content div[data-type="example"] h6{font-style:italic;font-weight:normal;text-align:left !important;text-transform:none !important;font-family:serif !important;margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div[data-type="example"] pre[data-type="programlisting"],#sbo-rt-content div[data-type="example"] pre[data-type="screen"]{margin:0}#sbo-rt-content section[data-type="titlepage"]>div>h1{font-size:2em;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content section[data-type="titlepage"] h2,#sbo-rt-content section[data-type="titlepage"] p.subtitle,#sbo-rt-content section[data-type="titlepage"] p[data-type="subtitle"]{font-size:1.3em;font-weight:normal;text-align:center;margin-top:.5em;color:#555}#sbo-rt-content section[data-type="titlepage"]>div>h2[data-type="author"],#sbo-rt-content section[data-type="titlepage"] p.author{font-size:1.3em;font-family:serif !important;font-weight:bold;margin:50px 0 !important;text-align:center}#sbo-rt-content section[data-type="titlepage"] p.edition{text-align:center;text-transform:uppercase;margin-top:2em}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]>div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content ul.stafflist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.stafflist li{list-style-type:none;padding:5px 0}#sbo-rt-content ul.printings li{list-style-type:none}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif !important;font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif !important;margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10px}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif !important}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;margin:.75em 0 0 !important}#sbo-rt-content blockquote div.attribution,#sbo-rt-content blockquote p[data-type="attribution"]{margin:5px 0 10px 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p,#sbo-rt-content blockquote p[data-type="attribution"]{font-style:normal;margin-top:5px}#sbo-rt-content blockquote div.attribution p:before,#sbo-rt-content blockquote p[data-type="attribution"]:before{font-style:normal;content:"—";-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div[data-type="footnotes"]{border-top:1px solid black;margin-top:1.5em}#sbo-rt-content sub,#sbo-rt-content sup{font-size:75%;line-height:0;position:relative}#sbo-rt-content sup{top:-.5em}#sbo-rt-content sub{bottom:-.25em}#sbo-rt-content div.refentry p.refname{font-size:1em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin-bottom:5px;overflow:auto;width:100%}#sbo-rt-content div.refentry{width:100%;display:block;margin-top:2em}#sbo-rt-content div.refsynopsisdiv{display:block;clear:both}#sbo-rt-content div.refentry header{page-break-inside:avoid !important;display:block;break-inside:avoid !important;padding-top:0;border-bottom:1px solid #000}#sbo-rt-content div.refsect1 h6{font-size:.9em;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content div.refsect1{margin-top:3em}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dd{margin-left:1.5em !important;margin-bottom:.25em}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ul{list-style-type:disc}#sbo-rt-content ul ul{list-style-type:square}#sbo-rt-content ul ul ul{list-style-type:circle}#sbo-rt-content ol{list-style-type:decimal}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ol ul{list-style-type:disc}#sbo-rt-content ol ul ol{list-style-type:decimal}#sbo-rt-content ul ol{list-style-type:decimal}#sbo-rt-content ul ol ul{list-style-type:disc}#sbo-rt-content ol,#sbo-rt-content ul{list-style-position:outside;margin:15px 0 15px 1.25em}#sbo-rt-content ol li,#sbo-rt-content ul li{margin:.5em 0 .65em;line-height:125%}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist,#sbo-rt-content ul.simplelist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.simplelist li{list-style-type:none;padding:5px 0}#sbo-rt-content table.simplelist td{border:none}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content dl.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content dl.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content dl.calloutlist img,#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol>li>ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol>li>ol>li>ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"],#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{margin:30px !important;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip ol,#sbo-rt-content div.tip ul,#sbo-rt-content div[data-type="tip"] ol,#sbo-rt-content div[data-type="tip"] ul,#sbo-rt-content div.note ol,#sbo-rt-content div.note ul,#sbo-rt-content div[data-type="note"] ol,#sbo-rt-content div[data-type="note"] ul,#sbo-rt-content div.warning ol,#sbo-rt-content div.warning ul,#sbo-rt-content div[data-type="warning"] ol,#sbo-rt-content div[data-type="warning"] ul,#sbo-rt-content div[data-type="caution"] ol,#sbo-rt-content div[data-type="caution"] ul,#sbo-rt-content div[data-type="important"] ol,#sbo-rt-content div[data-type="important"] ul{margin-left:1.5em !important}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"]{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="note"] h1,#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1,#sbo-rt-content div[data-type="important"] h6{font-weight:bold;font-size:110%;font-family:sans-serif !important;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div[data-type="note"] h1{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="important"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note,#sbo-rt-content div.safarienabled{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3,#sbo-rt-content div.safarienabled h6{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px 0 30px 0 !important;max-width:95%;border:none !important;background:none;display:table !important}#sbo-rt-content div.table,#sbo-rt-content div.informaltable,#sbo-rt-content table{page-break-inside:avoid}#sbo-rt-content tr,#sbo-rt-content tr td{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td,#sbo-rt-content thead th{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{display:table-cell;padding:.3em;text-align:left;vertical-align:middle;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title,#sbo-rt-content table caption{font-weight:normal;font-style:italic;font-family:serif;font-size:1em;margin:10px 0 10px 0 !important;padding:0;page-break-after:avoid;text-align:left !important}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation,#sbo-rt-content div[data-type="equation"]{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title,#sbo-rt-content div[data-type="equation"] h5{font-style:italic;font-weight:normal;font-family:serif !important;font-size:90%;margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{text-indent:0}#sbo-rt-content div.index li{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content div.index ul,#sbo-rt-content div[data-type="index"] ul{list-style-type:none;padding-left:0;margin-left:0}#sbo-rt-content div.index ul li{padding-left:0;margin-left:0}#sbo-rt-content div.index ul li ul li{margin-left:1em}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif;text-align:left}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content span.gray{color:#4C4C4C}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9781491920565/chapter/ch10.html",
          "book_id": "9781491920565",
          "chapter_uri": "ch10.html",
          "position": 0,
          "user_uuid": "fee1bd59-4e02-48a4-a7b4-152ec4c157ac",
          "next_chapter_uri": "/library/view/data-visualization-with/9781491920565/ch11.html"
        
      },
      title: "Data Visualization with Python and JavaScript",
      author_list: "Kyran Dale",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false,
      show_ios_app_teaser: false
    };
    // ]]></script><script src="/static/js/src/modernizr.js"></script><script>
    
      
       window.PUBLIC_ANNOTATIONS = false;
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

    
      window.PRIVACY_CONTROL_SWITCH = true;
    

    
      window.PUBLISHER_PAGES = true;
    

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "https://www.safaribooksonline.com/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://www.safaribooksonline.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html"/><meta name="description" content=" Chapter 10. Visualizing Data with Matplotlib As a data visualizer, one of the best ways to come to grips with your data is to visualize it interactively, using the full ... "><meta property="og:title" content="10. Visualizing Data with Matplotlib" /><meta itemprop="isPartOf" content="/library/view/data-visualization-with/9781491920565/" /><meta itemprop="name" content="10. Visualizing Data with Matplotlib" /><meta property="og:url" itemprop="url" content="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://www.safaribooksonline.com/library/cover/9781491920565/" /><meta property="og:description" itemprop="description" content=" Chapter 10. Visualizing Data with Matplotlib As a data visualizer, one of the best ways to come to grips with your data is to visualize it interactively, using the full ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="O&#39;Reilly Media, Inc." /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9781491920510" /><meta property="og:book:author" itemprop="author" content="Kyran Dale" /><meta property="og:book:tag" itemprop="about" content="JavaScript" /><meta property="og:book:tag" itemprop="about" content="Python" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><script>
    window.ENABLE_BOWERBIRD_COLLECTIONS = true;
  </script><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }

  
    ga('create', 'UA-39299553-7', {'userId': 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac' });
  

  
    
      ga('set', 'dimension1', 'Trial');
    
  

  ga('set', 'dimension6', user_uuid);

  
    ga('set', 'dimension2', 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac');
    
  

  

  

  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
  </script><script defer src="/static/js/build/vendor.e2e622a103f9.js"></script><script defer src="/static/js/build/reader.84feb506aa44.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>
  



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        





<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>Safari Home Icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 9.9L4 9.9 4 18 16 18 16 9.9 10 4 4 9.9ZM2.6 8.1L2.6 8.1 8.7 1.9 10 0.5 11.3 1.9 17.4 8.1 18 8.7 18 9.5 18 18.1 18 20 16.1 20 3.9 20 2 20 2 18.1 2 9.5 2 8.7 2.6 8.1Z"/><rect x="10" y="12" width="3" height="7"/><rect transform="translate(18.121320, 10.121320) rotate(-315.000000) translate(-18.121320, -10.121320) " x="16.1" y="9.1" width="4" height="2"/><rect transform="translate(2.121320, 10.121320) scale(-1, 1) rotate(-315.000000) translate(-2.121320, -10.121320) " x="0.1" y="9.1" width="4" height="2"/></g></svg><span>Safari Home</span></a></li><li><a href="/r/" class="t-recommendations-nav l0 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recommendations icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M50 25C50 18.2 44.9 12.5 38.3 11.7 37.5 5.1 31.8 0 25 0 18.2 0 12.5 5.1 11.7 11.7 5.1 12.5 0 18.2 0 25 0 31.8 5.1 37.5 11.7 38.3 12.5 44.9 18.2 50 25 50 31.8 50 37.5 44.9 38.3 38.3 44.9 37.5 50 31.8 50 25ZM25 3.1C29.7 3.1 33.6 6.9 34.4 11.8 30.4 12.4 26.9 15.1 25 18.8 23.1 15.1 19.6 12.4 15.6 11.8 16.4 6.9 20.3 3.1 25 3.1ZM34.4 15.6C33.6 19.3 30.7 22.2 27.1 22.9 27.8 19.2 30.7 16.3 34.4 15.6ZM22.9 22.9C19.2 22.2 16.3 19.3 15.6 15.6 19.3 16.3 22.2 19.2 22.9 22.9ZM3.1 25C3.1 20.3 6.9 16.4 11.8 15.6 12.4 19.6 15.1 23.1 18.8 25 15.1 26.9 12.4 30.4 11.8 34.4 6.9 33.6 3.1 29.7 3.1 25ZM22.9 27.1C22.2 30.7 19.3 33.6 15.6 34.4 16.3 30.7 19.2 27.8 22.9 27.1ZM25 46.9C20.3 46.9 16.4 43.1 15.6 38.2 19.6 37.6 23.1 34.9 25 31.3 26.9 34.9 30.4 37.6 34.4 38.2 33.6 43.1 29.7 46.9 25 46.9ZM27.1 27.1C30.7 27.8 33.6 30.7 34.4 34.4 30.7 33.6 27.8 30.7 27.1 27.1ZM38.2 34.4C37.6 30.4 34.9 26.9 31.3 25 34.9 23.1 37.6 19.6 38.2 15.6 43.1 16.4 46.9 20.3 46.9 25 46.9 29.7 43.1 33.6 38.2 34.4Z"/></g></svg><span>Recommended</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
                 Playlists
              </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/tutorials/" class="l1 nav-icn t-tutorials-nav js-toggle-menu-item None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>tutorials icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.8 18.2C15.8 18.2 15.9 18.2 16 18.2 16.1 18.2 16.2 18.2 16.4 18.2 16.5 18.2 16.7 18.1 16.9 18 17 17.9 17.1 17.8 17.2 17.7 17.3 17.6 17.4 17.5 17.4 17.4 17.5 17.2 17.6 16.9 17.6 16.7 17.6 16.6 17.6 16.5 17.6 16.4 17.5 16.2 17.5 16.1 17.4 15.9 17.3 15.8 17.2 15.6 17 15.5 16.8 15.3 16.6 15.3 16.4 15.2 16.2 15.2 16 15.2 15.8 15.2 15.7 15.2 15.5 15.3 15.3 15.4 15.2 15.4 15.1 15.5 15 15.7 14.9 15.8 14.8 15.9 14.7 16 14.7 16.1 14.6 16.3 14.6 16.4 14.6 16.5 14.6 16.6 14.6 16.6 14.6 16.7 14.6 16.9 14.6 17 14.6 17.1 14.7 17.3 14.7 17.4 14.8 17.6 15 17.7 15.1 17.9 15.2 18 15.3 18 15.5 18.1 15.5 18.1 15.6 18.2 15.7 18.2 15.7 18.2 15.7 18.2 15.8 18.2L15.8 18.2ZM9.4 11.5C9.5 11.5 9.5 11.5 9.6 11.5 9.7 11.5 9.9 11.5 10 11.5 10.2 11.5 10.3 11.4 10.5 11.3 10.6 11.2 10.8 11.1 10.9 11 10.9 10.9 11 10.8 11.1 10.7 11.2 10.5 11.2 10.2 11.2 10 11.2 9.9 11.2 9.8 11.2 9.7 11.2 9.5 11.1 9.4 11 9.2 10.9 9.1 10.8 8.9 10.6 8.8 10.5 8.7 10.3 8.6 10 8.5 9.9 8.5 9.7 8.5 9.5 8.5 9.3 8.5 9.1 8.6 9 8.7 8.8 8.7 8.7 8.8 8.6 9 8.5 9.1 8.4 9.2 8.4 9.3 8.2 9.5 8.2 9.8 8.2 10 8.2 10.1 8.2 10.2 8.2 10.3 8.2 10.5 8.3 10.6 8.4 10.7 8.5 10.9 8.6 11.1 8.7 11.2 8.9 11.3 9 11.4 9.1 11.4 9.2 11.4 9.3 11.5 9.3 11.5 9.3 11.5 9.4 11.5 9.4 11.5L9.4 11.5ZM3 4.8C3.1 4.8 3.1 4.8 3.2 4.8 3.4 4.8 3.5 4.8 3.7 4.8 3.8 4.8 4 4.7 4.1 4.6 4.3 4.5 4.4 4.4 4.5 4.3 4.6 4.2 4.6 4.1 4.7 4 4.8 3.8 4.8 3.5 4.8 3.3 4.8 3.1 4.8 3 4.8 2.9 4.7 2.8 4.7 2.6 4.6 2.5 4.5 2.3 4.4 2.2 4.2 2.1 4 1.9 3.8 1.9 3.6 1.8 3.5 1.8 3.3 1.8 3.1 1.8 2.9 1.8 2.7 1.9 2.6 2 2.4 2.1 2.3 2.2 2.2 2.3 2.1 2.4 2 2.5 2 2.6 1.8 2.8 1.8 3 1.8 3.3 1.8 3.4 1.8 3.5 1.8 3.6 1.8 3.8 1.9 3.9 2 4 2.1 4.2 2.2 4.4 2.4 4.5 2.5 4.6 2.6 4.7 2.7 4.7 2.8 4.7 2.9 4.8 2.9 4.8 3 4.8 3 4.8 3 4.8L3 4.8ZM13.1 15.2C13.2 15.1 13.2 15.1 13.2 15.1 13.3 14.9 13.4 14.7 13.6 14.5 13.8 14.2 14.1 14 14.4 13.8 14.7 13.6 15.1 13.5 15.5 13.4 15.9 13.4 16.3 13.4 16.7 13.5 17.2 13.5 17.6 13.7 17.9 13.9 18.2 14.1 18.5 14.4 18.7 14.7 18.9 15 19.1 15.3 19.2 15.6 19.3 15.9 19.4 16.1 19.4 16.4 19.4 17 19.3 17.5 19.1 18.1 19 18.3 18.9 18.5 18.7 18.7 18.5 19 18.3 19.2 18 19.4 17.7 19.6 17.3 19.8 16.9 19.9 16.6 20 16.3 20 16 20 15.8 20 15.6 20 15.4 19.9 15.4 19.9 15.4 19.9 15.4 19.9 15.2 19.9 15 19.8 14.9 19.8 14.8 19.7 14.7 19.7 14.6 19.7 14.4 19.6 14.3 19.5 14.1 19.3 13.7 19.1 13.4 18.7 13.2 18.4 13.1 18.1 12.9 17.8 12.9 17.5 12.8 17.3 12.8 17.1 12.8 16.9L3.5 14.9C3.3 14.9 3.1 14.8 3 14.8 2.7 14.7 2.4 14.5 2.1 14.3 1.7 14 1.4 13.7 1.2 13.3 1 13 0.9 12.6 0.8 12.3 0.7 12 0.7 11.7 0.7 11.4 0.7 11 0.8 10.5 1 10.1 1.1 9.8 1.3 9.5 1.6 9.2 1.8 8.9 2.1 8.7 2.4 8.5 2.8 8.3 3.2 8.1 3.6 8.1 3.9 8 4.2 8 4.5 8 4.6 8 4.8 8 4.9 8.1L6.8 8.5C6.8 8.4 6.8 8.4 6.8 8.4 6.9 8.2 7.1 8 7.2 7.8 7.5 7.5 7.7 7.3 8 7.1 8.4 6.9 8.7 6.8 9.1 6.7 9.5 6.7 10 6.7 10.4 6.8 10.8 6.8 11.2 7 11.5 7.2 11.8 7.5 12.1 7.7 12.4 8 12.6 8.3 12.7 8.6 12.8 8.9 12.9 9.2 13 9.4 13 9.7 13 9.7 13 9.8 13 9.8 13.6 9.9 14.2 10.1 14.9 10.2 15 10.2 15 10.2 15.1 10.2 15.3 10.2 15.4 10.2 15.6 10.2 15.8 10.1 16 10 16.2 9.9 16.4 9.8 16.5 9.6 16.6 9.5 16.8 9.2 16.9 8.8 16.9 8.5 16.9 8.3 16.9 8.2 16.8 8 16.8 7.8 16.7 7.7 16.6 7.5 16.5 7.3 16.3 7.2 16.2 7.1 16 7 15.9 6.9 15.8 6.9 15.7 6.9 15.6 6.8 15.5 6.8L6.2 4.8C6.2 5 6 5.2 5.9 5.3 5.7 5.6 5.5 5.8 5.3 6 4.9 6.2 4.5 6.4 4.1 6.5 3.8 6.6 3.5 6.6 3.2 6.6 3 6.6 2.8 6.6 2.7 6.6 2.6 6.6 2.6 6.5 2.6 6.5 2.5 6.5 2.3 6.5 2.1 6.4 1.8 6.3 1.6 6.1 1.3 6 1 5.7 0.7 5.4 0.5 5 0.3 4.7 0.2 4.4 0.1 4.1 0 3.8 0 3.6 0 3.3 0 2.8 0.1 2.2 0.4 1.7 0.5 1.5 0.7 1.3 0.8 1.1 1.1 0.8 1.3 0.6 1.6 0.5 2 0.3 2.3 0.1 2.7 0.1 3.1 0 3.6 0 4 0.1 4.4 0.2 4.8 0.3 5.1 0.5 5.5 0.8 5.7 1 6 1.3 6.2 1.6 6.3 1.9 6.4 2.3 6.5 2.5 6.6 2.7 6.6 3 6.6 3 6.6 3.1 6.6 3.1 9.7 3.8 12.8 4.4 15.9 5.1 16.1 5.1 16.2 5.2 16.4 5.2 16.7 5.3 16.9 5.5 17.2 5.6 17.5 5.9 17.8 6.2 18.1 6.5 18.3 6.8 18.4 7.2 18.6 7.5 18.6 7.9 18.7 8.2 18.7 8.6 18.7 9 18.6 9.4 18.4 9.8 18.3 10.1 18.2 10.3 18 10.6 17.8 10.9 17.5 11.1 17.3 11.3 16.9 11.6 16.5 11.8 16 11.9 15.7 12 15.3 12 15 12 14.8 12 14.7 12 14.5 11.9 13.9 11.8 13.3 11.7 12.6 11.5 12.5 11.7 12.4 11.9 12.3 12 12.1 12.3 11.9 12.5 11.7 12.7 11.3 12.9 10.9 13.1 10.5 13.2 10.2 13.3 9.9 13.3 9.6 13.3 9.4 13.3 9.2 13.3 9 13.2 9 13.2 9 13.2 9 13.2 8.8 13.2 8.7 13.2 8.5 13.1 8.2 13 8 12.8 7.7 12.6 7.4 12.4 7.1 12 6.8 11.7 6.7 11.4 6.6 11.1 6.5 10.8 6.4 10.6 6.4 10.4 6.4 10.2 5.8 10.1 5.2 9.9 4.5 9.8 4.4 9.8 4.4 9.8 4.3 9.8 4.1 9.8 4 9.8 3.8 9.8 3.6 9.9 3.4 10 3.2 10.1 3 10.2 2.9 10.4 2.8 10.5 2.6 10.8 2.5 11.1 2.5 11.5 2.5 11.6 2.5 11.8 2.6 12 2.6 12.1 2.7 12.3 2.8 12.5 2.9 12.6 3.1 12.8 3.2 12.9 3.3 13 3.5 13.1 3.6 13.1 3.7 13.1 3.8 13.2 3.9 13.2L13.1 15.2 13.1 15.2Z"/></g></svg><span>Tutorials</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/fee1bd59-4e02-48a4-a7b4-152ec4c157ac/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" version="1.1" fill="#4A3C31"><desc>highlights icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13.325 18.071L8.036 18.071C8.036 11.335 12.36 7.146 22.5 5.594L22.5 0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35 15.545 35 19.578 31.485 19.578 26.184 19.578 21.556 17.211 18.891 13.325 18.071L13.325 18.071ZM40.825 18.071L35.565 18.071C35.565 11.335 39.86 7.146 50 5.594L50 0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35 43.045 35 47.078 31.485 47.078 26.184 47.078 21.556 44.74 18.891 40.825 18.071L40.825 18.071Z"/></g></svg><span>Highlights</span></a></li><li><a href="/u/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.safaribooksonline.com/public/support" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a><span class="l2 t-nag-notification"  id="nav-nag" ><strong class="trial-green">7</strong> days left in your trial.
  
  

  
    
      

<a class="" href="/subscribe/">Subscribe</a>.


    
  

  

</span></li><li><a href="https://www.safaribooksonline.com/public/support" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>


      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Data Visualization with Python and JavaScript
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9781491920565/chapter/ch10.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html&text=Data%20Visualization%20with%20Python%20and%20JavaScript&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 10.%20Visualizing%20Data%20with%20Matplotlib&body=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch10.html%0D%0Afrom Data%20Visualization%20with%20Python%20and%20JavaScript%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    <section role="document">
        
        



 <!--[if lt IE 9]>
  
<![endif]-->



  <script defer src="/static/js/build/djangoMessagesPage.893631b34e7a.js"></script>


        
	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch09.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">9. Cleaning Data with Pandas</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch11.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">11. Exploring Data with Pandas</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 10. Visualizing Data with Matplotlib"><div class="chapter" id="chapter_matplotlib">
<h1><span class="label">Chapter 10. </span>Visualizing Data with Matplotlib</h1>


<p><a data-type="indexterm" data-primary="data visualization (dataviz)" data-secondary="tools presented" data-see="also Matplotlib" id="idm140319413877904"></a>As a data visualizer, one of the best ways to come to grips with your data is to visualize it interactively, using the full range of charts and plots that have evolved to summarize and refine datasets. Conventionally, the fruits of this exploratory phase are then presented as static figures, but increasingly they are used to construct more engaging interactive web-based charts, such as the cool D3 visualizations you have probably seen (one of which we’ll be building in <a data-type="xref" href="part05.html#part_viz">Part V</a>).</p>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="benefits of" id="idm140319413874976"></a>Python’s Matplotlib and its family of extensions (such as the statistically focused Seaborn) form a mature and very customizable plotting ecosystem. Matplotlib plots can be used interactively by IPython (the Qt and Notebook versions), providing a very powerful and intuitive way of finding interesting nuggets in your data. In this chapter we’ll introduce Matplotlib and one of its great extensions, Seaborn.</p>






<section data-type="sect1" data-pdf-bookmark="Pyplot and Object-Oriented Matplotlib"><div class="sect1" id="idm140319414635712">
<h1>Pyplot and Object-Oriented Matplotlib</h1>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="creating plots in" id="idm140319414634576"></a>Matplotlib can be more than a little confusing, especially if you start randomly sampling examples online. The main complicating factor is that there are two main ways to create plots, which are similar enough to be confused but different enough to lead to a lot of frustrating errors. The first way uses a global state machine to interact directly with Matplotlib’s <code>pyplot</code> module. The second, object-oriented approach uses the more familiar notion of figure and axes classes to provide a programmatic alternative.  I’ll clarify their differences in the sections ahead, but as a rough rule of thumb, if you’re working interactively with single plots, <code>pyplot</code>’s global state is a convenient shortcut. For all other occasions, it makes sense to explicitly declare your figures and axes using the object-oriented approach.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Starting an Interactive Session"><div class="sect1" id="idm140319414631552">
<h1>Starting an Interactive Session</h1>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="starting interactive sessions" id="idm140319413959840"></a>Within an IPython session, Matplotlib has two modes of operation: inline and as a standalone window (Qt).   IPython’s <a href="http://bit.ly/1S9Kadw">Qt console</a> supports both modes; the <a href="http://bit.ly/1rtACUU">Notebook</a> supports inline graphics, whereas IPython started from the command line only supports a standalone window.</p>

<p>First start an IPython session from the command line with an optional <code>notebook</code> or <code>qt</code> flag:</p>

<pre data-type="programlisting">$ ipython [notebook | qt]</pre>

<p>If using the <a href="http://jupyter.org">Jupyter notebook</a>, use the following command to start a session:</p>

<pre data-type="programlisting">$ jupyter notebook</pre>

<p>You can then use one of the <a href="http://bit.ly/1UAH8on">Matplotlib magic commands</a> within the IPython session to enable interactive Matplotlib. On its own, <code>%matplotlib</code> will use the default GUI backend to create a plotting window, but you can specify the backend directly. The following should work on standard and Qt console IPython:<sup><a data-type="noteref" id="idm140319413951696-marker" href="ch10.html#idm140319413951696">1</a></sup></p>

<pre data-type="programlisting">%matplotlib [qt | osx | wx ...]</pre>

<p>To get inline graphics in the Notebook or Qt console, you can use the <code>inline</code> directive. Note that with inline plots, you can’t amend them after creation, unlike the standalone Matplotlib window:</p>

<pre data-type="programlisting">%matplotlib inline</pre>

<p>Whether you are using Matplotlib interactively or in Python programs, you’ll use similar imports:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code> <code class="nn">numpy</code> <code class="kn">as</code> <code class="nn">np</code>
<code class="kn">import</code> <code class="nn">pandas</code> <code class="kn">as</code> <code class="nn">pd</code>
<code class="kn">import</code> <code class="nn">matplotlib.pyplot</code> <code class="kn">as</code> <code class="nn">plt</code></pre>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>You will find many examples of Matplotlib using <code>pylab</code>. Pylab is a convenience module that bulk-imports <code>matplotlib.pyplot</code> (for plotting) and NumPy in a single namespace. Pylab is pretty much deprecated now, but even were it not,  I’d still recommend avoiding this namespace and merging and importing <code>pyplot</code> and <code>numpy</code> explicitly.</p>
</div>

<p>While NumPy and Pandas are not mandatory, Matplotlib is designed to play well with them, handling NumPy <code>array</code>s and, by association, Pandas <code>Series</code>.</p>

<p>The ability to create inline plots is key to enjoyable interaction with Matplotlib, and we achieve this in IPython with the following “magic”<sup><a data-type="noteref" id="idm140319413856720-marker" href="ch10.html#idm140319413856720">2</a></sup> injunction:</p>

<pre data-type="programlisting">In [0]: %matplotlib inline</pre>

<p>Your Matplotlib plots will now be inserted into your IPython workflow. This works with Qt and Notebook versions. In the Notebooks, the plots are incorporated into the active cell.</p>
<div data-type="tip"><h1>Amending plots</h1>
<p>In inline mode, after an IPython cell or (multi-line) input has been run, the drawing context is flushed. This means you cannot change the plot from a previous cell or input using the <code>gcf</code> (get current figure) method but have to repeat all the plot commands with any additions or amendments in a new input/cell.</p>
</div>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Interactive Plotting with Pyplot’s Global State"><div class="sect1" id="idm140319414630928">
<h1>Interactive Plotting with Pyplot’s Global State</h1>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="interactive plotting" id="MPLinteract10"></a>The <code>pyplot</code> module provides a global state that you can manipulate interactively.<sup><a data-type="noteref" id="idm140319413848384-marker" href="ch10.html#idm140319413848384">3</a></sup> This is intended for use in interactive data exploration and is best when you are creating simple plots, usually containing single figures. <code>pyplot</code> is convenient and many of the examples you’ll see use it, but for more complex plotting Matplotlib’s object-oriented API (which we’ll see shortly) comes into its own. Before demoing use of the global plot, let’s create some random data to display, courtesy of Panda’s useful <code>period_range</code> method:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">period_range</code><code class="p">(</code><code class="n">pd</code><code class="o">.</code><code class="n">datetime</code><code class="o">.</code><code class="n">now</code><code class="p">(</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">periods</code><code class="o">=</code><code class="mi">200</code><code class="p">,</code><code> </code><code class="n">freq</code><code class="o">=</code><code class="s1">'</code><code class="s1">d</code><code class="s1">'</code><code class="p">)</code><a class="co" id="co_visualizing_data_with_matplotlib_CO1-1" href="#callout_visualizing_data_with_matplotlib_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">x</code><code class="o">.</code><code class="n">to_timestamp</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">to_pydatetime</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO1-2" href="#callout_visualizing_data_with_matplotlib_CO1-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="mi">200</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code class="o">.</code><code class="n">cumsum</code><code class="p">(</code><code class="mi">0</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO1-3" href="#callout_visualizing_data_with_matplotlib_CO1-3"><img src="3.png" alt="3" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO1-1" href="#co_visualizing_data_with_matplotlib_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Creates a Pandas <code>datetime</code> index with 200 day (<code>d</code>) elements, starting from the current time (<code>datetime.now()</code>).</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO1-2" href="#co_visualizing_data_with_matplotlib_CO1-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Converts <code>datetime</code> index to Python <code>datetimes</code>.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO1-3" href="#co_visualizing_data_with_matplotlib_CO1-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Creates three 200-element random arrays summed along the 0 axis.</p></dd>
</dl>

<p>We now have a y-axis with 200 time slots and three random arrays for the complementary x values. These are provided as separate arguments to the <code>(line)plot</code> method:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code> <code class="n">y</code><code class="p">)</code></pre>

<p>This gives us the not particularly inspiring chart shown in <a data-type="xref" href="#mpl_3lines_default">Figure 10-1</a>. Note how Matplotlib deals naturally with a multidimensional NumPy line array.</p>

<figure><div id="mpl_3lines_default" class="figure">
<img src="dvpj_1001.png" alt="dvpj 1001" width="432" height="288">
<h6><span class="label">Figure 10-1. </span>Default line plot</h6>
</div></figure>

<p>Although Matplotlib’s defaults are, by general consensus, less than ideal, one of its strengths is the sheer amount of customization you can perform. This is why there is a rich ecosystem of chart libraries that wrap Matplotlib with better defaults, more attractive color schemes, and more. Let’s see some of this customization in action by using vanilla Matplotlib to tailor our default plot.</p>








<section data-type="sect2" data-pdf-bookmark="Configuring Matplotlib"><div class="sect2" id="idm140319413767056">
<h2>Configuring Matplotlib</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="configuring" id="idm140319413764624"></a>Matplotlib provides a wide range of <a href="http://bit.ly/1ZWSMKA">configurations</a>, which can be specified in a <a href="http://bit.ly/1UTaxJ1"><code>matplotlibrc</code> file</a> or dynamically, through the dictionary-like <code>rcParams</code> variable. Here we change the width and default color of our plot lines:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code> <code class="nn">matplotlib</code> <code class="kn">as</code> <code class="nn">mpl</code>
<code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s1">'lines.linewidth'</code><code class="p">]</code> <code class="o">=</code> <code class="mi">2</code>
<code class="n">mpl</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s1">'lines.color'</code><code class="p">]</code> <code class="o">=</code> <code class="s1">'r'</code> <code class="c1"># red</code></pre>

<p>You can find a sample <code>matplotlibrc</code> file at the <a href="http://bit.ly/21r1YHF">main site</a>.</p>

<p>As well as using the <code>rcParams</code> variable, you can use the <code>gcf</code> (get current figure) method to grab the currently active figure and manipulate it directly.</p>

<p>Let’s see a little example of configuration, setting the current figure’s size.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Setting the Figure’s Size"><div class="sect2" id="idm140319413737584">
<h2>Setting the Figure’s Size</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="setting figure sizes" id="idm140319413736416"></a><a data-type="indexterm" data-primary="figures" data-secondary="setting sizes in Matplotlib" id="idm140319413656096"></a>If your plot’s default readability is poor or the width-to-height ratio suboptimal, you will want to change its size. By default, Matplotlib uses inches for its plotting size. This makes sense when you consider the many backends (often vector-graphic-based) that Matplotlib can save to.  Here we use <code>pyplot</code> to set the figure size to eight by four inches, using <code>rcParams</code> and <code>gcf</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># set figure size to 8 by 4 inches</code>
<code class="n">plt</code><code class="o">.</code><code class="n">rcParams</code><code class="p">[</code><code class="s1">'figure.figsize'</code><code class="p">]</code> <code class="o">=</code> <code class="p">(</code><code class="mi">8</code><code class="p">,</code><code class="mi">4</code><code class="p">)</code>
<code class="n">plt</code><code class="o">.</code><code class="n">gcf</code><code class="p">()</code><code class="o">.</code><code class="n">set_size_inches</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="mi">4</code><code class="p">)</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Points, Not Pixels"><div class="sect2" id="idm140319413634240">
<h2>Points, Not Pixels</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="point measurements in" id="idm140319413642560"></a>Matplotlib uses points, not pixels, to measure the size of its figures. This is the accepted measure for print-quality publications, and Matplotlib is used to deliver publication-quality images.</p>

<p>By default a point is approximately 1/72 of an inch wide, but Matplotlib allows you to adjust this by changing the dots-per-inch (dpi) for any figures generated. The higher this number, the better the quality of the image. For the purpose of the inline figures shown interactively during IPython sessions, the resolution is usually a product of the backend engine being used to generate the plots (e.g., Qt, WXAgg, tkinter). See <a href="http://matplotlib.org/faq/usage_faq.html#what-is-a-backend">here</a> for an explanation of backends.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Labels and Legends"><div class="sect2" id="idm140319413595632">
<h2>Labels and Legends</h2>

<p><a data-type="xref" href="#mpl_3lines_default">Figure 10-1</a> <a data-type="indexterm" data-primary="Matplotlib" data-secondary="labels and legends in" id="idm140319413593360"></a>needs, among other things, to tell us what the lines mean. Matplotlib has a handy legend box for line labeling, which, like most things Matplotlib, is heavily configurable. Labeling our three lines involves a little indirection as the <code>plot</code> method only takes one label, which it applies to all lines generated. Usefully, the plot command returns all <code>Line2D</code> objects created. These can be used by the <code>legend</code> method to set individual labels.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plots</code> <code class="o">=</code> <code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code class="n">y</code><code class="p">)</code>
<code class="n">plots</code>
<code class="n">Out</code><code class="p">:</code>
<code class="p">[</code><code class="o">&lt;</code><code class="n">matplotlib</code><code class="o">.</code><code class="n">lines</code><code class="o">.</code><code class="n">Line2D</code> <code class="n">at</code> <code class="mh">0x9b31a90</code><code class="o">&gt;</code><code class="p">,</code>
 <code class="o">&lt;</code><code class="n">matplotlib</code><code class="o">.</code><code class="n">lines</code><code class="o">.</code><code class="n">Line2D</code> <code class="n">at</code> <code class="mh">0x9b4da90</code><code class="o">&gt;</code><code class="p">,</code>
 <code class="o">&lt;</code><code class="n">matplotlib</code><code class="o">.</code><code class="n">lines</code><code class="o">.</code><code class="n">Line2D</code> <code class="n">at</code> <code class="mh">0x9b4dcd0</code><code class="o">&gt;</code><code class="p">]</code></pre>

<p>The <a href="http://bit.ly/1ZWTIPb"><code>legend</code></a> method can set labels, suggest a location for the legend box, and configure a number of <a href="http://bit.ly/1rtCY69">other things</a>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">plots</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">foo</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">bar</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">baz</code><code class="s1">'</code><code class="p">)</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO2-1" href="#callout_visualizing_data_with_matplotlib_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>           </code><code class="n">loc</code><code class="o">=</code><code class="s1">'</code><code class="s1">best</code><code class="s1">'</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO2-2" href="#callout_visualizing_data_with_matplotlib_CO2-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>           </code><code class="n">framealpha</code><code class="o">=</code><code class="mf">0.5</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO2-3" href="#callout_visualizing_data_with_matplotlib_CO2-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code>           </code><code class="n">prop</code><code class="o">=</code><code class="p">{</code><code class="s1">'</code><code class="s1">size</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">small</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">family</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">monospace</code><code class="s1">'</code><code class="p">}</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO2-4" href="#callout_visualizing_data_with_matplotlib_CO2-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO2-1" href="#co_visualizing_data_with_matplotlib_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Sets the labels for our three plots.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO2-2" href="#co_visualizing_data_with_matplotlib_CO2-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Using the <code>best</code> location should avoid obscuring lines.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO2-3" href="#co_visualizing_data_with_matplotlib_CO2-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Sets the legend’s transparency.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO2-4" href="#co_visualizing_data_with_matplotlib_CO2-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>Here we adjust the font properties of the legend.<sup><a data-type="noteref" id="idm140319413496288-marker" href="ch10.html#idm140319413496288">4</a></sup></p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Titles and Axes Labels"><div class="sect2" id="sect_mpl_titles">
<h2>Titles and Axes Labels</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="titles and axes labels in" id="idm140319413493040"></a>Adding a title and label for your axes is as easy as can be:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s1">'Random trends'</code><code class="p">)</code>
<code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s1">'Date'</code><code class="p">)</code>
<code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s1">'Cum. sum'</code><code class="p">)</code></pre>

<p>You can add some text with the <code>figtext</code> method:<sup><a data-type="noteref" id="idm140319413435312-marker" href="ch10.html#idm140319413435312">5</a></sup></p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">figtext</code><code class="p">(</code><code class="mf">0.995</code><code class="p">,</code><code> </code><code class="mf">0.01</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO3-1" href="#callout_visualizing_data_with_matplotlib_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>            </code><code class="s-Affix">u</code><code class="s1">'</code><code class="s1">© Acme designs 2015</code><code class="s1">'</code><code class="p">,</code><code>
</code><code>            </code><code class="n">ha</code><code class="o">=</code><code class="s1">'</code><code class="s1">right</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">va</code><code class="o">=</code><code class="s1">'</code><code class="s1">bottom</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO3-2" href="#callout_visualizing_data_with_matplotlib_CO3-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO3-1" href="#co_visualizing_data_with_matplotlib_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The location of the text proportionate to figure size.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO3-2" href="#co_visualizing_data_with_matplotlib_CO3-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Horizontal (<code>ha</code>) and vertical (<code>va</code>) alignment.</p></dd>
</dl>

<p>The complete code is shown in <a data-type="xref" href="#mpl_3lines_custom_code">Example 10-1</a> and the resulting chart in <a data-type="xref" href="#mpl_3lines_custom">Figure 10-2</a>.</p>
<div id="mpl_3lines_custom_code" data-type="example">
<h5><span class="label">Example 10-1. </span>Customized line chart</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">plots</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">plots</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">foo</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">bar</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">baz</code><code class="s1">'</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">loc</code><code class="o">=</code><code class="s1">'</code><code class="s1">best,</code><code>
</code><code>                    </code><code class="n">framealpha</code><code class="o">=</code><code class="mf">0.25</code><code class="p">,</code><code>
</code><code>                    </code><code class="n">prop</code><code class="o">=</code><code class="p">{</code><code class="s1">'</code><code class="s1">size</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">small</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">family</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">monospace</code><code class="s1">'</code><code class="p">}</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">gcf</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">set_size_inches</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s1">'</code><code class="s1">Random trends</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">xlabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Date</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">ylabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Cum. sum</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">grid</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO4-1" href="#callout_visualizing_data_with_matplotlib_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">figtext</code><code class="p">(</code><code class="mf">0.995</code><code class="p">,</code><code> </code><code class="mf">0.01</code><code class="p">,</code><code> </code><code class="s-Affix">u</code><code class="s1">'</code><code class="se">\u00a9</code><code class="s1"> Acme Designs 2015</code><code class="s1">'</code><code class="p">,</code><code>
</code><code class="n">ha</code><code class="o">=</code><code class="s1">'</code><code class="s1">right</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">va</code><code class="o">=</code><code class="s1">'</code><code class="s1">bottom</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">tight_layout</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO4-2" href="#callout_visualizing_data_with_matplotlib_CO4-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO4-1" href="#co_visualizing_data_with_matplotlib_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>This will add a dotted grid to the figure, marking the axis ticks.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO4-2" href="#co_visualizing_data_with_matplotlib_CO4-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>The <a href="http://bit.ly/1Qc75KX"><code>tight_layout</code> method</a> should guarantee that all your plot elements are within the figure box. Otherwise, you might find tick-labels or legends truncated.</p></dd>
</dl></div>

<figure><div id="mpl_3lines_custom" class="figure">
<img src="dvpj_1002.png" alt="dvpj 1002" width="576" height="288">
<h6><span class="label">Figure 10-2. </span>Customized line chart</h6>
</div></figure>

<p>We used the <code>tight_layout</code> method in <a data-type="xref" href="#mpl_3lines_custom_code">Example 10-1</a> to prevent plot elements from being obscured or truncated. <code>tight_layout</code> has been known to cause problems with some systems, particularly OS X. If you have any problems, this <a href="https://github.com/matplotlib/matplotlib/issues/1852">issue thread</a> may help. As of now, the best advice is to use the <code>set_tight_layout</code> method on the current figure:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">gcf</code><code class="p">()</code><code class="o">.</code><code class="n">set_tight_layout</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Saving Your Charts"><div class="sect2" id="idm140319413494288">
<h2>Saving Your Charts</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="saving charts" id="idm140319413253184"></a>One area where Matplotlib shines is in saving your plots, providing many output formats.<sup><a data-type="noteref" id="idm140319413251968-marker" href="ch10.html#idm140319413251968">6</a></sup> The available formats depend on the backends available, but generally PNG, PDF, PS, EPS, and SVG are <span class="keep-together">supported</span>.</p>

<p>Saving is as simple as this:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">plt</code><code class="o">.</code><code class="n">tight_layout</code><code class="p">()</code> <code class="c1"># force plot into figure dimensions</code>
<code class="n">plt</code><code class="o">.</code><code class="n">savefig</code><code class="p">(</code><code class="s1">'mpl_3lines_custom.svg'</code><code class="p">)</code></pre>

<p><a data-type="indexterm" data-primary="" data-startref="MPLinteract10" id="idm140319413274848"></a>You can set the format explicitly using <code>format="svg"</code>, but Matplotlib understands the <em>.svg</em> suffix. To avoid truncated labels, use the <code>tight_layout</code> method.<sup><a data-type="noteref" id="idm140319413277872-marker" href="ch10.html#idm140319413277872">7</a></sup></p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Figures and Object-Oriented Matplotlib"><div class="sect1" id="idm140319413851120">
<h1>Figures and Object-Oriented Matplotlib</h1>

<p><a data-type="indexterm" data-primary="figures" data-secondary="OOP approach to" id="Foop10"></a><a data-type="indexterm" data-primary="Matplotlib" data-secondary="OOP approach to figures" id="MLPoop10"></a>As just shown, interactively manipulating Pyplot’s global state works fine for quick data sketching and single-plot work. However, if you want to have more control over your charts, Matplotlib’s <code>figure</code> and <code>axes</code> OOP approach is the way to go. Most of the more advanced plotting demos you see will be done this way.</p>

<p>In essence, with OOP Matplotlib we are dealing with a <code>figure</code>, which you can think of as a drawing area with one or more axes (or plots) embedded in it.  Both <code>figure</code>s and <code>axes</code> have properties that can be independently specified. In this sense, the interactive <code>pyplot</code> route discussed earlier was plotting to a single axis of a global figure.</p>

<p>We can create a figure by using Pyplot’s <code>figure</code> method:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">fig</code> <code class="o">=</code> <code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code>
          <code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="mi">4</code><code class="p">),</code> <code class="c1"># figure size in inches</code>
          <code class="n">dpi</code><code class="o">=</code><code class="mi">200</code><code class="p">,</code> <code class="c1"># dots per inch</code>
          <code class="n">tight_layout</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code> <code class="c1"># fit axes, labels, etc. to canvas</code>
          <code class="n">linewidth</code><code class="o">=</code><code class="mi">1</code><code class="p">,</code> <code class="n">edgecolor</code><code class="o">=</code><code class="s1">'r'</code> <code class="c1"># 1 pixel wide, red border</code>
          <code class="p">)</code></pre>

<p>As you can see, figures share a subset of properties with the global <code>pyplot</code> module. These can be set on creation of the figure or through similar methods (i.e., <code>fig.text()</code> as opposed to <code>plt.fig_text()</code>). Each <code>figure</code> can have multiple axes, each of which is analogous to the single, global plot state but with the considerable advantage that multiple axes can exist on one figure, each with independent properties.</p>








<section data-type="sect2" data-pdf-bookmark="Axes and Subplots"><div class="sect2" id="mpl_axes_subplots">
<h2>Axes and Subplots</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="axes and subplots" id="MLPaxes10"></a>The <code>figure.add_axes</code> method allows precise control over the position of axes within a figure (e.g., enabling you to embed a smaller plot within the main). Positioning of plot elements uses a 0 → 1 coordinate system, where 1 is the width or height of the figure.
You can specify the position using a four-element list or tuple to set bottom-left and top-right bounds [bottom(h*0.2), left(w*0.2), top(h*0.8), right(w*0.8)]:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">fig</code><code class="o">.</code><code class="n">add_axes</code><code class="p">([</code><code class="mf">0.2</code><code class="p">,</code> <code class="mf">0.2</code><code class="p">,</code> <code class="mf">0.8</code><code class="p">,</code> <code class="mf">0.8</code><code class="p">])</code></pre>

<p><a data-type="xref" href="#mpl_add_axes_code">Example 10-2</a> shows the code needed to insert smaller axes into larger ones, using our random test data. The result is shown in <a data-type="xref" href="#mpl_add_axes">Figure 10-3</a>.</p>
<div id="mpl_add_axes_code" data-type="example">
<h5><span class="label">Example 10-2. </span>A plot insert with figure.axes</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">fig</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">figure</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="c1"># --- Main Axes</code><code>
</code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">fig</code><code class="o">.</code><code class="n">add_axes</code><code class="p">(</code><code class="p">[</code><code class="mf">0.1</code><code class="p">,</code><code> </code><code class="mf">0.1</code><code class="p">,</code><code> </code><code class="mf">0.8</code><code class="p">,</code><code> </code><code class="mf">0.8</code><code class="p">]</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_title</code><code class="p">(</code><code class="s1">'</code><code class="s1">Main Axes with Insert Child Axes</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="mi">0</code><code class="p">]</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO5-1" href="#callout_visualizing_data_with_matplotlib_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xlabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Date</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_ylabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Cum. sum</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="c1"># --- Inserted Axes</code><code>
</code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">fig</code><code class="o">.</code><code class="n">add_axes</code><code class="p">(</code><code class="p">[</code><code class="mf">0.15</code><code class="p">,</code><code> </code><code class="mf">0.15</code><code class="p">,</code><code> </code><code class="mf">0.3</code><code class="p">,</code><code> </code><code class="mf">0.3</code><code class="p">]</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">[</code><code class="p">:</code><code class="p">,</code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">g</code><code class="s1">'</code><code class="p">)</code><code> </code><code class="c1"># 'g' for green</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticks</code><code class="p">(</code><code class="p">[</code><code class="p">]</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO5-2" href="#callout_visualizing_data_with_matplotlib_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO5-1" href="#co_visualizing_data_with_matplotlib_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>This selects the first column of our random NumPy y-data.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO5-2" href="#co_visualizing_data_with_matplotlib_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Removes the x ticks and labels from our embedded plot.</p></dd>
</dl></div>

<figure><div id="mpl_add_axes" class="figure">
<img src="dvpj_1003.png" alt="dvpj 1003" width="1600" height="800">
<h6><span class="label">Figure 10-3. </span>Inserted plot with figure.add_axes</h6>
</div></figure>

<p>Although <code>add_axes</code> gives us a lot of scope for fine-tuning the appearance of our charts, most of the time Matplotlib’s built-in grid-layout system makes life much easier.<sup><a data-type="noteref" id="idm140319412813136-marker" href="ch10.html#idm140319412813136">8</a></sup> The simplest option is to use <code>figure.subplots</code>, which allows you to specify row-column layouts of equal-sized plots. If you want a grid with different-sized plots, the <code>gridspec</code> module is your go-to.</p>

<p>Calling <code>subplots</code> without arguments returns a figure with single axes. This is closest in use to using the Pyplot state machine. <a data-type="xref" href="#mpl_3lines_custom_axes_code">Example 10-3</a> shows the figure and axes equivalent to the <code>pyplot</code> demo in <a data-type="xref" href="#mpl_3lines_custom_code">Example 10-1</a>, producing the chart in <a data-type="xref" href="#mpl_3lines_custom">Figure 10-2</a>. Note the use of “setter” methods for <code>figure</code> and <code>axes</code>.</p>
<div id="mpl_3lines_custom_axes_code" data-type="example">
<h5><span class="label">Example 10-3. </span>Plotting with single figure and axes</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">figure</code><code class="p">,</code> <code class="n">ax</code> <code class="o">=</code> <code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">()</code>
<code class="n">plots</code> <code class="o">=</code> <code class="n">ax</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code> <code class="n">y</code><code class="p">,</code> <code class="n">label</code><code class="o">=</code><code class="s1">''</code><code class="p">)</code>
<code class="n">figure</code><code class="o">.</code><code class="n">set_size_inches</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code> <code class="mi">4</code><code class="p">)</code>
<code class="n">ax</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">plots</code><code class="p">,</code> <code class="p">(</code><code class="s1">'foo'</code><code class="p">,</code> <code class="s1">'bar'</code><code class="p">,</code> <code class="s1">'baz'</code><code class="p">),</code> <code class="n">loc</code><code class="o">=</code><code class="s1">'best'</code><code class="p">,</code> <code class="n">framealpha</code><code class="o">=</code><code class="mf">0.25</code><code class="p">,</code>
<code class="n">prop</code><code class="o">=</code><code class="p">{</code><code class="s1">'size'</code><code class="p">:</code><code class="s1">'small'</code><code class="p">,</code> <code class="s1">'family'</code><code class="p">:</code><code class="s1">'monospace'</code><code class="p">})</code>
<code class="n">ax</code><code class="o">.</code><code class="n">set_title</code><code class="p">(</code><code class="s1">'Random trends'</code><code class="p">)</code>
<code class="n">ax</code><code class="o">.</code><code class="n">set_xlabel</code><code class="p">(</code><code class="s1">'Date'</code><code class="p">)</code>
<code class="n">ax</code><code class="o">.</code><code class="n">set_ylabel</code><code class="p">(</code><code class="s1">'Cum. sum'</code><code class="p">)</code>
<code class="n">ax</code><code class="o">.</code><code class="n">grid</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code>
<code class="n">figure</code><code class="o">.</code><code class="n">text</code><code class="p">(</code><code class="mf">0.995</code><code class="p">,</code> <code class="mf">0.01</code><code class="p">,</code> <code class="s-Affix">u</code><code class="s1">'</code><code class="se">\u00a9</code><code class="s1"> Acme Designs 2015'</code><code class="p">,</code>
<code class="n">ha</code><code class="o">=</code><code class="s1">'right'</code><code class="p">,</code> <code class="n">va</code><code class="o">=</code><code class="s1">'bottom'</code><code class="p">)</code>
<code class="n">figure</code><code class="o">.</code><code class="n">tight_layout</code><code class="p">()</code></pre></div>

<p>Calling <code>subplots</code> with arguments for number of rows (<code>nrows</code>) and columns (<code>ncols</code>) (as shown in <a data-type="xref" href="#mpl_subplots_code">Example 10-4</a>) allows multiple plots to be placed on a grid layout (see the results in <a data-type="xref" href="#mpl_subplots">Figure 10-4</a>). The call to <code>subplots</code> returns the figure and an array of axes, in row-column order. In the example, we specify one column so <code>axes</code> is a single array of three stacked axes. We make use of Python’s handy <code>zip</code> method to produce three dictionaries with line data. <a href="https://docs.python.org/2/library/functions.html#zip"><code>zip</code></a> takes lists or tuples of length <em>n</em> and returns <em>n</em> lists, formed by matching the elements by order:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">letters</code> <code class="o">=</code> <code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">]</code>
<code class="n">numbers</code> <code class="o">=</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">]</code>
<code class="nb">zip</code><code class="p">(</code><code class="n">letters</code><code class="p">,</code> <code class="n">numbers</code><code class="p">)</code>
<code class="n">Out</code><code class="p">:</code>
<code class="p">[(</code><code class="s1">'a'</code><code class="p">,</code> <code class="mi">1</code><code class="p">),</code> <code class="p">(</code><code class="s1">'b'</code><code class="p">,</code> <code class="mi">2</code><code class="p">)]</code></pre>

<p>In the <code>for</code> loop, we use <code>enumerate</code> to supply an index <code>i</code>, which we use to select an axis by row, using our zipped <code>labelled_data</code> to provide the plot properties.</p>

<p>Note the shared x- and y-axes specified in the <code>subplots</code> call. This allows easy comparison of the three charts, particularly on the now normalized y-axis.  To avoid redundant x labels, we only call <code>set_xlabel</code> on the last row, using Python’s handy negative indexing.</p>
<div id="mpl_subplots_code" data-type="example">
<h5><span class="label">Example 10-4. </span>Using subplots</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">fig</code><code class="p">,</code><code> </code><code class="n">axes</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">(</code><code>
</code><code>                    </code><code class="n">nrows</code><code class="o">=</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="n">ncols</code><code class="o">=</code><code class="mi">1</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO6-1" href="#callout_visualizing_data_with_matplotlib_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>                    </code><code class="n">sharex</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code><code> </code><code class="n">sharey</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO6-2" href="#callout_visualizing_data_with_matplotlib_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>                    </code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">8</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">labelled_data</code><code> </code><code class="o">=</code><code> </code><code class="nb">zip</code><code class="p">(</code><code class="n">y</code><code class="o">.</code><code class="n">transpose</code><code class="p">(</code><code class="p">)</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO6-3" href="#callout_visualizing_data_with_matplotlib_CO6-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code>                    </code><code class="p">(</code><code class="s1">'</code><code class="s1">foo</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">bar</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">baz</code><code class="s1">'</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">b</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">g</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">r</code><code class="s1">'</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">suptitle</code><code class="p">(</code><code class="s1">'</code><code class="s1">Three Random Trends</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">fontsize</code><code class="o">=</code><code class="mi">16</code><code class="p">)</code><code>
</code><code class="k">for</code><code> </code><code class="n">i</code><code class="p">,</code><code> </code><code class="n">ld</code><code> </code><code class="ow">in</code><code> </code><code class="nb">enumerate</code><code class="p">(</code><code class="n">labelled_data</code><code class="p">)</code><code class="p">:</code><code>
</code><code>    </code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">axes</code><code class="p">[</code><code class="n">i</code><code class="p">]</code><code>
</code><code>    </code><code class="n">ax</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">ld</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="n">ld</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="n">ld</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">)</code><code>
</code><code>    </code><code class="n">ax</code><code class="o">.</code><code class="n">set_ylabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Cum. sum</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>    </code><code class="n">ax</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="s1">'</code><code class="s1">upper left</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">framealpha</code><code class="o">=</code><code class="mf">0.5</code><code class="p">,</code><code>
</code><code>              </code><code class="n">prop</code><code class="o">=</code><code class="p">{</code><code class="s1">'</code><code class="s1">size</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">small</code><code class="s1">'</code><code class="p">}</code><code class="p">)</code><code>
</code><code class="n">axes</code><code class="p">[</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code><code class="o">.</code><code class="n">set_xlabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Date</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO6-4" href="#callout_visualizing_data_with_matplotlib_CO6-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO6-1" href="#co_visualizing_data_with_matplotlib_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Specifies a subplot grid of three rows by one column.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO6-2" href="#co_visualizing_data_with_matplotlib_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>We want to share x- and y-axes, automatically adjusting limits for easy comparison.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO6-3" href="#co_visualizing_data_with_matplotlib_CO6-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Switch y to row-column and zip the line data, labels, and line colors together.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO6-4" href="#co_visualizing_data_with_matplotlib_CO6-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>Labels the last of the shared x-axes.</p></dd>
</dl></div>

<p>Now that we’ve covered the two ways in which IPython and Matplotlib engage interactively, using the global state (accessed through <code>plt</code>) and the object-oriented API, let’s look at a few of the common plot types you’ll use to explore your datasets.<a data-type="indexterm" data-primary="" data-startref="Foop10" id="idm140319412171520"></a><a data-type="indexterm" data-primary="" data-startref="MLPoop10" id="idm140319412170544"></a><a data-type="indexterm" data-primary="" data-startref="MLPaxes10" id="idm140319412169600"></a></p>

<figure><div id="mpl_subplots" class="figure">
<img src="dvpj_1004.png" alt="dvpj 1004" width="1600" height="1600">
<h6><span class="label">Figure 10-4. </span>Three subplots</h6>
</div></figure>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Plot Types"><div class="sect1" id="idm140319413076992">
<h1>Plot Types</h1>

<p>As well as the line plot just demonstrated, Matplotlib has a number of plot types available. I’ll now demonstrate a few of the ones commonly used in exploratory data visualization.</p>








<section data-type="sect2" data-pdf-bookmark="Bar Charts"><div class="sect2" id="idm140319412165072">
<h2>Bar Charts</h2>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="plot types" data-tertiary="bar charts" id="MPLplotbar10"></a><a data-type="indexterm" data-primary="bar charts (Matplotlib)" id="barharts10"></a>The humble bar chart is a staple for a lot of visual data exploration. As with most of Matplotlib charts, there’s a good deal of customization possible. We’ll now run through a few variants to give you the gist.</p>

<p>The code in <a data-type="xref" href="#mpl_barchart_code">Example 10-5</a> produces the bar chart in <a data-type="xref" href="#mpl_barchart">Figure 10-5</a>. Note that you have to specify your own bar and label locations. This kind of flexibility is beloved by hardcore Matplotlibbers and is pretty easy to get the hang of. Nevertheless, it’s the sort of thing that can get tedious. It’s trivial to write some helper methods here, and there are many libraries that wrap Matplotlib and make things a little more user-friendly. As we’ll see in <a data-type="xref" href="ch11.html#chapter_pandas_exploring">Chapter 11</a>, Panda’s built-in Matplotlib-based plots are quite a bit simpler to use.</p>
<div id="mpl_barchart_code" data-type="example">
<h5><span class="label">Example 10-5. </span>A simple bar chart</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">labels</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s2">"</code><code class="s2">Physics</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Chemistry</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Literature</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Peace</code><code class="s2">"</code><code class="p">]</code><code>
</code><code class="n">foo_data</code><code> </code><code class="o">=</code><code>   </code><code class="p">[</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">]</code><code>
</code><code>
</code><code class="n">bar_width</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.5</code><code>
</code><code class="n">xlocations</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code> </code><code class="o">+</code><code> </code><code class="n">bar_width</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO7-1" href="#callout_visualizing_data_with_matplotlib_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">xlocations</code><code class="p">,</code><code> </code><code class="n">foo_data</code><code class="p">,</code><code> </code><code class="n">width</code><code class="o">=</code><code class="n">bar_width</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">yticks</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">12</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">xticks</code><code class="p">(</code><code class="n">xlocations</code><code class="o">+</code><code class="n">bar_width</code><code class="o">/</code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">labels</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO7-2" href="#callout_visualizing_data_with_matplotlib_CO7-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">xlim</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="n">xlocations</code><code class="p">[</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code><code class="o">+</code><code class="n">bar_width</code><code class="o">*</code><code class="mi">2</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO7-3" href="#callout_visualizing_data_with_matplotlib_CO7-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">title</code><code class="p">(</code><code class="s2">"</code><code class="s2">Prizes won by Fooland</code><code class="s2">"</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">gca</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">get_xaxis</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">tick_bottom</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">gca</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">get_yaxis</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">tick_left</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">gcf</code><code class="p">(</code><code class="p">)</code><code class="o">.</code><code class="n">set_size_inches</code><code class="p">(</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO7-1" href="#co_visualizing_data_with_matplotlib_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Here we create the left-edge bar locations, starting a <code>bar_width</code> points.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO7-2" href="#co_visualizing_data_with_matplotlib_CO7-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>This places tick labels at the middle of the bars.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO7-3" href="#co_visualizing_data_with_matplotlib_CO7-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>We set the x limits to allow for right and left padding of one bar-width.</p></dd>
</dl></div>

<figure><div id="mpl_barchart" class="figure">
<img src="dvpj_1005.png" alt="dvpj 1005" width="1600" height="800">
<h6><span class="label">Figure 10-5. </span>A simple bar chart</h6>
</div></figure>

<p>Bar charts with multiple groups are particularly useful. In <a data-type="xref" href="#mpl_barchart_multi_code">Example 10-6</a>, we add some more country data (for a mythical Barland) and use the <code>subplots</code> method to produce grouped bar charts (see <a data-type="xref" href="#mpl_barchart_multi">Figure 10-6</a>). Once again we specify the bar locations manually, adding two bar groups—this time with <code>ax.bar</code>. Note that our axes’ x-limits are automatically rescaled in a sensible fashion, at increments of 0.5:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">ax</code><code class="o">.</code><code class="n">get_xlim</code><code class="p">()</code>
<code class="c1"># Out: (-0.5, 3.5)</code></pre>

<p>Use the respective setter methods (<code>set_xlim</code>, in this case) if autoscaling doesn’t achieve the desired look.</p>
<div id="mpl_barchart_multi_code" data-type="example">
<h5><span class="label">Example 10-6. </span>Creating a grouped bar chart</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">labels</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s2">"</code><code class="s2">Physics</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Chemistry</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Literature</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">Peace</code><code class="s2">"</code><code class="p">]</code><code>
</code><code class="n">foo_data</code><code> </code><code class="o">=</code><code>   </code><code class="p">[</code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">]</code><code>
</code><code class="n">bar_data</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">]</code><code>
</code><code>
</code><code class="n">fig</code><code class="p">,</code><code> </code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">bar_width</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.4</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO8-1" href="#callout_visualizing_data_with_matplotlib_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">xlocs</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">xlocs</code><code class="o">-</code><code class="n">bar_width</code><code class="p">,</code><code> </code><code class="n">foo_data</code><code class="p">,</code><code> </code><code class="n">bar_width</code><code class="p">,</code><code>
</code><code>       </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">#fde0bc</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Fooland</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO8-2" href="#callout_visualizing_data_with_matplotlib_CO8-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">xlocs</code><code class="p">,</code><code> </code><code class="n">bar_data</code><code class="p">,</code><code> </code><code class="n">bar_width</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">peru</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Barland</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="c1">#--- ticks, labels, grids, and title</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_yticks</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">12</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticks</code><code class="p">(</code><code class="n">ticks</code><code class="o">=</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticklabels</code><code class="p">(</code><code class="n">labels</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">yaxis</code><code class="o">.</code><code class="n">grid</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="s1">'</code><code class="s1">best</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_ylabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Number of prizes</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">suptitle</code><code class="p">(</code><code class="s1">'</code><code class="s1">Prizes by country</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">tight_layout</code><code class="p">(</code><code class="n">pad</code><code class="o">=</code><code class="mi">2</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO8-3" href="#callout_visualizing_data_with_matplotlib_CO8-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">savefig</code><code class="p">(</code><code class="s1">'</code><code class="s1">mpl_barchart_multi.png</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">dpi</code><code class="o">=</code><code class="mi">200</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO8-4" href="#callout_visualizing_data_with_matplotlib_CO8-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO8-1" href="#co_visualizing_data_with_matplotlib_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>With a width of <code>1</code> for our two-bar groups, this bar width gives 0.1 bar padding.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO8-2" href="#co_visualizing_data_with_matplotlib_CO8-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Matplotlib supports standard HTML colors, taking hex values or a name.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO8-3" href="#co_visualizing_data_with_matplotlib_CO8-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>We use the <code>pad</code> argument to specify padding around the figure as a fraction of the font size.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO8-4" href="#co_visualizing_data_with_matplotlib_CO8-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>This saves the figure at the high resolution of 200 dots per inch.</p></dd>
</dl></div>

<figure><div id="mpl_barchart_multi" class="figure">
<img src="dvpj_1006.png" alt="dvpj 1006" width="1600" height="800">
<h6><span class="label">Figure 10-6. </span>Grouped bar charts</h6>
</div></figure>

<p>It’s often useful to use horizontal bars, particularly if there are a lot of them and/or you are using tick labels, which are likely to run into one another if placed on the same line. Turning <a data-type="xref" href="#mpl_barchart_multi">Figure 10-6</a> on its side is easy enough, requiring only that we replace the <code>bar</code> method with its horizontal counterpart <code>barh</code> and switch the axis labels and limits (see <a data-type="xref" href="#mpl_barchart_multi_h">Figure 10-7</a>).</p>
<div id="mpl_barchart_multi_h_code" data-type="example">
<h5><span class="label">Example 10-7. </span>Converting <a data-type="xref" href="#mpl_barchart_multi_code">Example 10-6</a> to horizontal bars</h5>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># ...</code><code>
</code><code class="n">ylocs</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">barh</code><code class="p">(</code><code class="n">ylocs</code><code class="o">-</code><code class="n">width</code><code class="p">,</code><code> </code><code class="n">foo_data</code><code class="p">,</code><code> </code><code class="n">width</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">#fde0bc</code><code class="s1">'</code><code class="p">,</code><code>
</code><code>        </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Fooland</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO9-1" href="#callout_visualizing_data_with_matplotlib_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">barh</code><code class="p">(</code><code class="n">ylocs</code><code class="p">,</code><code> </code><code class="n">bar_data</code><code class="p">,</code><code> </code><code class="n">width</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">peru</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Barland</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="c1"># --- labels, grids, and title, then save</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticks</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">12</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO9-2" href="#callout_visualizing_data_with_matplotlib_CO9-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_yticks</code><code class="p">(</code><code class="n">ticks</code><code class="o">=</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_yticklabels</code><code class="p">(</code><code class="n">labels</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">xaxis</code><code class="o">.</code><code class="n">grid</code><code class="p">(</code><code class="bp">True</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">legend</code><code class="p">(</code><code class="n">loc</code><code class="o">=</code><code class="s1">'</code><code class="s1">best</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xlabel</code><code class="p">(</code><code class="s1">'</code><code class="s1">Number of prizes</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="c1"># ...</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO9-1" href="#co_visualizing_data_with_matplotlib_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>To create a horizontal bar chart, we use <code>barh</code> in place of <code>bar</code>.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO9-2" href="#co_visualizing_data_with_matplotlib_CO9-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>A horizontal chart necessitates swapping the horizontal and vertical axes.</p></dd>
</dl></div>

<figure><div id="mpl_barchart_multi_h" class="figure">
<img src="dvpj_1007.png" alt="dvpj 1007" width="1600" height="800">
<h6><span class="label">Figure 10-7. </span>Turning the bars on their side</h6>
</div></figure>

<p>Stacked bars are easy to achieve in Matplotlib.<sup><a data-type="noteref" id="idm140319411616192-marker" href="ch10.html#idm140319411616192">9</a></sup> <a data-type="xref" href="#mpl_barchart_multi_stack_code">Example 10-8</a> converts <a data-type="xref" href="#mpl_barchart_multi">Figure 10-6</a> to a stacked form; <a data-type="xref" href="#mpl_barchart_multi_stack">Figure 10-8</a> shows the result. The trick is to use the bottom argument to <code>bar</code> to set the bottom of the raised bars as the top of the previous group.</p>
<div id="mpl_barchart_multi_stack_code" data-type="example">
<h5><span class="label">Example 10-8. </span>Converting <a data-type="xref" href="#mpl_barchart_multi_code">Example 10-6</a> to stacked bars</h5>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># ...</code><code>
</code><code class="n">bar_width</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.8</code><code> </code><code class="c1"># bar width</code><code>
</code><code class="n">xlocs</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">arange</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">xlocs</code><code class="p">,</code><code> </code><code class="n">foo_data</code><code class="p">,</code><code> </code><code class="n">bar_width</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">#fde0bc</code><code class="s1">'</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO10-1" href="#callout_visualizing_data_with_matplotlib_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>       </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Fooland</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">bar</code><code class="p">(</code><code class="n">xlocs</code><code class="p">,</code><code> </code><code class="n">bar_data</code><code class="p">,</code><code> </code><code class="n">bar_width</code><code class="p">,</code><code> </code><code class="n">color</code><code class="o">=</code><code class="s1">'</code><code class="s1">peru</code><code class="s1">'</code><code class="p">,</code><code>    </code><a class="co" id="co_visualizing_data_with_matplotlib_CO10-2" href="#callout_visualizing_data_with_matplotlib_CO10-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>       </code><code class="n">label</code><code class="o">=</code><code class="s1">'</code><code class="s1">Barland</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">bottom</code><code class="o">=</code><code class="n">foo_data</code><code class="p">)</code><code>
</code><code class="c1"># --- labels, grids and title, then save</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_yticks</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="mi">18</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticks</code><code class="p">(</code><code class="n">ticks</code><code class="o">=</code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">foo_data</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code> </code><code class="o">+</code><code> </code><code class="n">bar_width</code><code class="o">/</code><code class="mi">2</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xticklabels</code><code class="p">(</code><code class="n">labels</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">set_xlim</code><code class="p">(</code><code class="o">-</code><code class="p">(</code><code class="mi">1</code><code class="o">-</code><code class="n">bar_width</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">xlocs</code><code class="p">[</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code><code class="o">+</code><code class="mi">1</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO10-3" href="#callout_visualizing_data_with_matplotlib_CO10-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="c1"># ...</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO10-1" href="#co_visualizing_data_with_matplotlib_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The <code>foo_data</code> and <code>bar_data</code> bar groups share the same x-locations.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO10-2" href="#co_visualizing_data_with_matplotlib_CO10-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>The bottom of the <code>bar_data</code> group is the top of the <code>foo_data</code>, providing stacked bars.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO10-3" href="#co_visualizing_data_with_matplotlib_CO10-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Sets the x-limits manually, allowing a padding of <code>1-bar_width</code>.</p></dd>
</dl></div>

<figure><div id="mpl_barchart_multi_stack" class="figure">
<img src="dvpj_1008.png" alt="dvpj 1008" width="1600" height="800">
<h6><span class="label">Figure 10-8. </span>Stacked bar chart</h6>
</div></figure>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Scatter Plots"><div class="sect2" id="idm140319412164448">
<h2>Scatter Plots</h2>

<p><a data-type="indexterm" data-primary="" data-startref="barharts10" id="idm140319411392272"></a><a data-type="indexterm" data-primary="" data-startref="MPLplotbar10" id="idm140319411391296"></a><a data-type="indexterm" data-primary="Matplotlib" data-secondary="plot types" data-tertiary="scatter plots" id="MLPplotscatter10"></a><a data-type="indexterm" data-primary="scatter plots (Matplotlib)" id="scatter10"></a>Another useful chart is the scatter plot, which takes 2D arrays of points with options for point size, color, and more.</p>

<p><a data-type="xref" href="#mpl_scatter_code">Example 10-9</a> shows the code for a quick scatter plot, using Matplotlib autoscaling for x and y limits. We create a noisy line by adding normally distributed random numbers (sigma of 10). <a data-type="xref" href="#mpl_scatterplot">Figure 10-9</a> shows the resulting chart.</p>
<div id="mpl_scatter_code" data-type="example">
<h5><span class="label">Example 10-9. </span>A simple scatter plot</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">num_points</code><code> </code><code class="o">=</code><code> </code><code class="mi">100</code><code>
</code><code class="n">gradient</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.5</code><code>
</code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="mi">10</code><code> </code><code class="o">+</code><code> </code><code class="n">x</code><code class="o">*</code><code class="n">gradient</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO11-1" href="#callout_visualizing_data_with_matplotlib_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">fig</code><code class="p">,</code><code> </code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">scatter</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO11-2" href="#callout_visualizing_data_with_matplotlib_CO11-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">suptitle</code><code class="p">(</code><code class="s1">'</code><code class="s1">A Simple Scatterplot</code><code class="s1">'</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO11-1" href="#co_visualizing_data_with_matplotlib_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p><code>randn</code> gives normally distributed random numbers, which we scale to be within 0 and 10 and to which we then add an x-dependent value.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO11-2" href="#co_visualizing_data_with_matplotlib_CO11-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>The equally sized x and y arrays provide the point coordinates.</p></dd>
</dl></div>

<figure><div id="mpl_scatterplot" class="figure">
<img src="dvpj_1009.png" alt="dvpj 1009" width="576" height="288">
<h6><span class="label">Figure 10-9. </span>A simple scatter plot</h6>
</div></figure>

<p>We can adjust the size and color of individual points by passing an array of marker sizes and color indices to the current default colormap. One thing to note, which can be confusing, is that we are specifying the area of the markers’ bounding boxes, not the circles’ diameters. This means if we want points to double the diameter of the circles, we must increase the size by a factor of four.<sup><a data-type="noteref" id="idm140319411297920-marker" href="ch10.html#idm140319411297920">10</a></sup> In <a data-type="xref" href="#mpl_scatter_sc_code">Example 10-10</a>, we add size and color information to our simple scatter plot, producing <a data-type="xref" href="#mpl_scatter_sc">Figure 10-10</a>.</p>
<div id="mpl_scatter_sc_code" data-type="example">
<h5><span class="label">Example 10-10. </span>Adjusting point size and color</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">num_points</code><code> </code><code class="o">=</code><code> </code><code class="mi">100</code><code>
</code><code class="n">gradient</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.5</code><code>
</code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="mi">10</code><code> </code><code class="o">+</code><code> </code><code class="n">x</code><code class="o">*</code><code class="n">gradient</code><code>
</code><code class="n">fig</code><code class="p">,</code><code> </code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">colors</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">rand</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO12-1" href="#callout_visualizing_data_with_matplotlib_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">size</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="mi">2</code><code> </code><code class="o">+</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">rand</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="mi">8</code><code class="p">)</code><code> </code><code class="o">*</code><code class="o">*</code><code> </code><code class="mi">2</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO12-2" href="#callout_visualizing_data_with_matplotlib_CO12-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">scatter</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="n">s</code><code class="o">=</code><code class="n">size</code><code class="p">,</code><code> </code><code class="n">c</code><code class="o">=</code><code class="n">colors</code><code class="p">,</code><code> </code><code class="n">alpha</code><code class="o">=</code><code class="mf">0.5</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO12-3" href="#callout_visualizing_data_with_matplotlib_CO12-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">suptitle</code><code class="p">(</code><code class="s1">'</code><code class="s1">Scatterplot with Color and Size Specified</code><code class="s1">'</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO12-1" href="#co_visualizing_data_with_matplotlib_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>This produces 100 random color values between 0 and 1 for the default colormap.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO12-2" href="#co_visualizing_data_with_matplotlib_CO12-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>We use the power notation <code>**</code> to square values between 2 and 10, the width range for our markers.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO12-3" href="#co_visualizing_data_with_matplotlib_CO12-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>We use the <code>alpha</code> argument to make our markers half-transparent.</p></dd>
</dl></div>

<figure><div id="mpl_scatter_sc" class="figure">
<img src="dvpj_1010.png" alt="dvpj 1010" width="576" height="288">
<h6><span class="label">Figure 10-10. </span>Adjusting point size and color</h6>
</div></figure>
<div data-type="tip"><h1>Matplotlib colormaps</h1>
<p>Matplotlib has a huge variety of colormaps available, the choice of which can significantly improve the quality of your visualization. See <a href="http://matplotlib.org/users/colormaps.html">the colormap docs</a> for details.</p>
</div>










<section data-type="sect3" data-pdf-bookmark="Adding a regression line"><div class="sect3" id="idm140319411100704">
<h3>Adding a regression line</h3>

<p>A regression line is a simple predictive model of the correlation between two variables, in this case the x and y coordinates of our scatter plot. The line is essentially a best fit through the points of the plot, and adding one to a scatter plot is a useful dataviz technique and a good way to demo Matplotlib, NumPy interaction.</p>

<p>In <a data-type="xref" href="#mpl_scatter_regression_code">Example 10-11</a> NumPy’s very useful <code>polyfit</code> function is used to generate the gradient and constant of a best-fit line for the points defined by the x and y arrays. We then plot this line on the same axes as the scatter plot (see <a data-type="xref" href="#mpl_scatter_regression">Figure 10-11</a>).</p>
<div id="mpl_scatter_regression_code" data-type="example">
<h5><span class="label">Example 10-11. </span>Scatter plot with regression line</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">num_points</code><code> </code><code class="o">=</code><code> </code><code class="mi">100</code><code>
</code><code class="n">gradient</code><code> </code><code class="o">=</code><code> </code><code class="mf">0.5</code><code>
</code><code class="n">x</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="nb">range</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">y</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">random</code><code class="o">.</code><code class="n">randn</code><code class="p">(</code><code class="n">num_points</code><code class="p">)</code><code> </code><code class="o">*</code><code> </code><code class="mi">10</code><code> </code><code class="o">+</code><code> </code><code class="n">x</code><code class="o">*</code><code class="n">gradient</code><code>
</code><code class="n">fig</code><code class="p">,</code><code> </code><code class="n">ax</code><code> </code><code class="o">=</code><code> </code><code class="n">plt</code><code class="o">.</code><code class="n">subplots</code><code class="p">(</code><code class="n">figsize</code><code class="o">=</code><code class="p">(</code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">)</code><code class="p">)</code><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">scatter</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">)</code><code>
</code><code class="n">m</code><code class="p">,</code><code> </code><code class="n">c</code><code> </code><code class="o">=</code><code> </code><code class="n">np</code><code class="o">.</code><code class="n">polyfit</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code> </code><code class="p">,</code><code class="mi">1</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO13-1" href="#callout_visualizing_data_with_matplotlib_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">ax</code><code class="o">.</code><code class="n">plot</code><code class="p">(</code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">m</code><code class="o">*</code><code class="n">x</code><code> </code><code class="o">+</code><code> </code><code class="n">c</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO13-2" href="#callout_visualizing_data_with_matplotlib_CO13-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">fig</code><code class="o">.</code><code class="n">suptitle</code><code class="p">(</code><code class="s1">'</code><code class="s1">Scatterplot With Regression-line</code><code class="s1">'</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO13-1" href="#co_visualizing_data_with_matplotlib_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>We use NumPy’s <code>polyfit</code> in 1D to get a line gradient (<code>m</code>) and constant (<code>c</code>) for a best-fit line through our random points.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO13-2" href="#co_visualizing_data_with_matplotlib_CO13-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Use the gradient and constant to plot a line on the scatter plot’s axes (<code>y</code> = <code>mx</code> + <code>c</code>).</p></dd>
</dl></div>

<figure><div id="mpl_scatter_regression" class="figure">
<img src="dvpj_1011.png" alt="dvpj 1011" width="576" height="288">
<h6><span class="label">Figure 10-11. </span>Scatter plot with regression line</h6>
</div></figure>

<p>It’s generally a good idea to plot confidence intervals when doing line regression. This gives an idea of how reliable the line fit is, based on the number and distribution of the points. Confidence intervals can be achieved with Matplotlib and NumPy, but it is a little awkward. Luckily, there is a library built on Matplotlib that has extra, specialized functions for statistical analysis and data visualization and, in the opinion of many, looks a lot better than Matplotlib’s defaults. That library is Seaborn, which we are going to take a quick look at now.<a data-type="indexterm" data-primary="" data-startref="scatter10" id="idm140319410911936"></a><a data-type="indexterm" data-primary="" data-startref="MLPplotscatter10" id="idm140319410910960"></a></p>
</div></section>



</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Seaborn"><div class="sect1" id="mpl_seaborn">
<h1>Seaborn</h1>

<p><a data-type="indexterm" data-primary="Matplotlib" data-secondary="Seaborn library for" id="MLPseaborn10"></a><a data-type="indexterm" data-primary="Matplotlib" data-secondary="ggplot library for" id="idm140319411057184"></a><a data-type="indexterm" data-primary="ggplot library" id="idm140319411056240"></a><a data-type="indexterm" data-primary="Bokeh" id="idm140319411055568"></a>There are a number of libraries that wrap the powerful plotting abilities of Matplotlib in a more user-friendly guise<sup><a data-type="noteref" id="idm140319411054640-marker" href="ch10.html#idm140319411054640">11</a></sup> and, as important for us data visualizers, play nicely with Pandas:</p>

<ul>
<li>
<p><a href="https://github.com/yhat/ggplot"><em>ggplot</em></a> is a Python port of R’s highly rated <em>ggplot2</em>. While it’s a very good stab, replicating a lot of the functionality of <em>ggplot2</em>, its development seems quite intermittent.</p>
</li>
<li>
<p><a href="http://bokeh.pydata.org/en/latest/"><em>Bokeh</em></a> is an interactive visualization library with the Web in mind, producing browser-rendered output and therefore playing very nicely with IPython Notebook. It’s a great achievement, with a design philosophy similar to D3’s.<sup><a data-type="noteref" id="idm140319411049536-marker" href="ch10.html#idm140319411049536">12</a></sup></p>
</li>
</ul>

<p><a data-type="indexterm" data-primary="Statsmodels library" id="idm140319411047936"></a><a data-type="indexterm" data-primary="SciPy (Sciency Python) library" data-secondary="Seaborn library and" id="idm140319411047232"></a><a data-type="indexterm" data-primary="Seaborn library" data-secondary="benefits of" id="idm140319411046320"></a>But for the kind of interactive, exploratory dataviz necessary to get a feel for your data and suggest visualizations, I recommend <a href="http://stanford.edu/~mwaskom/software/seaborn/index.html">Seaborn</a>. Seaborn extends Matplotlib with some powerful statistical plots and is well integrated with the PyData stack, playing nicely with NumPy, Pandas, and the statistical routines found in Scipy and  <a href="http://statsmodels.sourceforge.net/stable/">Statsmodels</a>.</p>

<p>One of the nice things about Seaborn is that it doesn’t hide the Matplotlib API, allowing you to tweak your charts with Matplotlib’s extensive tools. In this sense, it’s not a replacement for Matplotlib and the relevant skills, but a very impressive extension.</p>

<p><a data-type="indexterm" data-primary="Seaborn library" data-secondary="working with" id="SBwork10"></a>To work with Seaborn, simply extend your standard Matplotlib imports:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code> <code class="nn">numpy</code> <code class="kn">as</code> <code class="nn">np</code>
<code class="kn">import</code> <code class="nn">pandas</code> <code class="kn">as</code> <code class="nn">pd</code>
<code class="kn">import</code> <code class="nn">seaborn</code> <code class="kn">as</code> <code class="nn">sns</code> <code class="c1"># relies on matplotlib</code>
<code class="kn">import</code> <code class="nn">matplotlib</code> <code class="kn">as</code> <code class="nn">mpl</code>
<code class="kn">import</code> <code class="nn">matplotlib.pyplot</code> <code class="kn">as</code> <code class="nn">plt</code></pre>

<p>Many of Seaborn’s functions are designed to accept a Pandas <code>DataFrame</code>, allowing you to specify, for example, the column values describing 2D scattered points. Let’s take our existing x and y arrays from <a data-type="xref" href="#mpl_scatter_code">Example 10-9</a> and use them to make some dummy data.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">data</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">({</code><code class="s1">'dummy x'</code><code class="p">:</code><code class="n">x</code><code class="p">,</code> <code class="s1">'dummy y'</code><code class="p">:</code><code class="n">y</code><code class="p">})</code></pre>

<p>We now have some <code>data</code> with columns of x (<code>'dummy_x'</code>) and y (<code>'dummy_y'</code>) values. <a data-type="xref" href="#mpl_scatter_seaborn_code">Example 10-12</a> demonstrates the use of Seaborn’s dedicated linear regression plot <code>lmplot</code>, which produces the chart in <a data-type="xref" href="#mpl_scatter_seaborn">Figure 10-12</a>. Note that for some Seaborn plots, to adjust figure size we pass a size (height) in inches and an aspect ratio (width/height). Note also that Seaborn shares <code>pyplot</code>’s global <span class="keep-together">context</span>.</p>
<div id="mpl_scatter_seaborn_code" data-type="example">
<h5><span class="label">Example 10-12. </span>Linear regression plot with Seaborn</h5>

<pre data-type="programlisting" data-code-language="python"><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">dummy x</code><code class="s1">'</code><code class="p">:</code><code class="n">x</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">dummy y</code><code class="s1">'</code><code class="p">:</code><code class="n">y</code><code class="p">}</code><code class="p">)</code><code>
</code><code class="n">sns</code><code class="o">.</code><code class="n">lmplot</code><code class="p">(</code><code class="s1">'</code><code class="s1">dummy x</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">dummy y</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">data</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO14-1" href="#callout_visualizing_data_with_matplotlib_CO14-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>           </code><code class="n">size</code><code class="o">=</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">aspect</code><code class="o">=</code><code class="mi">2</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO14-2" href="#callout_visualizing_data_with_matplotlib_CO14-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">tight_layout</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO14-3" href="#callout_visualizing_data_with_matplotlib_CO14-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">plt</code><code class="o">.</code><code class="n">savefig</code><code class="p">(</code><code class="s1">'</code><code class="s1">mpl_scatter_seaborn.png</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO14-4" href="#callout_visualizing_data_with_matplotlib_CO14-3"><img src="3.png" alt="3" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO14-1" href="#co_visualizing_data_with_matplotlib_CO14-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The first two arguments specify the column names of <code>DataFrame</code> data, which define the coordinates of the plot points.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO14-2" href="#co_visualizing_data_with_matplotlib_CO14-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>To set figure size, we provide the height in inches and an aspect ratio of width/height.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO14-3" href="#co_visualizing_data_with_matplotlib_CO14-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Seaborn shares the <code>pyplot</code> global context, allowing you to save its plots as you would Matplotlib’s.</p></dd>
</dl></div>

<figure><div id="mpl_scatter_seaborn" class="figure">
<img src="dvpj_1012.png" alt="dvpj 1012" width="1600" height="800">
<h6><span class="label">Figure 10-12. </span>Linear regression plot with Seaborn</h6>
</div></figure>

<p>As you would expect from a library that places an emphasis on attractive-looking plots, Seaborn allows a lot of visual customization. Let’s make a few changes to the look of <a data-type="xref" href="#mpl_scatter_seaborn">Figure 10-12</a>  and adjust the confidence interval to the <a href="https://en.wikipedia.org/wiki/Standard_error">standard error</a> estimate of 68% (see <a data-type="xref" href="#mpl_scatter_seaborn_custom">Figure 10-13</a> for the result):</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">sns</code><code class="o">.</code><code class="n">lmplot</code><code class="p">(</code><code class="s1">'</code><code class="s1">dummy x</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">dummy y</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">data</code><code class="p">,</code><code> </code><code class="n">size</code><code class="o">=</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">aspect</code><code class="o">=</code><code class="mi">2</code><code class="p">,</code><code>
</code><code>           </code><code class="n">scatter_kws</code><code class="o">=</code><code class="p">{</code><code class="s2">"</code><code class="s2">color</code><code class="s2">"</code><code class="p">:</code><code> </code><code class="s2">"</code><code class="s2">slategray</code><code class="s2">"</code><code class="p">}</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO15-1" href="#callout_visualizing_data_with_matplotlib_CO15-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>           </code><code class="n">line_kws</code><code class="o">=</code><code class="p">{</code><code class="s2">"</code><code class="s2">linewidth</code><code class="s2">"</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">linestyle</code><code class="s2">"</code><code class="p">:</code><code class="s1">'</code><code class="s1">--</code><code class="s1">'</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO15-2" href="#callout_visualizing_data_with_matplotlib_CO15-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>                     </code><code class="s2">"</code><code class="s2">color</code><code class="s2">"</code><code class="p">:</code><code> </code><code class="s2">"</code><code class="s2">seagreen</code><code class="s2">"</code><code class="p">}</code><code class="p">,</code><code>
</code><code>           </code><code class="n">markers</code><code class="o">=</code><code class="s1">'</code><code class="s1">D</code><code class="s1">'</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO15-3" href="#callout_visualizing_data_with_matplotlib_CO15-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code>           </code><code class="n">ci</code><code class="o">=</code><code class="mi">68</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO15-4" href="#callout_visualizing_data_with_matplotlib_CO15-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO15-1" href="#co_visualizing_data_with_matplotlib_CO15-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Provide the scatter plot component’s keyword arguments, setting our points’ color to slate gray.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO15-2" href="#co_visualizing_data_with_matplotlib_CO15-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Provide the line plot component’s  keyword arguments, setting line width and style.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO15-3" href="#co_visualizing_data_with_matplotlib_CO15-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Sets the plot markers to diamonds using Matplotlib marker code <em>D</em>.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO15-4" href="#co_visualizing_data_with_matplotlib_CO15-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>We set a confidence interval of 68%, the standard error <span class="keep-together">estimate</span>.</p></dd>
</dl>

<figure><div id="mpl_scatter_seaborn_custom" class="figure">
<img src="dvpj_1013.png" alt="dvpj 1013" width="1600" height="800">
<h6><span class="label">Figure 10-13. </span>Customizing the Seaborn scatter plot</h6>
</div></figure>

<p>Seaborn offers a number of useful plots beyond Matplotlib’s basic set. Let’s take a look at one of the most interesting, using Seaborn’s <code>FacetGrid</code> to plot reflections of multidimensional data.<a data-type="indexterm" data-primary="" data-startref="SBwork10" id="idm140319410559152"></a></p>








<section data-type="sect2" data-pdf-bookmark="FacetGrids"><div class="sect2" id="idm140319410558176">
<h2>FacetGrids</h2>

<p><a data-type="indexterm" data-primary="Seaborn library" data-secondary="FacetGrids in" id="SBLfacet10"></a><a data-type="indexterm" data-primary="FacetGrids (Seaborn)" id="facet10"></a><a data-type="indexterm" data-primary="lattice plots" id="idm140319410554416"></a><a data-type="indexterm" data-primary="trellis plots" id="idm140319410553808"></a>Often referred to as “lattice” or “trellis” plotting, the ability to draw multiple instances of the same plot on different subsets of your dataset is a good way to get a bird’s-eye view of your data. Large amounts of information can be presented in one plot, and relationships between the different dimensions can be quickly apprehended. This technique is related to the <a href="https://en.wikipedia.org/wiki/Small_multiple">small multiples</a> popularized by Edward Tufte.</p>

<p><code>FacetGrid</code>s require the data to be in the form of a Pandas <code>DataFrame</code> (see <a data-type="xref" href="ch08.html#pandas_objects">“The DataFrame”</a>) and in a form referred to by Hadley Whickam, creator of ggplot, as “tidy,” meaning each column in the <code>DataFrame</code> should be a variable and each row an observation.</p>

<p>Let’s use Tips, one of Seaborn’s test datasets,<sup><a data-type="noteref" id="idm140319410549392-marker" href="ch10.html#idm140319410549392">13</a></sup> to show a <code>FacetGrid</code> in action. Tips is a small set of data showing the distribution of tips by various dimensions, such as day of the week or whether the customer was a smoker. First let’s load our Tips dataset into a Pandas <code>DataFrame</code> using the <code>load_dataset</code> method:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">0</code><code class="p">]:</code> <code class="n">tips</code> <code class="o">=</code> <code class="n">sns</code><code class="o">.</code><code class="n">load_dataset</code><code class="p">(</code><code class="s1">'tips'</code><code class="p">)</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">0</code><code class="p">]:</code>
     <code class="n">total_bill</code>   <code class="n">tip</code>     <code class="n">sex</code> <code class="n">smoker</code>   <code class="n">day</code>    <code class="n">time</code>  <code class="n">size</code>
<code class="mi">0</code>         <code class="mf">16.99</code>  <code class="mf">1.01</code>  <code class="n">Female</code>     <code class="n">No</code>   <code class="n">Sun</code>  <code class="n">Dinner</code>     <code class="mi">2</code>
<code class="mi">1</code>         <code class="mf">10.34</code>  <code class="mf">1.66</code>    <code class="n">Male</code>     <code class="n">No</code>   <code class="n">Sun</code>  <code class="n">Dinner</code>     <code class="mi">3</code>
<code class="mi">2</code>         <code class="mf">21.01</code>  <code class="mf">3.50</code>    <code class="n">Male</code>     <code class="n">No</code>   <code class="n">Sun</code>  <code class="n">Dinner</code>     <code class="mi">3</code>
<code class="mi">3</code>         <code class="mf">23.68</code>  <code class="mf">3.31</code>    <code class="n">Male</code>     <code class="n">No</code>   <code class="n">Sun</code>  <code class="n">Dinner</code>     <code class="mi">2</code>
<code class="o">...</code></pre>

<p>To create a <code>FacetGrid</code>, we specify the <code>tips</code> <code>DataFrame</code> and a column of interest, such as the smoking status of the customer. This column will be used to create our plot groups; in this case, <code>'smoker=Yes'</code> and <code>'smoker=No'</code>.  We then use the grid’s <code>map</code> method to create multiple scatter plots of tip size against total bill.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">g</code><code> </code><code class="o">=</code><code> </code><code class="n">sns</code><code class="o">.</code><code class="n">FacetGrid</code><code class="p">(</code><code class="n">tips</code><code class="p">,</code><code> </code><code class="n">col</code><code class="o">=</code><code class="s2">"</code><code class="s2">smoker</code><code class="s2">"</code><code class="p">)</code><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">map</code><code class="p">(</code><code class="n">plt</code><code class="o">.</code><code class="n">scatter</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">total_bill</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">tip</code><code class="s2">"</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO16-1" href="#callout_visualizing_data_with_matplotlib_CO16-1"><img src="1.png" alt="1" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO16-1" href="#co_visualizing_data_with_matplotlib_CO16-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p><code>map</code> takes a plot class, in this case <code>scatter</code>, and two (<code>tips</code>) dimensions required for this scatter plot.</p></dd>
</dl>

<p>This produces the two scatter plots shown in <a data-type="xref" href="#mpl_facetgrid_1">Figure 10-14</a>, one for each smoker status, with tips and total bills correlated.</p>

<figure><div id="mpl_facetgrid_1" class="figure">
<img src="dvpj_1014.png" alt="dvpj 1014" width="576" height="288">
<h6><span class="label">Figure 10-14. </span>A Seaborn FacetGrid using scatter plots</h6>
</div></figure>

<p>We can include another dimension of the <code>tips</code> data by specifying the marker to be used in our scatter plots. Let’s make it a red diamond for females and a blue square for males:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pal</code><code> </code><code class="o">=</code><code> </code><code class="nb">dict</code><code class="p">(</code><code class="n">Female</code><code class="o">=</code><code class="s1">'</code><code class="s1">red</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">Male</code><code class="o">=</code><code class="s1">'</code><code class="s1">blue</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">g</code><code> </code><code class="o">=</code><code> </code><code class="n">sns</code><code class="o">.</code><code class="n">FacetGrid</code><code class="p">(</code><code class="n">tips</code><code class="p">,</code><code> </code><code class="n">col</code><code class="o">=</code><code class="s2">"</code><code class="s2">smoker</code><code class="s2">"</code><code class="p">,</code><code>
</code><code>                  </code><code class="n">hue</code><code class="o">=</code><code class="s2">"</code><code class="s2">sex</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">hue_kws</code><code class="o">=</code><code class="p">{</code><code class="s2">"</code><code class="s2">marker</code><code class="s2">"</code><code class="p">:</code><code> </code><code class="p">[</code><code class="s2">"</code><code class="s2">D</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">s</code><code class="s2">"</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO17-1" href="#callout_visualizing_data_with_matplotlib_CO17-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>                  </code><code class="n">palette</code><code class="o">=</code><code class="n">pal</code><code class="p">,</code><code> </code><code class="n">size</code><code class="o">=</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">aspect</code><code class="o">=</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="p">)</code><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">map</code><code class="p">(</code><code class="n">plt</code><code class="o">.</code><code class="n">scatter</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">total_bill</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">tip</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">alpha</code><code class="o">=</code><code class="o">.</code><code class="mi">4</code><code class="p">)</code><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">add_legend</code><code class="p">(</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO17-1" href="#co_visualizing_data_with_matplotlib_CO17-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Adds a marker color (<code>hue</code>) for the <code>sex</code> dimension with diamond (<code>D</code>) and square (<code>s</code>) shapes, and uses our color palette (<code>pal</code>) to make them red and blue.</p></dd>
</dl>

<figure><div id="mpl_facetgrid_2" class="figure">
<img src="dvpj_1015.png" alt="dvpj 1015" width="646" height="288">
<h6><span class="label">Figure 10-15. </span>Scatter plot with diamond and square markers for sex</h6>
</div></figure>

<p>We can use rows as well as columns to create subsets of the data by dimension. Combining the two allows, with the help of a <code>regplot</code>,<sup><a data-type="noteref" id="idm140319410277248-marker" href="ch10.html#idm140319410277248">14</a></sup> five dimensions to be explored:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pal</code><code> </code><code class="o">=</code><code> </code><code class="nb">dict</code><code class="p">(</code><code class="n">Female</code><code class="o">=</code><code class="s1">'</code><code class="s1">red</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">Male</code><code class="o">=</code><code class="s1">'</code><code class="s1">blue</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">g</code><code> </code><code class="o">=</code><code> </code><code class="n">sns</code><code class="o">.</code><code class="n">FacetGrid</code><code class="p">(</code><code class="n">tips</code><code class="p">,</code><code> </code><code class="n">col</code><code class="o">=</code><code class="s2">"</code><code class="s2">smoker</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">row</code><code class="o">=</code><code class="s2">"</code><code class="s2">time</code><code class="s2">"</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO18-1" href="#callout_visualizing_data_with_matplotlib_CO18-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>                  </code><code class="n">hue</code><code class="o">=</code><code class="s2">"</code><code class="s2">sex</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">hue_kws</code><code class="o">=</code><code class="p">{</code><code class="s2">"</code><code class="s2">marker</code><code class="s2">"</code><code class="p">:</code><code> </code><code class="p">[</code><code class="s2">"</code><code class="s2">D</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">s</code><code class="s2">"</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code>
</code><code>                  </code><code class="n">palette</code><code class="o">=</code><code class="n">pal</code><code class="p">,</code><code> </code><code class="n">size</code><code class="o">=</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">aspect</code><code class="o">=</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="p">)</code><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">map</code><code class="p">(</code><code class="n">sns</code><code class="o">.</code><code class="n">regplot</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">total_bill</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">tip</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">alpha</code><code class="o">=</code><code class="o">.</code><code class="mi">4</code><code class="p">)</code><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">add_legend</code><code class="p">(</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO18-1" href="#co_visualizing_data_with_matplotlib_CO18-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Adds a time row to separate tips by lunch and dinner.</p></dd>
</dl>

<p><a data-type="xref" href="#mpl_facetgrid_tips3">Figure 10-16</a> shows four <code>regplot</code>s producing a linear-regression model fit with confidence intervals for Female and Male hue-groups. The plot titles show the data subset being used, each row having the same time and smoker status.</p>

<figure><div id="mpl_facetgrid_tips3" class="figure">
<img src="dvpj_1016.png" alt="dvpj 1016" width="646" height="576">
<h6><span class="label">Figure 10-16. </span>Visualizing five dimensions</h6>
</div></figure>

<p>We can achieve the same effect using the <code>lmplot</code> we saw in <a data-type="xref" href="#mpl_scatter_seaborn_code">Example 10-12</a>, which wraps the functionality of <code>FacetGrid</code> and <code>regplot</code> for convenience. The following code produces <a data-type="xref" href="#mpl_facetgrid_tips3">Figure 10-16</a>.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pal</code><code> </code><code class="o">=</code><code> </code><code class="nb">dict</code><code class="p">(</code><code class="n">Female</code><code class="o">=</code><code class="s1">'</code><code class="s1">red</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">Male</code><code class="o">=</code><code class="s1">'</code><code class="s1">blue</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">sns</code><code class="o">.</code><code class="n">lmplot</code><code class="p">(</code><code class="n">x</code><code class="o">=</code><code class="s2">"</code><code class="s2">total_bill</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">y</code><code class="o">=</code><code class="s2">"</code><code class="s2">tip</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">hue</code><code class="o">=</code><code class="s2">"</code><code class="s2">sex</code><code class="s2">"</code><code class="p">,</code><code>\
</code><code class="n">markers</code><code class="o">=</code><code class="p">[</code><code class="s2">"</code><code class="s2">D</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">s</code><code class="s2">"</code><code class="p">]</code><code class="p">,</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO19-1" href="#callout_visualizing_data_with_matplotlib_CO19-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>           </code><code class="n">col</code><code class="o">=</code><code class="s2">"</code><code class="s2">smoker</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">row</code><code class="o">=</code><code class="s2">"</code><code class="s2">time</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="n">data</code><code class="o">=</code><code class="n">tips</code><code class="p">,</code><code> </code><code class="n">palette</code><code class="o">=</code><code class="n">pal</code><code class="p">,</code><code>
</code><code>           </code><code class="n">size</code><code class="o">=</code><code class="mi">4</code><code class="p">,</code><code> </code><code class="n">aspect</code><code class="o">=</code><code class="mi">1</code><code>
</code><code>           </code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO19-1" href="#co_visualizing_data_with_matplotlib_CO19-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Note the use of a <code>markers</code> keyword as opposed to the <code>kws_hue</code> dictionary we used with the <code>FacetGrid</code> plot.</p></dd>
</dl>

<p><code>lmplot</code> offers a nice shortcut to producing <code>FacetGrid</code> <code>regplot</code>s, but <code>FacetGrid</code>’s <code>map</code> allows you to use the full panoply of Seaborn and Matplotlib charts to create plots on dimensional subsets. It’s a very powerful technique and a great way to drill down into your data.<a data-type="indexterm" data-primary="" data-startref="facet10" id="idm140319409997456"></a><a data-type="indexterm" data-primary="" data-startref="SBLfacet10" id="idm140319409996480"></a></p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Pairgrids"><div class="sect2" id="idm140319410557264">
<h2>Pairgrids</h2>

<p><a data-type="indexterm" data-primary="Seaborn library" data-secondary="Pairgrids" id="SLpairgrid10"></a><a data-type="indexterm" data-primary="Pairgrids (Seaborn)" id="pairgrids10"></a>Pairgrids are another rather cool Seaborn plot type that provide a way to quickly assess multidimensional data. Unlike with <code>FacetGrid</code>s, you don’t divide the dataset into subsets that are then compared by designated dimensions. With Pairgrids, the dataset’s dimensions are all compared pair-wise in a square grid. By default all dimensions are compared, but you can specify which ones get plotted by providing a list to the <code>vars</code> parameter when declaring the Pairgrid.<sup><a data-type="noteref" id="idm140319409951408-marker" href="ch10.html#idm140319409951408">15</a></sup></p>

<p>Let’s demonstrate the utility of this pair-wise comparison by using the classic Iris dataset, showing some vital statistics for a set containing members of three Iris species. First we’ll load the example <span class="keep-together">dataset</span>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">0</code><code class="p">]:</code> <code class="n">iris</code> <code class="o">=</code> <code class="n">sns</code><code class="o">.</code><code class="n">load_dataset</code><code class="p">(</code><code class="s1">'iris'</code><code class="p">)</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="n">iris</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">1</code><code class="p">]:</code>
   <code class="n">sepal_length</code> <code class="n">sepal_width</code>  <code class="n">petal_length</code>  <code class="n">petal_width</code>  <code class="n">species</code>
<code class="mi">0</code>           <code class="mf">5.1</code>         <code class="mf">3.5</code>           <code class="mf">1.4</code>          <code class="mf">0.2</code>   <code class="n">setosa</code>
<code class="mi">1</code>           <code class="mf">4.9</code>         <code class="mf">3.0</code>           <code class="mf">1.4</code>          <code class="mf">0.2</code>   <code class="n">setosa</code>
<code class="mi">2</code>           <code class="mf">4.7</code>         <code class="mf">3.2</code>           <code class="mf">1.3</code>          <code class="mf">0.2</code>   <code class="n">setosa</code>
<code class="o">...</code></pre>

<p>To capture the relationship between petal and sepal dimensions by species, we first create a <code>PairGrid</code> object, set its hue to <code>species</code>, and then use its mapping methods to create plots on and off the diagonal of the pair-wise grid, producing the charts in <a data-type="xref" href="#mpl_pairgrid_iris">Figure 10-17</a>.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">sns</code><code class="o">.</code><code class="n">set</code><code class="p">(</code><code class="n">font_scale</code><code class="o">=</code><code class="mf">1.5</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO20-1" href="#callout_visualizing_data_with_matplotlib_CO20-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">g</code><code> </code><code class="o">=</code><code> </code><code class="n">sns</code><code class="o">.</code><code class="n">PairGrid</code><code class="p">(</code><code class="n">iris</code><code class="p">,</code><code> </code><code class="n">hue</code><code class="o">=</code><code class="s2">"</code><code class="s2">species</code><code class="s2">"</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO20-2" href="#callout_visualizing_data_with_matplotlib_CO20-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">map_diag</code><code class="p">(</code><code class="n">plt</code><code class="o">.</code><code class="n">hist</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO20-3" href="#callout_visualizing_data_with_matplotlib_CO20-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">map_offdiag</code><code class="p">(</code><code class="n">plt</code><code class="o">.</code><code class="n">scatter</code><code class="p">)</code><code> </code><a class="co" id="co_visualizing_data_with_matplotlib_CO20-4" href="#callout_visualizing_data_with_matplotlib_CO20-4"><img src="4.png" alt="4" width="12" height="12"></a><code>
</code><code class="n">g</code><code class="o">.</code><code class="n">add_legend</code><code class="p">(</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO20-1" href="#co_visualizing_data_with_matplotlib_CO20-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Tweaks the font size using Seaborn’s <code>set</code> method (see <a href="http://stanford.io/1V2gP6m">here</a> to see the full list of available tweaks.)</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO20-2" href="#co_visualizing_data_with_matplotlib_CO20-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Sets the markers and subbars to be colored by species.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO20-3" href="#co_visualizing_data_with_matplotlib_CO20-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Places histograms of the species’ dimensions on the grid’s <span class="keep-together">diagonal</span>.</p></dd>
<dt><a class="co" id="callout_visualizing_data_with_matplotlib_CO20-4" href="#co_visualizing_data_with_matplotlib_CO20-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>Uses standard scatter plots to compare the dimensions of the diagonal.</p></dd>
</dl>

<p>As you can see in <a data-type="xref" href="#mpl_pairgrid_iris">Figure 10-17</a>, a few lines of Seaborn goes a long way in creating a richly informative set of plots correlating the different Iris metrics. This plot is known as a <a href="http://bit.ly/1XuexDu">scatter-plot matrix</a> and is a great way of finding linear correlations between pairs of variables in a multivariate set. As it stands, there is redundancy in the grid: for example, plots for <code>sepal_width-petal_length</code> and <code>petal_length-septal_width</code>. <code>PairGrid</code> gives you the opportunity to use the redundant plots above or below the main diagonal to provide a different reflection of the data. Check out some of the examples <a href="http://stanford.io/1YydS2V">at the Seaborn docs</a> for more info.<sup><a data-type="noteref" id="idm140319409796656-marker" href="ch10.html#idm140319409796656">16</a></sup></p>

<p>I’ve covered a few of the Seaborn plots in this section, and you’ll be seeing a few more when we explore our Nobel Prize dataset in the next chapter. But Seaborn has a lot of other very handy and very powerful plotting tools, mainly of a statistical nature. For further investigation,  I’d recommend starting with the <a href="http://stanford.io/28L8ezk">main Seaborn documentation</a>. There are some nice examples, a well-documented API, and some good tutorials that should complement what you’ve learned in this chapter.<a data-type="indexterm" data-primary="" data-startref="MLPseaborn10" id="idm140319409793968"></a><a data-type="indexterm" data-primary="" data-startref="SLpairgrid10" id="idm140319409793024"></a><a data-type="indexterm" data-primary="" data-startref="pairgrids10" id="idm140319409792080"></a></p>

<figure><div id="mpl_pairgrid_iris" class="figure">
<img src="dvpj_1017.png" alt="dvpj 1017" width="982" height="864">
<h6><span class="label">Figure 10-17. </span>Pairgrid summation of Iris measures</h6>
</div></figure>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="idm140319410909424">
<h1>Summary</h1>

<p>This chapter introduced Matplotlib, Python’s plotting powerhouse. It’s a big, mature library with lots of documentation and an active community. If you have a particular customization in mind, chances are there’s an example out there somewhere. I’d recommend firing up IPython Qt or Notebook (now called <a href="http://jupyter.org">Jupyter Notebook</a>) and playing around with a dataset.</p>

<p>We saw how Seaborn extends Matplotlib with some useful statistical methods and that it has what many consider to be superior aesthetics. It also allows access to the Matplotlib figure and axes internals, allowing full customization if required.</p>

<p>In the next chapter we’ll use Matplotlib along with Pandas to explore our freshly scraped and cleaned Nobel dataset. We’ll use some of the plot types demonstrated in this chapter and see a few useful new ones.</p>
</div></section>







<div data-type="footnotes"><p data-type="footnote" id="idm140319413951696"><sup><a href="ch10.html#idm140319413951696-marker">1</a></sup> If you have errors trying to start a GUI session, try changing the backend setting (e.g., if using OS X and <code>%matplotlib qt</code> doesn’t work, try <code>%matplotlib osx</code>).</p><p data-type="footnote" id="idm140319413856720"><sup><a href="ch10.html#idm140319413856720-marker">2</a></sup> IPython has a large number of such functions to enable a whole slew of useful extras to the vanilla Python interpreter. Check them out <a href="https://ipython.org/ipython-doc/dev/interactive/tutorial.html">on the IPython website</a>.</p><p data-type="footnote" id="idm140319413848384"><sup><a href="ch10.html#idm140319413848384-marker">3</a></sup> This was inspired by <a href="http://uk.mathworks.com/products/matlab/">Matlab</a>.</p><p data-type="footnote" id="idm140319413496288"><sup><a href="ch10.html#idm140319413496288-marker">4</a></sup> See <a href="http://bit.ly/1ZWTG9X">the docs</a> for more details.</p><p data-type="footnote" id="idm140319413435312"><sup><a href="ch10.html#idm140319413435312-marker">5</a></sup> See <a href="http://bit.ly/1YyaMMr">the Matplotlib website</a> for details.</p><p data-type="footnote" id="idm140319413251968"><sup><a href="ch10.html#idm140319413251968-marker">6</a></sup> As well as providing many formats, it also understands <a href="https://www.latex-project.org/">LaTex</a> math mode, which means you can use mathematical symbols in the titles, legends, and the like. This is one of the reasons Matplotlib is much beloved by academics, as it is quite capable of journal-quality images.</p><p data-type="footnote" id="idm140319413277872"><sup><a href="ch10.html#idm140319413277872-marker">7</a></sup> More details are available on the <a href="http://matplotlib.org/users/tight_layout_guide.html">Matplotlib website</a>.</p><p data-type="footnote" id="idm140319412813136"><sup><a href="ch10.html#idm140319412813136-marker">8</a></sup> The handy <code>tight_layout</code> option assumes grid-layout subplots.</p><p data-type="footnote" id="idm140319411616192"><sup><a href="ch10.html#idm140319411616192-marker">9</a></sup> It’s questionable whether stacked bar charts are a particularly good way of appreciating groups of data. See <a href="http://bit.ly/1V2dG6B">Solomon Messing’s blog</a> for a nice discussion and one example of “good” use.</p><p data-type="footnote" id="idm140319411297920"><sup><a href="ch10.html#idm140319411297920-marker">10</a></sup> Setting marker size, rather than width or radius, is actually a good default, making it proportional to whatever value we are trying to reflect.</p><p data-type="footnote" id="idm140319411054640"><sup><a href="ch10.html#idm140319411054640-marker">11</a></sup> It’s generally agreed that Matplotlib’s defaults aren’t that great and making them better is an easy win for any wrapper.</p><p data-type="footnote" id="idm140319411049536"><sup><a href="ch10.html#idm140319411049536-marker">12</a></sup> Both D3 and Bokeh tip their hats to the classic visualization text, Leland Wilkinson’s <em>The Grammar of Graphics</em> (Springer).</p><p data-type="footnote" id="idm140319410549392"><sup><a href="ch10.html#idm140319410549392-marker">13</a></sup> Seaborn has a number of handy datasets, which you can find <a href="https://github.com/mwaskom/seaborn-data">on GitHub</a>.</p><p data-type="footnote" id="idm140319410277248"><sup><a href="ch10.html#idm140319410277248-marker">14</a></sup> <code>regplot</code> is equivalent to <code>lmplot</code>, used in <a data-type="xref" href="#mpl_scatter_seaborn_code">Example 10-12</a>. The latter combines <code>regplot</code> and <code>FacetGrid</code> for convenience.</p><p data-type="footnote" id="idm140319409951408"><sup><a href="ch10.html#idm140319409951408-marker">15</a></sup> There are also <code>x_vars</code> and <code>y_vars</code> parameters enabling you to specify nonsquare grids.</p><p data-type="footnote" id="idm140319409796656"><sup><a href="ch10.html#idm140319409796656-marker">16</a></sup> There are some nice D3 examples of scatter-plot matrices at the <a href="https://bl.ocks.org/mbostock/3213173">bl.ocks.org site</a>.</p></div></div></section></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch09.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">9. Cleaning Data with Pandas</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch11.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">11. Exploring Data with Pandas</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      <div id="js-subscribe-nag" class="subscribe-nag clearfix trial-panel t-subscribe-nag">
        
        
          
          

          
            <p>You have 7 days left in your trial, Flankpeter. Subscribe today. <a href="/subscribe/" class="ga-active-trial-subscribe-nag">See pricing options.</a></p>
          
        
        

      </div>

    
    



        
      </div>
      




  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>
      
        <li><a class="t-recommendations-footer" href="/r/">Recommended</a></li>
      
      <li>
      
      <a class="t-queue-footer" href="/playlists/">Playlists</a>
      
      </li>
      
        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>
      
      
        <li><a class="t-tutorials-footer" href="/tutorials/">Tutorials</a></li>
      
      <li><a class="t-settings-footer js-settings" href="/u/">Settings</a></li>
      <li class="full-support"><a href="https://www.safaribooksonline.com/public/support">Support</a></li>
      <li><a href="https://www.safaribooksonline.com/apps/">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2018 <a href="https://www.safaribooksonline.com" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="/privacy/">Privacy Policy</a>
  </footer>




    

    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
