<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch02.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch02.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch02.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch02.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9781491920565"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>2. A Language-Learning Bridge Between Python and JavaScript - Data Visualization with Python and JavaScript</title><link rel="stylesheet" href="/static/CACHE/css/a04cd81b09cd.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.ef38b0457d7b.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td,#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content canvas,#sbo-rt-content details,#sbo-rt-content embed,#sbo-rt-content figure,#sbo-rt-content figcaption,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content output,#sbo-rt-content ruby,#sbo-rt-content section,#sbo-rt-content summary,#sbo-rt-content time,#sbo-rt-content mark,#sbo-rt-content audio,#sbo-rt-content video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content details,#sbo-rt-content figcaption,#sbo-rt-content figure,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content section{display:block}#sbo-rt-content div{line-height:1}#sbo-rt-content ol,#sbo-rt-content ul{list-style:none}#sbo-rt-content blockquote,#sbo-rt-content q{quotes:none}#sbo-rt-content blockquote:before,#sbo-rt-content blockquote:after,#sbo-rt-content q:before,#sbo-rt-content q:after{content:none}#sbo-rt-content table{border-collapse:collapse;border-spacing:0}@page{margin:5px !important}#sbo-rt-content p{margin:10px 0 0;line-height:125%;text-align:left}#sbo-rt-content p.byline{text-align:left;margin:-33px auto 35px;font-style:italic;font-weight:bold}#sbo-rt-content div.preface p+p.byline{margin:1em 0 0}#sbo-rt-content div.preface p.byline+p.byline{margin:0}#sbo-rt-content div.sect1>p.byline{margin:-.25em 0 1em}#sbo-rt-content div.sect1>p.byline+p.byline{margin-top:-1em}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link,#sbo-rt-content a{text-decoration:none;color:#8e0012}#sbo-rt-content span.lineannotation{font-style:italic;color:#a62a2a;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#fff}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important;margin-bottom:30px !important}#sbo-rt-content section[data-type="sect1"] h1{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content section[data-type="sect2"] h2{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content section[data-type="sect3"] h3{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content section[data-type="sect4"] h4{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section[data-type="chapter"]>div>h1,#sbo-rt-content section[data-type="preface"]>div>h1,#sbo-rt-content section[data-type="appendix"]>div>h1,#sbo-rt-content section[data-type="glossary"]>div>h1,#sbo-rt-content section[data-type="bibliography"]>div>h1,#sbo-rt-content section[data-type="index"]>div>h1{font-size:2em;line-height:1;margin-bottom:50px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content span.label,#sbo-rt-content span.keep-together{font-size:inherit;font-weight:inherit}#sbo-rt-content div[data-type="part"] h1{font-size:2em;text-align:center;margin-top:0 !important;margin-bottom:50px;padding:50px 0 10px 0;border-bottom:1px solid #000}#sbo-rt-content img.width-ninety{width:90%}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center !important;margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content figure{margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content div.figure h6{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding-top:10px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center !important;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:15px 0 10px 0 !important;border:1px solid #DCDCDC;background-color:#F7F7F7;padding:15px !important;page-break-inside:avoid}#sbo-rt-content aside[data-type="sidebar"]{margin:15px 0 10px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title,#sbo-rt-content aside[data-type="sidebar"] h5{font-weight:bold;font-size:1em;font-family:sans-serif;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar ol,#sbo-rt-content div.sidebar ul,#sbo-rt-content aside[data-type="sidebar"] ol,#sbo-rt-content aside[data-type="sidebar"] ul{margin-left:1.25em !important}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content aside[data-type="sidebar"] figcaption,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div[data-type="tip"],#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div[data-type="note"],#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div[data-type="warning"],#sbo-rt-content div.sidebar div[data-type="caution"],#sbo-rt-content div.sidebar div[data-type="important"]{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content aside[data-type="sidebar"] p.byline{font-size:90%;font-weight:bold;font-style:italic;text-align:center;text-indent:0;margin:5px auto 6px;page-break-after:avoid}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div[data-type="example"]{margin:10px 0 15px 0 !important}#sbo-rt-content div[data-type="example"] h1,#sbo-rt-content div[data-type="example"] h2,#sbo-rt-content div[data-type="example"] h3,#sbo-rt-content div[data-type="example"] h4,#sbo-rt-content div[data-type="example"] h5,#sbo-rt-content div[data-type="example"] h6{font-style:italic;font-weight:normal;text-align:left !important;text-transform:none !important;font-family:serif !important;margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div[data-type="example"] pre[data-type="programlisting"],#sbo-rt-content div[data-type="example"] pre[data-type="screen"]{margin:0}#sbo-rt-content section[data-type="titlepage"]>div>h1{font-size:2em;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content section[data-type="titlepage"] h2,#sbo-rt-content section[data-type="titlepage"] p.subtitle,#sbo-rt-content section[data-type="titlepage"] p[data-type="subtitle"]{font-size:1.3em;font-weight:normal;text-align:center;margin-top:.5em;color:#555}#sbo-rt-content section[data-type="titlepage"]>div>h2[data-type="author"],#sbo-rt-content section[data-type="titlepage"] p.author{font-size:1.3em;font-family:serif !important;font-weight:bold;margin:50px 0 !important;text-align:center}#sbo-rt-content section[data-type="titlepage"] p.edition{text-align:center;text-transform:uppercase;margin-top:2em}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]>div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content ul.stafflist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.stafflist li{list-style-type:none;padding:5px 0}#sbo-rt-content ul.printings li{list-style-type:none}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif !important;font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif !important;margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10px}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif !important}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;margin:.75em 0 0 !important}#sbo-rt-content blockquote div.attribution,#sbo-rt-content blockquote p[data-type="attribution"]{margin:5px 0 10px 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p,#sbo-rt-content blockquote p[data-type="attribution"]{font-style:normal;margin-top:5px}#sbo-rt-content blockquote div.attribution p:before,#sbo-rt-content blockquote p[data-type="attribution"]:before{font-style:normal;content:"—";-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div[data-type="footnotes"]{border-top:1px solid black;margin-top:1.5em}#sbo-rt-content sub,#sbo-rt-content sup{font-size:75%;line-height:0;position:relative}#sbo-rt-content sup{top:-.5em}#sbo-rt-content sub{bottom:-.25em}#sbo-rt-content div.refentry p.refname{font-size:1em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin-bottom:5px;overflow:auto;width:100%}#sbo-rt-content div.refentry{width:100%;display:block;margin-top:2em}#sbo-rt-content div.refsynopsisdiv{display:block;clear:both}#sbo-rt-content div.refentry header{page-break-inside:avoid !important;display:block;break-inside:avoid !important;padding-top:0;border-bottom:1px solid #000}#sbo-rt-content div.refsect1 h6{font-size:.9em;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content div.refsect1{margin-top:3em}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dd{margin-left:1.5em !important;margin-bottom:.25em}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ul{list-style-type:disc}#sbo-rt-content ul ul{list-style-type:square}#sbo-rt-content ul ul ul{list-style-type:circle}#sbo-rt-content ol{list-style-type:decimal}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ol ul{list-style-type:disc}#sbo-rt-content ol ul ol{list-style-type:decimal}#sbo-rt-content ul ol{list-style-type:decimal}#sbo-rt-content ul ol ul{list-style-type:disc}#sbo-rt-content ol,#sbo-rt-content ul{list-style-position:outside;margin:15px 0 15px 1.25em}#sbo-rt-content ol li,#sbo-rt-content ul li{margin:.5em 0 .65em;line-height:125%}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist,#sbo-rt-content ul.simplelist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.simplelist li{list-style-type:none;padding:5px 0}#sbo-rt-content table.simplelist td{border:none}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content dl.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content dl.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content dl.calloutlist img,#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol>li>ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol>li>ol>li>ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"],#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{margin:30px !important;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip ol,#sbo-rt-content div.tip ul,#sbo-rt-content div[data-type="tip"] ol,#sbo-rt-content div[data-type="tip"] ul,#sbo-rt-content div.note ol,#sbo-rt-content div.note ul,#sbo-rt-content div[data-type="note"] ol,#sbo-rt-content div[data-type="note"] ul,#sbo-rt-content div.warning ol,#sbo-rt-content div.warning ul,#sbo-rt-content div[data-type="warning"] ol,#sbo-rt-content div[data-type="warning"] ul,#sbo-rt-content div[data-type="caution"] ol,#sbo-rt-content div[data-type="caution"] ul,#sbo-rt-content div[data-type="important"] ol,#sbo-rt-content div[data-type="important"] ul{margin-left:1.5em !important}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"]{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="note"] h1,#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1,#sbo-rt-content div[data-type="important"] h6{font-weight:bold;font-size:110%;font-family:sans-serif !important;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div[data-type="note"] h1{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="important"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note,#sbo-rt-content div.safarienabled{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3,#sbo-rt-content div.safarienabled h6{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px 0 30px 0 !important;max-width:95%;border:none !important;background:none;display:table !important}#sbo-rt-content div.table,#sbo-rt-content div.informaltable,#sbo-rt-content table{page-break-inside:avoid}#sbo-rt-content tr,#sbo-rt-content tr td{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td,#sbo-rt-content thead th{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{display:table-cell;padding:.3em;text-align:left;vertical-align:middle;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title,#sbo-rt-content table caption{font-weight:normal;font-style:italic;font-family:serif;font-size:1em;margin:10px 0 10px 0 !important;padding:0;page-break-after:avoid;text-align:left !important}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation,#sbo-rt-content div[data-type="equation"]{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title,#sbo-rt-content div[data-type="equation"] h5{font-style:italic;font-weight:normal;font-family:serif !important;font-size:90%;margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{text-indent:0}#sbo-rt-content div.index li{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content div.index ul,#sbo-rt-content div[data-type="index"] ul{list-style-type:none;padding-left:0;margin-left:0}#sbo-rt-content div.index ul li{padding-left:0;margin-left:0}#sbo-rt-content div.index ul li ul li{margin-left:1em}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif;text-align:left}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content span.gray{color:#4C4C4C}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9781491920565/chapter/ch02.html",
          "book_id": "9781491920565",
          "chapter_uri": "ch02.html",
          "position": 0,
          "user_uuid": "fee1bd59-4e02-48a4-a7b4-152ec4c157ac",
          "next_chapter_uri": "/library/view/data-visualization-with/9781491920565/ch03.html"
        
      },
      title: "Data Visualization with Python and JavaScript",
      author_list: "Kyran Dale",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false,
      show_ios_app_teaser: false
    };
    // ]]></script><script src="/static/js/src/modernizr.js"></script><script>
    
      
       window.PUBLIC_ANNOTATIONS = false;
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

    
      window.PRIVACY_CONTROL_SWITCH = true;
    

    
      window.PUBLISHER_PAGES = true;
    

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "https://www.safaribooksonline.com/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://www.safaribooksonline.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html"/><meta name="description" content=" Chapter 2. A Language-Learning Bridge Between Python and JavaScript Probably the most ambitious aspect of this book is that it deals with two programming languages. Moreover, it only requires that ... "><meta property="og:title" content="2. A Language-Learning Bridge Between Python and JavaScript" /><meta itemprop="isPartOf" content="/library/view/data-visualization-with/9781491920565/" /><meta itemprop="name" content="2. A Language-Learning Bridge Between Python and JavaScript" /><meta property="og:url" itemprop="url" content="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://www.safaribooksonline.com/library/cover/9781491920565/" /><meta property="og:description" itemprop="description" content=" Chapter 2. A Language-Learning Bridge Between Python and JavaScript Probably the most ambitious aspect of this book is that it deals with two programming languages. Moreover, it only requires that ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="O&#39;Reilly Media, Inc." /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9781491920510" /><meta property="og:book:author" itemprop="author" content="Kyran Dale" /><meta property="og:book:tag" itemprop="about" content="JavaScript" /><meta property="og:book:tag" itemprop="about" content="Python" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><script>
    window.ENABLE_BOWERBIRD_COLLECTIONS = true;
  </script><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }

  
    ga('create', 'UA-39299553-7', {'userId': 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac' });
  

  
    
      ga('set', 'dimension1', 'Trial');
    
  

  ga('set', 'dimension6', user_uuid);

  
    ga('set', 'dimension2', 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac');
    
  

  

  

  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
  </script><script defer src="/static/js/build/vendor.e2e622a103f9.js"></script><script defer src="/static/js/build/reader.84feb506aa44.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>
  



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        





<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>Safari Home Icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 9.9L4 9.9 4 18 16 18 16 9.9 10 4 4 9.9ZM2.6 8.1L2.6 8.1 8.7 1.9 10 0.5 11.3 1.9 17.4 8.1 18 8.7 18 9.5 18 18.1 18 20 16.1 20 3.9 20 2 20 2 18.1 2 9.5 2 8.7 2.6 8.1Z"/><rect x="10" y="12" width="3" height="7"/><rect transform="translate(18.121320, 10.121320) rotate(-315.000000) translate(-18.121320, -10.121320) " x="16.1" y="9.1" width="4" height="2"/><rect transform="translate(2.121320, 10.121320) scale(-1, 1) rotate(-315.000000) translate(-2.121320, -10.121320) " x="0.1" y="9.1" width="4" height="2"/></g></svg><span>Safari Home</span></a></li><li><a href="/r/" class="t-recommendations-nav l0 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recommendations icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M50 25C50 18.2 44.9 12.5 38.3 11.7 37.5 5.1 31.8 0 25 0 18.2 0 12.5 5.1 11.7 11.7 5.1 12.5 0 18.2 0 25 0 31.8 5.1 37.5 11.7 38.3 12.5 44.9 18.2 50 25 50 31.8 50 37.5 44.9 38.3 38.3 44.9 37.5 50 31.8 50 25ZM25 3.1C29.7 3.1 33.6 6.9 34.4 11.8 30.4 12.4 26.9 15.1 25 18.8 23.1 15.1 19.6 12.4 15.6 11.8 16.4 6.9 20.3 3.1 25 3.1ZM34.4 15.6C33.6 19.3 30.7 22.2 27.1 22.9 27.8 19.2 30.7 16.3 34.4 15.6ZM22.9 22.9C19.2 22.2 16.3 19.3 15.6 15.6 19.3 16.3 22.2 19.2 22.9 22.9ZM3.1 25C3.1 20.3 6.9 16.4 11.8 15.6 12.4 19.6 15.1 23.1 18.8 25 15.1 26.9 12.4 30.4 11.8 34.4 6.9 33.6 3.1 29.7 3.1 25ZM22.9 27.1C22.2 30.7 19.3 33.6 15.6 34.4 16.3 30.7 19.2 27.8 22.9 27.1ZM25 46.9C20.3 46.9 16.4 43.1 15.6 38.2 19.6 37.6 23.1 34.9 25 31.3 26.9 34.9 30.4 37.6 34.4 38.2 33.6 43.1 29.7 46.9 25 46.9ZM27.1 27.1C30.7 27.8 33.6 30.7 34.4 34.4 30.7 33.6 27.8 30.7 27.1 27.1ZM38.2 34.4C37.6 30.4 34.9 26.9 31.3 25 34.9 23.1 37.6 19.6 38.2 15.6 43.1 16.4 46.9 20.3 46.9 25 46.9 29.7 43.1 33.6 38.2 34.4Z"/></g></svg><span>Recommended</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
                 Playlists
              </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/tutorials/" class="l1 nav-icn t-tutorials-nav js-toggle-menu-item None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>tutorials icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.8 18.2C15.8 18.2 15.9 18.2 16 18.2 16.1 18.2 16.2 18.2 16.4 18.2 16.5 18.2 16.7 18.1 16.9 18 17 17.9 17.1 17.8 17.2 17.7 17.3 17.6 17.4 17.5 17.4 17.4 17.5 17.2 17.6 16.9 17.6 16.7 17.6 16.6 17.6 16.5 17.6 16.4 17.5 16.2 17.5 16.1 17.4 15.9 17.3 15.8 17.2 15.6 17 15.5 16.8 15.3 16.6 15.3 16.4 15.2 16.2 15.2 16 15.2 15.8 15.2 15.7 15.2 15.5 15.3 15.3 15.4 15.2 15.4 15.1 15.5 15 15.7 14.9 15.8 14.8 15.9 14.7 16 14.7 16.1 14.6 16.3 14.6 16.4 14.6 16.5 14.6 16.6 14.6 16.6 14.6 16.7 14.6 16.9 14.6 17 14.6 17.1 14.7 17.3 14.7 17.4 14.8 17.6 15 17.7 15.1 17.9 15.2 18 15.3 18 15.5 18.1 15.5 18.1 15.6 18.2 15.7 18.2 15.7 18.2 15.7 18.2 15.8 18.2L15.8 18.2ZM9.4 11.5C9.5 11.5 9.5 11.5 9.6 11.5 9.7 11.5 9.9 11.5 10 11.5 10.2 11.5 10.3 11.4 10.5 11.3 10.6 11.2 10.8 11.1 10.9 11 10.9 10.9 11 10.8 11.1 10.7 11.2 10.5 11.2 10.2 11.2 10 11.2 9.9 11.2 9.8 11.2 9.7 11.2 9.5 11.1 9.4 11 9.2 10.9 9.1 10.8 8.9 10.6 8.8 10.5 8.7 10.3 8.6 10 8.5 9.9 8.5 9.7 8.5 9.5 8.5 9.3 8.5 9.1 8.6 9 8.7 8.8 8.7 8.7 8.8 8.6 9 8.5 9.1 8.4 9.2 8.4 9.3 8.2 9.5 8.2 9.8 8.2 10 8.2 10.1 8.2 10.2 8.2 10.3 8.2 10.5 8.3 10.6 8.4 10.7 8.5 10.9 8.6 11.1 8.7 11.2 8.9 11.3 9 11.4 9.1 11.4 9.2 11.4 9.3 11.5 9.3 11.5 9.3 11.5 9.4 11.5 9.4 11.5L9.4 11.5ZM3 4.8C3.1 4.8 3.1 4.8 3.2 4.8 3.4 4.8 3.5 4.8 3.7 4.8 3.8 4.8 4 4.7 4.1 4.6 4.3 4.5 4.4 4.4 4.5 4.3 4.6 4.2 4.6 4.1 4.7 4 4.8 3.8 4.8 3.5 4.8 3.3 4.8 3.1 4.8 3 4.8 2.9 4.7 2.8 4.7 2.6 4.6 2.5 4.5 2.3 4.4 2.2 4.2 2.1 4 1.9 3.8 1.9 3.6 1.8 3.5 1.8 3.3 1.8 3.1 1.8 2.9 1.8 2.7 1.9 2.6 2 2.4 2.1 2.3 2.2 2.2 2.3 2.1 2.4 2 2.5 2 2.6 1.8 2.8 1.8 3 1.8 3.3 1.8 3.4 1.8 3.5 1.8 3.6 1.8 3.8 1.9 3.9 2 4 2.1 4.2 2.2 4.4 2.4 4.5 2.5 4.6 2.6 4.7 2.7 4.7 2.8 4.7 2.9 4.8 2.9 4.8 3 4.8 3 4.8 3 4.8L3 4.8ZM13.1 15.2C13.2 15.1 13.2 15.1 13.2 15.1 13.3 14.9 13.4 14.7 13.6 14.5 13.8 14.2 14.1 14 14.4 13.8 14.7 13.6 15.1 13.5 15.5 13.4 15.9 13.4 16.3 13.4 16.7 13.5 17.2 13.5 17.6 13.7 17.9 13.9 18.2 14.1 18.5 14.4 18.7 14.7 18.9 15 19.1 15.3 19.2 15.6 19.3 15.9 19.4 16.1 19.4 16.4 19.4 17 19.3 17.5 19.1 18.1 19 18.3 18.9 18.5 18.7 18.7 18.5 19 18.3 19.2 18 19.4 17.7 19.6 17.3 19.8 16.9 19.9 16.6 20 16.3 20 16 20 15.8 20 15.6 20 15.4 19.9 15.4 19.9 15.4 19.9 15.4 19.9 15.2 19.9 15 19.8 14.9 19.8 14.8 19.7 14.7 19.7 14.6 19.7 14.4 19.6 14.3 19.5 14.1 19.3 13.7 19.1 13.4 18.7 13.2 18.4 13.1 18.1 12.9 17.8 12.9 17.5 12.8 17.3 12.8 17.1 12.8 16.9L3.5 14.9C3.3 14.9 3.1 14.8 3 14.8 2.7 14.7 2.4 14.5 2.1 14.3 1.7 14 1.4 13.7 1.2 13.3 1 13 0.9 12.6 0.8 12.3 0.7 12 0.7 11.7 0.7 11.4 0.7 11 0.8 10.5 1 10.1 1.1 9.8 1.3 9.5 1.6 9.2 1.8 8.9 2.1 8.7 2.4 8.5 2.8 8.3 3.2 8.1 3.6 8.1 3.9 8 4.2 8 4.5 8 4.6 8 4.8 8 4.9 8.1L6.8 8.5C6.8 8.4 6.8 8.4 6.8 8.4 6.9 8.2 7.1 8 7.2 7.8 7.5 7.5 7.7 7.3 8 7.1 8.4 6.9 8.7 6.8 9.1 6.7 9.5 6.7 10 6.7 10.4 6.8 10.8 6.8 11.2 7 11.5 7.2 11.8 7.5 12.1 7.7 12.4 8 12.6 8.3 12.7 8.6 12.8 8.9 12.9 9.2 13 9.4 13 9.7 13 9.7 13 9.8 13 9.8 13.6 9.9 14.2 10.1 14.9 10.2 15 10.2 15 10.2 15.1 10.2 15.3 10.2 15.4 10.2 15.6 10.2 15.8 10.1 16 10 16.2 9.9 16.4 9.8 16.5 9.6 16.6 9.5 16.8 9.2 16.9 8.8 16.9 8.5 16.9 8.3 16.9 8.2 16.8 8 16.8 7.8 16.7 7.7 16.6 7.5 16.5 7.3 16.3 7.2 16.2 7.1 16 7 15.9 6.9 15.8 6.9 15.7 6.9 15.6 6.8 15.5 6.8L6.2 4.8C6.2 5 6 5.2 5.9 5.3 5.7 5.6 5.5 5.8 5.3 6 4.9 6.2 4.5 6.4 4.1 6.5 3.8 6.6 3.5 6.6 3.2 6.6 3 6.6 2.8 6.6 2.7 6.6 2.6 6.6 2.6 6.5 2.6 6.5 2.5 6.5 2.3 6.5 2.1 6.4 1.8 6.3 1.6 6.1 1.3 6 1 5.7 0.7 5.4 0.5 5 0.3 4.7 0.2 4.4 0.1 4.1 0 3.8 0 3.6 0 3.3 0 2.8 0.1 2.2 0.4 1.7 0.5 1.5 0.7 1.3 0.8 1.1 1.1 0.8 1.3 0.6 1.6 0.5 2 0.3 2.3 0.1 2.7 0.1 3.1 0 3.6 0 4 0.1 4.4 0.2 4.8 0.3 5.1 0.5 5.5 0.8 5.7 1 6 1.3 6.2 1.6 6.3 1.9 6.4 2.3 6.5 2.5 6.6 2.7 6.6 3 6.6 3 6.6 3.1 6.6 3.1 9.7 3.8 12.8 4.4 15.9 5.1 16.1 5.1 16.2 5.2 16.4 5.2 16.7 5.3 16.9 5.5 17.2 5.6 17.5 5.9 17.8 6.2 18.1 6.5 18.3 6.8 18.4 7.2 18.6 7.5 18.6 7.9 18.7 8.2 18.7 8.6 18.7 9 18.6 9.4 18.4 9.8 18.3 10.1 18.2 10.3 18 10.6 17.8 10.9 17.5 11.1 17.3 11.3 16.9 11.6 16.5 11.8 16 11.9 15.7 12 15.3 12 15 12 14.8 12 14.7 12 14.5 11.9 13.9 11.8 13.3 11.7 12.6 11.5 12.5 11.7 12.4 11.9 12.3 12 12.1 12.3 11.9 12.5 11.7 12.7 11.3 12.9 10.9 13.1 10.5 13.2 10.2 13.3 9.9 13.3 9.6 13.3 9.4 13.3 9.2 13.3 9 13.2 9 13.2 9 13.2 9 13.2 8.8 13.2 8.7 13.2 8.5 13.1 8.2 13 8 12.8 7.7 12.6 7.4 12.4 7.1 12 6.8 11.7 6.7 11.4 6.6 11.1 6.5 10.8 6.4 10.6 6.4 10.4 6.4 10.2 5.8 10.1 5.2 9.9 4.5 9.8 4.4 9.8 4.4 9.8 4.3 9.8 4.1 9.8 4 9.8 3.8 9.8 3.6 9.9 3.4 10 3.2 10.1 3 10.2 2.9 10.4 2.8 10.5 2.6 10.8 2.5 11.1 2.5 11.5 2.5 11.6 2.5 11.8 2.6 12 2.6 12.1 2.7 12.3 2.8 12.5 2.9 12.6 3.1 12.8 3.2 12.9 3.3 13 3.5 13.1 3.6 13.1 3.7 13.1 3.8 13.2 3.9 13.2L13.1 15.2 13.1 15.2Z"/></g></svg><span>Tutorials</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/fee1bd59-4e02-48a4-a7b4-152ec4c157ac/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" version="1.1" fill="#4A3C31"><desc>highlights icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13.325 18.071L8.036 18.071C8.036 11.335 12.36 7.146 22.5 5.594L22.5 0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35 15.545 35 19.578 31.485 19.578 26.184 19.578 21.556 17.211 18.891 13.325 18.071L13.325 18.071ZM40.825 18.071L35.565 18.071C35.565 11.335 39.86 7.146 50 5.594L50 0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35 43.045 35 47.078 31.485 47.078 26.184 47.078 21.556 44.74 18.891 40.825 18.071L40.825 18.071Z"/></g></svg><span>Highlights</span></a></li><li><a href="/u/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.safaribooksonline.com/public/support" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a><span class="l2 t-nag-notification"  id="nav-nag" ><strong class="trial-green">7</strong> days left in your trial.
  
  

  
    
      

<a class="" href="/subscribe/">Subscribe</a>.


    
  

  

</span></li><li><a href="https://www.safaribooksonline.com/public/support" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>


      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Data Visualization with Python and JavaScript
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9781491920565/chapter/ch02.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html&text=Data%20Visualization%20with%20Python%20and%20JavaScript&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 2.%20A%20Language-Learning%20Bridge%20Between%20Python%20and%20JavaScript&body=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch02.html%0D%0Afrom Data%20Visualization%20with%20Python%20and%20JavaScript%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    <section role="document">
        
        



 <!--[if lt IE 9]>
  
<![endif]-->



  <script defer src="/static/js/build/djangoMessagesPage.893631b34e7a.js"></script>


        
	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/part01.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">I. Basic Toolkit</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch03.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">3. Reading and Writing Data with Python</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 2. A Language-Learning Bridge Between Python and JavaScript"><div class="chapter" id="chapter_language_bridge">
<h1><span class="label">Chapter 2. </span>A Language-Learning Bridge Between Python and JavaScript</h1>


<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="overview of" id="idm140319456500144"></a><a data-type="indexterm" data-primary="Python" data-secondary="vs. JavaScript" data-see="language-learning bridge" data-secondary-sortas="JavaScript" id="idm140319456499200"></a><a data-type="indexterm" data-primary="JavaScript" data-secondary="vs. Python" data-see="language-learning bridge" data-secondary-sortas="JavaScript" id="idm140319456497744"></a>Probably the most ambitious aspect of this book is that it deals with two
programming languages. Moreover, it only requires that you are competent in one of
these languages. This is only possible because Python and JavaScript (JS)
are fairly simple languages with much in common. The aim of this chapter is to
draw out those commonalities and use them to make a learning bridge between the two languages
such that core skills acquired in one can easily be applied to the
other.</p>

<p>After showing the key similarities and differences between the two languages,
I’ll show how to set up a learning environment for Python and JS. The bulk of the
chapter will then
deal with core syntactical and conceptual differences, followed by a selection of patterns and idioms that I use often while
doing data visualization work.</p>






<section data-type="sect1" class="pagebreak-before" data-pdf-bookmark="Similarities and Differences"><div class="sect1" id="idm140319456494800">
<h1>Similarities and Differences</h1>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="language similarities" id="idm140319456493120"></a>Syntax differences aside, Python and JavaScript actually have a lot in common. After a short while, switching between them can be almost seamless.<sup><a data-type="noteref" id="idm140319456491792-marker" href="ch02.html#idm140319456491792">1</a></sup> Let’s compare the two from a data visualizer’s <span class="keep-together">perspective</span>:</p>

<p>These are the chief similarities:</p>

<ul>
<li>
<p>They both work without needing a compilation step (i.e., they are interpreted).</p>
</li>
<li>
<p>You can use both with an interactive interpreter, which means you can type in lines of code and see the results right away.</p>
</li>
<li>
<p>Both have garbage collection.</p>
</li>
<li>
<p>Neither language has header files, package boilerplate, and so on.</p>
</li>
<li>
<p>Both are primarily developed with a text editor—not an IDE.</p>
</li>
<li>
<p>In both, functions are first-class citizens, which can be passed as arguments.</p>
</li>
</ul>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="language differences" id="idm140319456481568"></a>These are the key differences:</p>

<ul>
<li>
<p>Possibly the biggest difference is that JavaScript is <a href="http://bit.ly/1tADn8E">single-threaded and non-blocking</a>, using asynchronous I/O. This means that simple things like file access involve the use of a callback function.</p>
</li>
<li>
<p>JS is used essentially in web development and until very recently was browser-bound,<sup><a data-type="noteref" id="idm140319456477552-marker" href="ch02.html#idm140319456477552">2</a></sup> but Python is used almost everywhere.</p>
</li>
<li>
<p>JS is the only first-class language in web browsers, Python being excluded.</p>
</li>
<li>
<p>Python has a comprehensive standard library, whereas JS has a limited set of utility objects (e.g., JSON, Math).</p>
</li>
<li>
<p>Python has fairly classical object-oriented classes, whereas JS uses prototypes.</p>
</li>
<li>
<p>JS lacks general-purpose data-processing libs.<sup><a data-type="noteref" id="idm140319456472496-marker" href="ch02.html#idm140319456472496">3</a></sup></p>
</li>
</ul>

<p>The differences here emphasize the need for this book to be
bi-lingual. JavaScript’s monopoly of browser dataviz needs the complement of a
conventional data-processing stack. And Python has the best there is.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Interacting with the Code"><div class="sect1" id="idm140319456470960">
<h1>Interacting with the Code</h1>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="code access" id="idm140319456469792"></a>One of the great advantages of Python and JavaScript is that because they are
interpreted on the fly, you can interact with them. Python’s interpreter can be
run from the command line, whereas JavaScript’s is generally accessed from the
web browser through a console, usually available from the built-in development
tools. In this section, we’ll see how to fire up a session with the interpreter and start trying out your code.</p>








<section data-type="sect2" data-pdf-bookmark="Python"><div class="sect2" id="idm140319456468096">
<h2>Python</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="code interaction (Python)" id="idm140319456466688"></a><a data-type="indexterm" data-primary="IPython" data-secondary="interpreter" id="idm140319456465568"></a>By far, the best Python interpreter is <a href="http://ipython.org/">IPython</a>, which comes in three shades: the basic terminal version, an enhanced graphical version, and a Notebook. The Notebook is a wonderful and fairly recent innovation, providing a browser-based interactive computational environment. There
are pros and cons to the different versions. The command line is fastest to
scratch a problematic itch but lacks some bells and whistles, particularly
embedded plotting courtesy of <a href="http://matplotlib.org/"><em>Matplotlib</em></a> and friends. The makes it suboptimal
for <a href="http://pandas.pydata.org/"><em>Pandas</em>-based data-processing</a> and data visualization work. Of the other two,
both are better for multiline coding (e.g., trying out functions) than the basic
interpreter, but I find the graphical Qt console more intuitive, having a familiar
    command line rather than executable cells.<sup><a data-type="noteref" id="idm140319455618400-marker" href="ch02.html#idm140319455618400">4</a></sup> The great boon of the Notebook is
session persistence and the possibility of web access.<sup><a data-type="noteref" id="idm140319455616912-marker" href="ch02.html#idm140319455616912">5</a></sup> The ease with which one can share programming sessions, complete with embedded data visualizations, makes the Notebook a fantastic teaching tool as well as a great way to recover programming context.</p>

<p>You can start them at the command line like this:</p>

<pre data-type="programlisting">$ ipython [qt | notebook]</pre>

<p>Options can be empty for the basic command-line interpreter, <code>-qt</code> for a Qt-based graphical version, and <code>-notebook</code> for the browser-based Notebook.
You can use any of the three IPython alternatives for this section, but for serious interactive data processing, I generally find myself gravitating to the Qt console for sketches or the Notebook if I anticipate an extensive project.</p>

<p>The IPython notebook has recently been spun into <a href="http://jupyter.org">Project Jupyter</a>. A Jupyter notebook can be started from the command line with:</p>

<pre data-type="programlisting">$ jupyter notebook</pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="JavaScript"><div class="sect2" id="bridge_js_interact">
<h2>JavaScript</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="code interaction (JavaScript)" id="idm140319455609520"></a><a data-type="indexterm" data-primary="JSBin" id="idm140319455608512"></a><a data-type="indexterm" data-primary="D3.js" id="idm140319455607840"></a>There are lots of options for trying out JavaScript code without starting a server, though the latter isn’t that difficult. Because the JavaScript interpreter comes embedded in all modern web browsers, there are a number of sites that let you try out bits of JavaScript along with HTML and CSS and see the results. <a href="https://jsbin.com"><em>JSBin</em></a> is a good option. These sites are great for sharing code and trying out snippets, and usually allow you to add libraries such as <em>D3.js</em>.</p>

<p>If you want to try out code one-liners or quiz the state of live code, browser-based consoles are your best bet. With Chrome, you can access the console with the key combo Ctrl-Shift-J. As well as trying little JS snippets, the console allows you to drill down into any objects in scope, revealing their methods and properties. This is a great way to quiz the state of a live object and search for bugs.</p>

<p>One disadvantage of using online JavaScript editors is losing the power of your
favorite editing environment, with linting, familiar keyboard shortcuts, and the
like (see <a data-type="xref" href="ch04.html#chapter_webdev101">Chapter 4</a>). Online editors tend to be rudimentary, to say
the least. If you anticipate an extensive JavaScript session and want to use
your favorite editor, the best bet is to run a local server.</p>

<p>First, create a project directory—called <em>sandpit</em>, for example—and add a minimal HTML file that includes a JS script:</p>

<pre data-type="programlisting" data-code-language="bash">sandpit
├── index.html
└── script.js</pre>

<p>The <em>index.html</em> file need only be a few lines long, with an optional <code>div</code> placeholder on which to start building your visualization or just trying out a little DOM manipulation.</p>

<pre data-type="programlisting" data-code-language="html"><code class="c">&lt;!-- index.html --&gt;</code>
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;meta</code> <code class="na">charset=</code><code class="s">"utf-8"</code><code class="nt">&gt;</code>

<code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'viz'</code><code class="nt">&gt;&lt;/div&gt;</code>

<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/javascript"</code> <code class="na">src=</code><code class="s">"script.js"</code> <code class="na">async</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p>You can then add a little JavaScript to your <em>script.js</em> file:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// script.js</code>
<code class="kd">var</code> <code class="nx">data</code> <code class="o">=</code> <code class="p">[</code><code class="mi">3</code><code class="p">,</code> <code class="mi">7</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">9</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">11</code><code class="p">];</code>
<code class="kd">var</code> <code class="nx">sum</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nx">data</code><code class="p">.</code><code class="nx">forEach</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">d</code><code class="p">){</code>
    <code class="nx">sum</code> <code class="o">+=</code> <code class="nx">d</code><code class="p">;</code>
<code class="p">});</code>

<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Sum = '</code> <code class="o">+</code> <code class="nx">sum</code><code class="p">);</code>
<code class="c1">// outputs 'Sum = 33'</code></pre>

<p>Start your development server in the project directory:</p>

<pre data-type="programlisting">$ python -m SimpleHTTPServer
Serving HTTP on 0.0.0.0 port 8000 ...</pre>

<p>Then open your browser at <em><a href="http://localhost:8000"><em class="hyperlink">http://localhost:8000</em></a></em>, press Ctrl-Shift-J (Cmd-Opt-J on OS X) to access the console and you should see <a data-type="xref" href="#langbridge_sum33">Figure 2-1</a>, showing the logged output of the script (see <a data-type="xref" href="ch04.html#chapter_webdev101">Chapter 4</a> for further details).</p>

<figure><div id="langbridge_sum33" class="figure">
<img src="dvpj_0201.png" alt="dvpj 0201" width="1092" height="139">
<h6><span class="label">Figure 2-1. </span>Outputting to the Chrome console</h6>
</div></figure>

<p>Now that we’ve established how to run the demo code, let’s start building a bridge between Python and JavaScript. First, we’ll cover the basic differences in syntax. As you’ll see, they’re fairly minor and easily absorbed.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Basic Bridge Work"><div class="sect1" id="idm140319455541632">
<h1>Basic Bridge Work</h1>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="style guidelines" id="idm140319455539712"></a><a data-type="indexterm" data-primary="style guidelines" id="idm140319455538496"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="PEP-8" id="idm140319455537824"></a><a data-type="indexterm" data-primary="PEP-8" id="idm140319455536640"></a>In this section, I’ll contrast the basic nuts and bolts of programming in the two
languages.</p>








<section data-type="sect2" data-pdf-bookmark="Style Guidelines, PEP 8, and use strict"><div class="sect2" id="use_strict">
<h2>Style Guidelines, PEP 8, and use strict</h2>

<p>Where JavaScript style guidelines are a bit of a free-for-all (with people often defaulting to those used by a big library like jQuery), Python has a Python Enhancement Proposal (PEP) dedicated to it. I’d recommend getting acquainted with PEP-8 but not submitting totally to its leadership. It’s right about most things, but there’s room for some personal choice here. There’s a handy online checker <a href="http://pep8online.com/">here</a>, which will pick up any infractions of PEP-8.</p>

<p>In Python, you should use four spaces to indent a code block. JavaScript is less strict, but two spaces is the most common indent.</p>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="use strict directive" id="idm140319455531856"></a><a data-type="indexterm" data-primary="use strict directive" id="idm140319455530544"></a>One recent addition to JavaScript (Ecmascript 5) is the <code>'use strict'</code> directive, which imposes strict mode. This mode enforces some good JavaScript practice, which includes catching accidental global declarations, and I thoroughly recommend its use. To use it, just place the string at the top of your function or module:</p>

<pre data-type="programlisting" data-code-language="js"><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">foo</code><code class="p">){</code>
  <code class="s1">'use strict'</code><code class="p">;</code>
  <code class="c1">// ...</code>
<code class="p">}(</code><code class="nb">window</code><code class="p">.</code><code class="nx">foo</code> <code class="o">=</code> <code class="nb">window</code><code class="p">.</code><code class="nx">foo</code> <code class="o">||</code> <code class="p">{});</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="CamelCase Versus Underscore"><div class="sect2" id="idm140319455331280">
<h2>CamelCase Versus Underscore</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="CamelCase" id="idm140319455346976"></a><a data-type="indexterm" data-primary="CamelCase" id="idm140319455345568"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="underscores" id="idm140319455344896"></a><a data-type="indexterm" data-primary="underscores" id="idm140319455343712"></a>JS conventionally uses CamelCase (e.g., <code>processStudentData</code>) for its variables, whereas Python, in accordance with PEP-8, uses underscores (e.g., <code>process_student_data</code>) in its variable names (see Section B in Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a>). By convention (and convention is more important in the Python ecosystem than JS), Python uses capitalized CamelCase for class declarations (see the following example), uppercase for constants, and underscores for everything else:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">FOO_CONST</code> <code class="o">=</code> <code class="mi">10</code>
<code class="k">class</code> <code class="nc">FooBar</code><code class="p">(</code><code class="nb">object</code><code class="p">):</code> <code class="c1"># ...</code>
<code class="k">def</code> <code class="nf">foo_bar</code><code class="p">():</code>
    <code class="n">baz_bar</code> <code class="o">=</code> <code class="s1">'some string'</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Importing Modules, Including Scripts"><div class="sect2" id="idm140319455395488">
<h2>Importing Modules, Including Scripts</h2>

<p><a data-type="indexterm" data-primary="JavaScript" data-secondary="including scripts" id="idm140319455434400"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="module importing" id="LLBpbmodule2"></a><a data-type="indexterm" data-primary="modules" data-secondary="importing" id="Mimport2"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="script inclusion" id="LLpbscript2"></a><a data-type="indexterm" data-primary="scripts, including" id="script2"></a>Using other libraries in your code, either your own or third-party, is
fundamental to modern programming, which makes it all the more surprising that
JavaScript doesn’t really have a mechanism for doing it.<sup><a data-type="noteref" id="idm140319455303088-marker" href="ch02.html#idm140319455303088">6</a></sup> Python has a simple import system that, on the whole, works pretty
well.</p>

<p><a data-type="indexterm" data-primary="Babel.js" id="idm140319455334400"></a>The good news on the JavaScript front is that Ecmascript 6, the next version of the language, does address this issue, with the addition of <code>import</code> and <code>export</code> statements. Ecmascript 6 will be getting browser support soon, but as of late 2015 you need a converter to Ecmascript 5, such as <a href="https://babeljs.io/">Babel.js</a>.  Meanwhile, although there have been many attempts to create a reasonable client-side modular system, none have really achieved critical mass and all are a little awkward to use. For now, I recommend using the well-established HTML <code>&lt;script&gt;</code> tag to include scripts. So to include the D3 visualization library, you would add this tag to your main HTML file, conventionally <em>index.html</em>:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="o">&lt;!</code><code class="nx">DOCTYPE</code> <code class="nx">html</code><code class="o">&gt;</code>
<code class="o">&lt;</code><code class="nx">meta</code> <code class="nx">charset</code><code class="o">=</code><code class="s2">"utf-8"</code><code class="o">&gt;</code>
<code class="p">...</code>
  <code class="o">&lt;</code><code class="nx">script</code> <code class="nx">src</code><code class="o">=</code><code class="s2">"http://d3js.org/d3.v3.min.js"</code><code class="o">&gt;&lt;</code><code class="err">/script&gt;</code></pre>

<p>You can include the script anywhere in your HTML file, but it’s best practice to add scripts after the body (div tags, etc.) section.<sup><a data-type="noteref" id="idm140319454964688-marker" href="ch02.html#idm140319454964688">7</a></sup> Note that the order of the <code>&lt;script&gt;</code> tags is important. If a script is dependent on a module (e.g., it uses the D3 library), its <code>&lt;script&gt;</code> tag must be placed after that of the module. In other words, big library scripts, such as jQuery and D3, will be included first.</p>

<p>Python comes with “batteries included,” a comprehensive set of libraries covering everything from extended data containers (<code>collections</code>) to working with the family of CSV files (<code>csv</code>). If you want to use one of these, just import it using the <code>import</code> keyword:</p>

<pre data-type="programlisting" data-code-language="python" class="pagebreak-before"><code class="n">In</code> <code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="kn">import</code> <code class="nn">sys</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">2</code><code class="p">]:</code> <code class="n">sys</code><code class="o">.</code><code class="n">platform</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">2</code><code class="p">]:</code> <code class="s1">'linux2'</code></pre>

<p>If you don’t want to import the whole library or want to use an alias, you can use the <code>as</code> and <code>from</code> keywords instead:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code><code> </code><code class="nn">pandas</code><code> </code><code class="kn">as</code><code> </code><code class="nn">pd</code><code>
</code><code class="kn">from</code><code> </code><code class="nn">csv</code><code> </code><code class="kn">import</code><code> </code><code class="n">DictWriter</code><code class="p">,</code><code> </code><code class="n">DictReader</code><code>
</code><code class="kn">from</code><code> </code><code class="nn">numpy</code><code> </code><code class="kn">import</code><code> </code><code class="o">*</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO1-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_json</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.json</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">reader</code><code> </code><code class="o">=</code><code> </code><code class="n">DictReader</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.csv</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">md</code><code> </code><code class="o">=</code><code> </code><code class="n">median</code><code class="p">(</code><code class="p">[</code><code class="mi">12</code><code class="p">,</code><code> </code><code class="mi">56</code><code class="p">,</code><code> </code><code class="mi">44</code><code class="p">,</code><code> </code><code class="mi">33</code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO1-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>This imports all the variables from the module into the current namespace and is almost always a bad idea. One of the variables could mask an existing one, and it goes against the Python best practice of explicit being better than implicit. One exception to this rule is if you are using the Python interpreter interactively. In this limited context, it may make sense to import all functions from a library to cut down on key presses; for example, importing all the math functions (<code>from math import *</code>) if doing some Python math hacking.</p></dd>
</dl>

<p>If you import a nonstandard library, Python uses <code>sys.path</code> to try to find it. <code>sys.path</code> consists of:</p>

<ul>
<li>
<p>The directory containing the importing module (current <span class="keep-together">directory</span>)</p>
</li>
<li>
<p>The <code>PYTHOPATH</code> variable, containing a list of directories</p>
</li>
<li>
<p>The installation-dependent default, where libraries installed using <code>pip</code> or <code>easy_install</code> will usually be placed</p>
</li>
</ul>

<p>Big libraries are often packaged, divided into submodules. These submodules are accessed by dot notation:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code> <code class="nn">matplotlib.pyplot</code> <code class="kn">as</code> <code class="nn">plt</code></pre>

<p>Packages are constructed from the filesystem via <em>__init__.py</em> files, usually empty, as shown in <a data-type="xref" href="#pyjs_import">Example 2-1</a>. The presence of an init file makes the directory visible to Python’s import system.</p>
<div id="pyjs_import" data-type="example">
<h5><span class="label">Example 2-1. </span>Building a Python package</h5>

<pre data-type="programlisting" data-code-language="bash"><code>mypackage</code><code>
</code><code>├──</code><code> </code><code>__init__.py</code><code>
</code><code>...</code><code>
</code><code>├──</code><code> </code><code>core</code><code>
</code><code>│</code><code>   </code><code>└──</code><code> </code><code>__init__.py</code><code>
</code><code>│</code><code>   </code><code>...</code><code>
</code><code>...</code><code>
</code><code>└──</code><code> </code><code>io</code><code>
    </code><code>├──</code><code> </code><code>__init__.py</code><code>
    </code><code>└──</code><code> </code><code>api.py</code><code>
    </code><code>...</code><code>
    </code><code>└──</code><code> </code><code>tests</code><code>
        </code><code>└──</code><code> </code><code>__init__.py</code><code>
        </code><code>└──</code><code> </code><code>test_data.py</code><code>
        </code><code>└──</code><code> </code><code>test_excel.py</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO2-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
        </code><code>...</code><code>
</code><code>...</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO2-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>You would import this module using <code>from mypackage.io.tests import test_excel</code>.</p></dd>
</dl></div>

<p>You can access packages on <code>sys.path</code> from the root directory (that’s <code>mypackage</code> in <a data-type="xref" href="#pyjs_import">Example 2-1</a>) using dot notation. A special case of <code>import</code> is intrapackage references. The <em>test_excel.py</em> submodule in <a data-type="xref" href="#pyjs_import">Example 2-1</a> can import submodules from the <code>mypackage</code> package both absolutely and relatively:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code><code> </code><code class="nn">mypackage.io.tests</code><code> </code><code class="kn">import</code><code> </code><code class="n">test_data</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO3-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="kn">from</code><code> </code><code class="nn">.</code><code> </code><code class="kn">import</code><code> </code><code class="n">test_data</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO3-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO3-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="kn">import</code><code> </code><code class="nn">test_data</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO3-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO3-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="kn">from</code><code> </code><code class="nn">..io</code><code> </code><code class="kn">import</code><code> </code><code class="n">api</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO3-4" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO3-3"><img src="3.png" alt="3" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO3-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Imports the <em>test_data.py</em> module absolutely, from the package’s head directory.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO3-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO3-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>An explicit (<code>. import</code>) and implicit relative import.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO3-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO3-4"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>A relative import from a sibling package of <em>tests</em>.<a data-type="indexterm" data-primary="" data-startref="LLBpbmodule2" id="idm140319454671088"></a><a data-type="indexterm" data-primary="" data-startref="Mimport2" id="idm140319454642432"></a><a data-type="indexterm" data-primary="" data-startref="LLpbscript2" id="idm140319454641488"></a><a data-type="indexterm" data-primary="" data-startref="script2" id="idm140319454640544"></a></p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Keeping Your Namespaces Clean"><div class="sect2" id="sect_namespaces">
<h2>Keeping Your Namespaces Clean</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="namespaces" id="idm140319454638256"></a><a data-type="indexterm" data-primary="namespaces" id="idm140319454637040"></a>The variables defined in Python modules are encapsulated, which means that unless you import them explicitly (e.g., <code>from foo import baa</code>), you will be accessing them from the imported module’s namespace using dot notation (e.g., <code>foo.baa</code>). This modularization of the global namespace is quite rightly seen as a very good thing and plays to one of Python’s key tenets: the importance of explicit statements over implicit. When analyzing someone’s Python code you should be able to see exactly where a class, function, or variable has come from. Just as importantly, preserving the namespace limits the chance of conflicting or masking variables—a big potential problem as code bases get larger.</p>

<p>One of the main criticisms of JavaScript, and a fair one, is that it plays fast
and loose with namespace conventions. The most egregious example of this is that
variables declared outside of functions or missing the <code>var</code>
keyword<sup><a data-type="noteref" id="idm140319454633648-marker" href="ch02.html#idm140319454633648">8</a></sup> are global rather than confined to the
script in which they are declared.  There are various ways to rectify this situation, but the one I use and
recommend is to make each of your scripts a self-calling function. This makes
all variables declared via <code>var</code> local to the script/function, preventing them from polluting
the global namespace. Any objects, functions, and variables you want to make available to other scripts can be attached to an object that is part of the global namespace.</p>

<p><a data-type="xref" href="#pyjs_module">Example 2-2</a> demonstrates a module pattern. The boilerplate head and tail (labeled <img src="1.png" alt="1" width="12" height="12"> and <img src="3.png" alt="3" width="12" height="12">) effectively create an encapsulated module. This pattern is far from a perfect solution to modular JavaScript but is the best compromise I know until Ecmascript 6 and a dedicated import system becomes standard. One obvious disadvantage is that the module is part of the global namespace, which means, unlike in Python, there is no need to explicitly import it.</p>
<div id="pyjs_module" data-type="example">
<h5><span class="label">Example 2-2. </span>A module pattern for JavaScript</h5>

<pre data-type="programlisting" data-code-language="js"><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">nbviz</code><code class="p">)</code><code> </code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO4-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
    </code><code class="s1">'use strict'</code><code class="p">;</code><code>
    </code><code class="c1">// ...
</code><code>    </code><code class="nx">nbviz</code><code class="p">.</code><code class="nx">updateTimeChart</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">data</code><code class="p">)</code><code> </code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO4-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO4-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
    </code><code class="c1">// ...
</code><code class="p">}</code><code class="p">(</code><code class="nb">window</code><code class="p">.</code><code class="nx">nbviz</code><code> </code><code class="o">=</code><code> </code><code class="nb">window</code><code class="p">.</code><code class="nx">nbviz</code><code> </code><code class="o">||</code><code> </code><code class="p">{</code><code class="p">}</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO4-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO4-3"><img src="3.png" alt="3" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO4-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Receives the global <code>nbviz</code> object.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO4-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO4-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Attaches the <code>updateTimeChart</code> method to the global <code>nbviz</code> object, effectively <em>exporting</em> it.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO4-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO4-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>If an <code>nbviz</code> object exists in the global (window) namespace, pass it into the module function; otherwise, add it to the global namespace.</p></dd>
</dl></div>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Outputting “Hello World!”"><div class="sect2" id="idm140319454569664">
<h2>Outputting “Hello World!”</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="Hello World!" id="idm140319454542320"></a><a data-type="indexterm" data-primary="Hello World!" id="idm140319454541104"></a>By far the most popular initial demonstration of any programming language is
getting it to print or communicate “Hello World!” in some form, so let’s start
with getting output from Python and <span class="keep-together">JavaScript</span>.</p>

<p>Python’s output couldn’t be much simpler, but version 3 sees a change to the <code>print</code>
statement, making it a proper function:<sup><a data-type="noteref" id="idm140319454538576-marker" href="ch02.html#idm140319454538576">9</a></sup></p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># In Python 2</code>
<code class="k">print</code> <code class="s1">'Hello World!'</code>

<code class="c1"># In Python 3</code>
<code class="k">print</code><code class="p">(</code><code class="s1">'Hello World!'</code><code class="p">)</code></pre>

<p>You can use Python 3’s print function in Python 2 by importing it from the <code>__future__</code> module:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code> <code class="nn">__future__</code> <code class="kn">import</code> <code class="n">print_function</code></pre>

<p>If you’re not using Python 3, then this is a sensible approach. The new print function is here to stay and it’s best to get used to it now.</p>

<p>JavaScript has no print function, but you can log output to the browser console:</p>

<pre data-type="programlisting" data-code-language="js"><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="err">'</code><code class="nx">Hello</code> <code class="nx">World</code><code class="o">!</code><code class="p">);</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Simple Data Processing"><div class="sect2" id="idm140319454517824">
<h2>Simple Data Processing</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="data processing" id="LLBpdata2"></a><a data-type="indexterm" data-primary="data processing, compared" id="dataproc2"></a>A good way to get an overview of the language differences is to see the same function written in both. Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a> show a small, contrived example of data munging in Python and JavaScript, respectively. We’ll use these to compare Python and JS syntax.</p>
<div id="ex1_py" data-type="example">
<h5><span class="label">Example 2-3. </span>Simple data munging with Python</h5>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code> <code class="nn">__future__</code> <code class="kn">import</code> <code class="n">print_function</code>

<code class="c1"># A</code>
<code class="n">student_data</code> <code class="o">=</code> <code class="p">[</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="p">:</code> <code class="s1">'Bob'</code><code class="p">,</code> <code class="s1">'id'</code><code class="p">:</code><code class="mi">0</code><code class="p">,</code> <code class="s1">'scores'</code><code class="p">:[</code><code class="mi">68</code><code class="p">,</code> <code class="mi">75</code><code class="p">,</code> <code class="mi">56</code><code class="p">,</code> <code class="mi">81</code><code class="p">]},</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="p">:</code> <code class="s1">'Alice'</code><code class="p">,</code> <code class="s1">'id'</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code>  <code class="s1">'scores'</code><code class="p">:[</code><code class="mi">75</code><code class="p">,</code> <code class="mi">90</code><code class="p">,</code> <code class="mi">64</code><code class="p">,</code> <code class="mi">88</code><code class="p">]},</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="p">:</code> <code class="s1">'Carol'</code><code class="p">,</code> <code class="s1">'id'</code><code class="p">:</code><code class="mi">2</code><code class="p">,</code> <code class="s1">'scores'</code><code class="p">:[</code><code class="mi">59</code><code class="p">,</code> <code class="mi">74</code><code class="p">,</code> <code class="mi">71</code><code class="p">,</code> <code class="mi">68</code><code class="p">]},</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="p">:</code> <code class="s1">'Dan'</code><code class="p">,</code> <code class="s1">'id'</code><code class="p">:</code><code class="mi">3</code><code class="p">,</code> <code class="s1">'scores'</code><code class="p">:[</code><code class="mi">64</code><code class="p">,</code> <code class="mi">58</code><code class="p">,</code> <code class="mi">53</code><code class="p">,</code> <code class="mi">62</code><code class="p">]},</code>
<code class="p">]</code>

<code class="c1"># B</code>
<code class="k">def</code> <code class="nf">process_student_data</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">pass_threshold</code><code class="o">=</code><code class="mi">60</code><code class="p">,</code>
                         <code class="n">merit_threshold</code><code class="o">=</code><code class="mi">75</code><code class="p">):</code>
    <code class="sd">""" Perform some basic stats on some student data. """</code>

    <code class="c1"># C</code>
    <code class="k">for</code> <code class="n">sdata</code> <code class="ow">in</code> <code class="n">data</code><code class="p">:</code>
        <code class="n">av</code> <code class="o">=</code> <code class="nb">sum</code><code class="p">(</code><code class="n">sdata</code><code class="p">[</code><code class="s1">'scores'</code><code class="p">])</code><code class="o">/</code><code class="nb">float</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">sdata</code><code class="p">[</code><code class="s1">'scores'</code><code class="p">]))</code>
        <code class="n">sdata</code><code class="p">[</code><code class="s1">'average'</code><code class="p">]</code> <code class="o">=</code> <code class="n">av</code>

        <code class="k">if</code> <code class="n">av</code> <code class="o">&gt;</code> <code class="n">merit_threshold</code><code class="p">:</code>
            <code class="n">sdata</code><code class="p">[</code><code class="s1">'assessment'</code><code class="p">]</code> <code class="o">=</code> <code class="s1">'passed with merit'</code>
        <code class="k">elif</code> <code class="n">av</code> <code class="o">&gt;</code> <code class="n">pass_threshold</code><code class="p">:</code>
            <code class="n">sdata</code><code class="p">[</code><code class="s1">'assessment'</code><code class="p">]</code> <code class="o">=</code> <code class="s1">'passed'</code>
        <code class="k">else</code><code class="p">:</code>
            <code class="n">sdata</code><code class="p">[</code><code class="s1">'assessment'</code><code class="p">]</code> <code class="o">=</code> <code class="s1">'failed'</code>
        <code class="c1"># D</code>
        <code class="k">print</code><code class="p">(</code><code class="s2">"</code><code class="si">%s</code><code class="s2">'s (id: </code><code class="si">%d</code><code class="s2">) final assessment is: </code><code class="si">%s</code><code class="s2">"</code><code class="o">%</code><code class="p">(</code>
          <code class="n">sdata</code><code class="p">[</code><code class="s1">'name'</code><code class="p">],</code> <code class="n">sdata</code><code class="p">[</code><code class="s1">'id'</code><code class="p">],</code> <code class="n">sdata</code><code class="p">[</code><code class="s1">'assessment'</code><code class="p">]</code><code class="o">.</code><code class="n">upper</code><code class="p">()))</code>

<code class="c1"># E</code>
<code class="k">if</code> <code class="nv-Magic">__name__</code> <code class="o">==</code> <code class="s1">'__main__'</code><code class="p">:</code>
    <code class="n">process_student_data</code><code class="p">(</code><code class="n">student_data</code><code class="p">)</code></pre></div>
<div id="ex1_js" data-type="example">
<h5><span class="label">Example 2-4. </span>Simple data munging with JavaScript</h5>

<pre data-type="programlisting" data-code-language="javascript"><code class="c1">// A (note deliberate and valid inconsistency in keys: some quoted</code>
<code class="c1">// and some unquoted)</code>
<code class="kd">var</code> <code class="nx">studentData</code> <code class="o">=</code> <code class="p">[</code>
    <code class="p">{</code><code class="nx">name</code><code class="o">:</code> <code class="s1">'Bob'</code><code class="p">,</code> <code class="nx">id</code><code class="o">:</code><code class="mi">0</code><code class="p">,</code> <code class="s1">'scores'</code><code class="o">:</code><code class="p">[</code><code class="mi">68</code><code class="p">,</code> <code class="mi">75</code><code class="p">,</code> <code class="mi">76</code><code class="p">,</code> <code class="mi">81</code><code class="p">]},</code>
    <code class="p">{</code><code class="nx">name</code><code class="o">:</code> <code class="s1">'Alice'</code><code class="p">,</code> <code class="nx">id</code><code class="o">:</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'scores'</code><code class="o">:</code><code class="p">[</code><code class="mi">75</code><code class="p">,</code> <code class="mi">90</code><code class="p">,</code> <code class="mi">64</code><code class="p">,</code> <code class="mi">88</code><code class="p">]},</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="o">:</code> <code class="s1">'Carol'</code><code class="p">,</code> <code class="nx">id</code><code class="o">:</code><code class="mi">2</code><code class="p">,</code> <code class="s1">'scores'</code><code class="o">:</code><code class="p">[</code><code class="mi">59</code><code class="p">,</code> <code class="mi">74</code><code class="p">,</code> <code class="mi">71</code><code class="p">,</code> <code class="mi">68</code><code class="p">]},</code>
    <code class="p">{</code><code class="s1">'name'</code><code class="o">:</code> <code class="s1">'Dan'</code><code class="p">,</code> <code class="nx">id</code><code class="o">:</code><code class="mi">3</code><code class="p">,</code> <code class="s1">'scores'</code><code class="o">:</code><code class="p">[</code><code class="mi">64</code><code class="p">,</code> <code class="mi">58</code><code class="p">,</code> <code class="mi">53</code><code class="p">,</code> <code class="mi">62</code><code class="p">]},</code>
<code class="p">];</code>

<code class="c1">// B</code>
<code class="kd">function</code> <code class="nx">processStudentData</code><code class="p">(</code><code class="nx">data</code><code class="p">,</code> <code class="nx">passThreshold</code><code class="p">,</code> <code class="nx">meritThreshold</code><code class="p">){</code>
    <code class="nx">passThreshold</code> <code class="o">=</code> <code class="k">typeof</code> <code class="nx">passThreshold</code> <code class="o">!==</code> <code class="s1">'undefined'</code><code class="o">?\</code>
    <code class="nx">passThreshold</code><code class="o">:</code> <code class="mi">60</code><code class="p">;</code>
    <code class="nx">meritThreshold</code> <code class="o">=</code> <code class="k">typeof</code> <code class="nx">meritThreshold</code> <code class="o">!==</code> <code class="s1">'undefined'</code><code class="o">?\</code>
    <code class="nx">meritThreshold</code><code class="o">:</code> <code class="mi">75</code><code class="p">;</code>

    <code class="c1">// C</code>
    <code class="nx">data</code><code class="p">.</code><code class="nx">forEach</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">sdata</code><code class="p">){</code>
        <code class="kd">var</code> <code class="nx">av</code> <code class="o">=</code> <code class="nx">sdata</code><code class="p">.</code><code class="nx">scores</code><code class="p">.</code><code class="nx">reduce</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">prev</code><code class="p">,</code> <code class="nx">current</code><code class="p">){</code>
            <code class="k">return</code> <code class="nx">prev</code><code class="o">+</code><code class="nx">current</code><code class="p">;</code>
        <code class="p">},</code><code class="mi">0</code><code class="p">)</code> <code class="o">/</code> <code class="nx">sdata</code><code class="p">.</code><code class="nx">scores</code><code class="p">.</code><code class="nx">length</code><code class="p">;</code>
        <code class="nx">sdata</code><code class="p">.</code><code class="nx">average</code> <code class="o">=</code> <code class="nx">av</code><code class="p">;</code>

        <code class="k">if</code><code class="p">(</code><code class="nx">av</code> <code class="o">&gt;</code> <code class="nx">meritThreshold</code><code class="p">){</code>
            <code class="nx">sdata</code><code class="p">.</code><code class="nx">assessment</code> <code class="o">=</code> <code class="s1">'passed with merit'</code><code class="p">;</code>
        <code class="p">}</code>
        <code class="k">else</code> <code class="k">if</code><code class="p">(</code><code class="nx">av</code> <code class="o">&gt;</code> <code class="nx">passThreshold</code><code class="p">){</code>
            <code class="nx">sdata</code><code class="p">.</code><code class="nx">assessment</code> <code class="o">=</code> <code class="s1">'passed'</code><code class="p">;</code>
        <code class="p">}</code>
        <code class="k">else</code><code class="p">{</code>
            <code class="nx">sdata</code><code class="p">.</code><code class="nx">assessment</code> <code class="o">=</code> <code class="s1">'failed'</code><code class="p">;</code>
        <code class="p">}</code>
        <code class="c1">// D</code>
        <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">sdata</code><code class="p">.</code><code class="nx">name</code> <code class="o">+</code> <code class="s2">"'s (id: "</code> <code class="o">+</code> <code class="nx">sdata</code><code class="p">.</code><code class="nx">id</code> <code class="o">+</code>
          <code class="s2">") final assessment is: "</code> <code class="o">+</code>
            <code class="nx">sdata</code><code class="p">.</code><code class="nx">assessment</code><code class="p">.</code><code class="nx">toUpperCase</code><code class="p">());</code>
    <code class="p">});</code>

<code class="p">}</code>

<code class="c1">// E</code>
<code class="nx">processStudentData</code><code class="p">(</code><code class="nx">studentData</code><code class="p">);</code></pre></div>
</div></section>













<section data-type="sect2" data-pdf-bookmark="String Construction"><div class="sect2" id="idm140319454268208">
<h2>String Construction</h2>

<p><a data-type="indexterm" data-primary="" data-startref="LLBpdata2" id="idm140319454266960"></a><a data-type="indexterm" data-primary="" data-startref="dataproc2" id="idm140319454265760"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="string construction" id="idm140319454264816"></a><a data-type="indexterm" data-primary="strings" data-secondary="constructing" id="idm140319454263632"></a>Section D in Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a> show the standard way to print output to the console or terminal. JavaScript has no <code>print</code> statement but will log to the browser’s console through the <code>console</code> object.</p>

<pre data-type="programlisting" data-code-language="js"><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">sdata</code><code class="p">.</code><code class="nx">name</code> <code class="o">+</code> <code class="s2">"'s (id: "</code> <code class="o">+</code> <code class="nx">sdata</code><code class="p">.</code><code class="nx">id</code> <code class="o">+</code>
  <code class="s2">") final assessment is: "</code> <code class="o">+</code> <code class="nx">sdata</code><code class="p">.</code><code class="nx">assessment</code><code class="p">.</code><code class="nx">toUpperCase</code><code class="p">());</code></pre>

<p>Note that the integer variable <code>id</code> is coerced to a string, allowing concatenation. Python doesn’t perform this implicit coercion, so attempting to add a string to an integer in this way gives an error. Instead, explicit conversion to string form is achieved through one of the <code>str</code> or <code>repr</code> functions.</p>

<p>In section A of <a data-type="xref" href="#ex1_py">Example 2-3</a>, the output string is constructed with C type formatting. String (<code>%s</code>) and integer (<code>%d</code>) placeholders are provided by a final tuple (<code>%(…)</code>):</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">print</code><code class="p">(</code><code class="s2">"</code><code class="si">%s</code><code class="s2">'s (id: </code><code class="si">%d</code><code class="s2">) final assessment is: </code><code class="si">%s</code><code class="s2">"</code>
  <code class="o">%</code><code class="p">(</code><code class="n">sdata</code><code class="p">[</code><code class="s1">'name'</code><code class="p">],</code> <code class="n">sdata</code><code class="p">[</code><code class="s1">'id'</code><code class="p">],</code> <code class="n">sdata</code><code class="p">[</code><code class="s1">'assessment'</code><code class="p">]</code><code class="o">.</code><code class="n">upper</code><code class="p">()))</code></pre>

<p>These days, I rarely use Python’s <code>print</code> statement, opting for the much more powerful and flexible <code>logging</code> module, which is demonstrated in the following code block.  It takes a little more effort to use, but it is worth it. Logging gives you the flexibility to direct output to a file and/or the screen, adjusting the logging level to prioritize certain information, and a whole load of other useful things. Check out the details <a href="https://docs.python.org/2/howto/logging.html">here</a>.</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code><code> </code><code class="nn">logging</code><code>
</code><code class="n">logger</code><code> </code><code class="o">=</code><code> </code><code class="n">logging</code><code class="o">.</code><code class="n">getLogger</code><code class="p">(</code><code class="nv-Magic">__name__</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO5-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="o">/</code><code class="o">/</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>
</code><code class="n">logger</code><code class="o">.</code><code class="n">debug</code><code class="p">(</code><code class="s1">'</code><code class="s1">Some useful debugging output</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="n">logger</code><code class="o">.</code><code class="n">info</code><code class="p">(</code><code class="s1">'</code><code class="s1">Some general information</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>
</code><code class="o">/</code><code class="o">/</code><code> </code><code class="n">IN</code><code> </code><code class="n">INITIAL</code><code> </code><code class="n">MODULE</code><code>
</code><code class="n">logging</code><code class="o">.</code><code class="n">basicConfig</code><code class="p">(</code><code class="n">level</code><code class="o">=</code><code class="n">logging</code><code class="o">.</code><code class="n">DEBUG</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO5-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO5-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Creates a logger with the name of this module.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO5-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>You can set the logging level, an output file as opposed to the default to screen.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Significant Whitespace Versus Curly Brackets"><div class="sect2" id="idm140319453925648">
<h2>Significant Whitespace Versus Curly Brackets</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="whitespace" id="idm140319453924272"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="curly brackets" id="idm140319453923056"></a><a data-type="indexterm" data-primary="whitespace" id="idm140319453921872"></a><a data-type="indexterm" data-primary="curly brackets" id="idm140319453921200"></a>The syntactic feature most associated with Python is significant whitespace. Whereas languages like C and JavaScript use whitespace for readability and could easily be condensed into one line,<sup><a data-type="noteref" id="idm140319453903760-marker" href="ch02.html#idm140319453903760">10</a></sup> in Python leading spaces are used to indicate code blocks and removing them changes the meaning of the code. The extra effort required to maintain correct code alignment is  more than compensated for by increased readability—you spend far longer reading than writing code and the easy reading of Python is probably the main reason why the Python library ecosystem is so healthy. Four spaces is pretty much mandatory (see PEP 8) and my personal preference is for what is known as <em>soft tabs</em>, where your editor inserts (and deletes) multiple spaces instead of a tab character.<sup><a data-type="noteref" id="idm140319453902112-marker" href="ch02.html#idm140319453902112">11</a></sup></p>

<p>In the following code, the indentation of the <code>return</code> statement must be four spaces by convention:<sup><a data-type="noteref" id="idm140319453900224-marker" href="ch02.html#idm140319453900224">12</a></sup></p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">doubler</code><code class="p">(</code><code class="n">x</code><code class="p">):</code>
    <code class="k">return</code> <code class="n">x</code> <code class="o">*</code> <code class="mi">2</code>
<code class="c1">#  |&lt;-this spacing is important</code></pre>

<p>JavaScript doesn’t care about the number of spaces between statements and variables, using curly brackets to demark code blocks, the two doubler functions in this code being equivalent:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">doubler</code> <code class="o">=</code> <code class="kd">function</code><code class="p">(</code><code class="nx">x</code><code class="p">){</code>
  <code class="k">return</code> <code class="nx">x</code> <code class="o">*</code> <code class="mi">2</code><code class="p">;</code>
<code class="p">}</code>

<code class="kd">var</code> <code class="nx">doubler</code><code class="o">=</code><code class="kd">function</code><code class="p">(</code><code class="nx">x</code><code class="p">){</code><code class="k">return</code> <code class="nx">x</code><code class="o">*</code><code class="mi">2</code><code class="p">;}</code></pre>

<p>Much is made of Python’s whitespace, but most good coders I know set up their editors to enforce indented code blocks and a consistent look and feel. Python merely enforces this good practice. And, to reiterate,  I believe the extreme readability of Python code contributes as much to Python’s supremely healthy ecosystem as its simple syntax.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Comments and doc-strings"><div class="sect2" id="idm140319453875632">
<h2>Comments and doc-strings</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="comments" id="idm140319453874352"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="doc-strings" id="idm140319453507248"></a><a data-type="indexterm" data-primary="comments" id="idm140319453506064"></a><a data-type="indexterm" data-primary="doc-strings" id="idm140319453505392"></a>To add comments to code, Python uses hashes, <em>#</em>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># ex.py, a single informative comment</code>

<code class="n">data</code> <code class="o">=</code> <code class="p">{}</code> <code class="c1"># Our main data-ball</code></pre>

<p>By contrast, JavaScript uses the C language convention of double backslashes (<em>//</em>) or <em>/* … */</em> for multiline comments:</p>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// script.js, a single informative comment</code>
<code class="cm">/* A multiline comment block for</code>
<code class="cm">function descriptions, library script</code>
<code class="cm">headers, and the like */</code>
<code class="kd">var</code> <code class="nx">data</code> <code class="o">=</code> <code class="p">{};</code> <code class="c1">// Our main data-ball</code></pre>

<p>In addition to comments, and in keeping with its philosophy of readability and transparency, Python has documentation strings (docstrings) by convention. The <code>process_student_data</code> function in <a data-type="xref" href="#ex1_py">Example 2-3</a> has a triple-quoted line of text at its top that will automatically be assigned to the function’s <code>__doc__</code> attribute. You can also use multiline doc-strings.</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">doubler</code><code class="p">(</code><code class="n">x</code><code class="p">):</code>
    <code class="sd">"""This function returns double its input."""</code>
    <code class="k">return</code> <code class="mi">2</code> <code class="o">*</code> <code class="n">x</code>

<code class="k">def</code> <code class="nf">sanitize_string</code><code class="p">(</code><code class="n">s</code><code class="p">):</code>
    <code class="sd">"""This function replaces any string spaces</code>
<code class="sd">    with '-' after stripping any whitespace</code>
<code class="sd">    """</code>
    <code class="k">return</code> <code class="n">s</code><code class="o">.</code><code class="n">strip</code><code class="p">()</code><code class="o">.</code><code class="n">replace</code><code class="p">(</code><code class="s1">' '</code><code class="p">,</code> <code class="s1">'-'</code><code class="p">)</code></pre>

<p>Doc-strings are a great habit to get into, particularly if you are working collaboratively. They are understood by most decent Python editing toolsets and are also used by  such automated documentation libraries as <a href="http://sphinx-doc.org/"><em>Sphinx</em></a>. The string-literal doc-string is accessible as the <code>doc</code> property of a function or class.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Declaring Variables, var"><div class="sect2" id="idm140319453440864">
<h2>Declaring Variables, var</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="variables, declaring" id="idm140319453554928"></a><a data-type="indexterm" data-primary="variables, declaring" id="idm140319453438272"></a>In Section A of Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a>, the declaration of the student data requires a <code>var</code> keyword for JavaScript. We could dispense with the <code>var</code> and the script would run fine, but we would be in danger of being skewered by JS gotcha number one: any variables declared without <code>var</code> are attached to the global namespace, or window object, which means they can easily mask or be masked by any other variables sharing the same name. This possibility of namespace pollution is a big problem for JS and the reason you should get a good linter to warn of missing <code>var</code>s. You should also use <span class="keep-together">Ecmascript’s</span>  <code>'use strict'</code> directive to force all variables to be declared with <code>var</code> (see <a data-type="xref" href="#use_strict">“Style Guidelines, PEP 8, and use strict”</a>).</p>

<p>Strictly speaking, JS statements should be terminated with a semicolon as opposed to Python’s newline. You will see examples where the semicolon is dispensed with, and modern browsers will usually  do the right thing here, but there are risks involved (e.g., it can trip up code minifiers and compressors that remove whitespace). I’m in the semicolon camp, but many smart people seem to make do without them.</p>
<div data-type="tip"><h6>Tip</h6>
<p>Declare all variables to be used in a function at its top. JavaScript has <em>variable hoisting</em>, which means variables are processed before any other code. This means declaring them anywhere in the function is equivalent to declaring them at the top. This can result in weird errors and confusion. Explicitly placing <code>var</code>s at the top avoids this.</p>
</div>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Strings and Numbers"><div class="sect2" id="idm140319453427376">
<h2>Strings and Numbers</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="string quoting" id="idm140319453425936"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="numeric types" id="idm140319453424496"></a><a data-type="indexterm" data-primary="strings" data-secondary="quoting" id="idm140319453423312"></a>The <em>name</em> strings used in the student data (see Section A of Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a>) will be interpreted as UCS-2 (the parent of unicode UTF-16) in JavaScript,<sup><a data-type="noteref" id="idm140319453419328-marker" href="ch02.html#idm140319453419328">13</a></sup> a string of bytes in Python 2, and Unicode (UTF-8 by default) in Python 3.<sup><a data-type="noteref" id="idm140319453417792-marker" href="ch02.html#idm140319453417792">14</a></sup></p>

<p>Both languages allow single and double quotes for strings. If you want to include a single or double quote in the string, then enclose with the alternative, like so:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pub_name</code> <code class="o">=</code> <code class="s2">"The Brewer's Tap"</code></pre>

<p>The <code>scores</code> in Section A of <a data-type="xref" href="#ex1_js">Example 2-4</a> are stored as JavaScript’s one numeric type, double-precision 64-bit (IEEE 754) floating-point numbers. Although JavaScript has a <code>parseInt</code> conversion function, when used with floats,<sup><a data-type="noteref" id="idm140319453337952-marker" href="ch02.html#idm140319453337952">15</a></sup> it is really just a rounding operator, similar to <code>floor</code>. The type of the parsed <code>number</code> is still <code>number</code>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">x</code> <code class="o">=</code> <code class="nb">parseInt</code><code class="p">(</code><code class="mf">3.45</code><code class="p">);</code> <code class="c1">// 'cast' x to 3</code>
<code class="k">typeof</code><code class="p">(</code><code class="nx">x</code><code class="p">);</code> <code class="c1">// "number"</code></pre>

<p>Python has three numeric types: the 32-bit <code>int</code>,to which the student scores are cast, a <code>float</code> equivalent (IEE 754) to JS’s <code>number</code>, and a <code>long</code> for arbitrary precision integer arithmetic. This means that Python can represent any integer, whereas JavaScript is more limited.<sup><a data-type="noteref" id="idm140319453397904-marker" href="ch02.html#idm140319453397904">16</a></sup>  Python’s casting changes type:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">foo</code> <code class="o">=</code> <code class="mf">3.4</code> <code class="c1"># type(foo) -&gt; float</code>
<code class="n">bar</code> <code class="o">=</code> <code class="nb">int</code><code class="p">(</code><code class="mf">3.4</code><code class="p">)</code> <code class="c1"># type(bar) -&gt; int</code></pre>

<p>The nice thing about Python and JavaScript numbers is that they are easy to work with and usually do what you want. If you need something more efficient, Python has the <em>NumPy</em> library, which allows fine-grained control of your numeric types (you’ll learn more about NumPy in <a data-type="xref" href="ch07.html#chapter_numpy">Chapter 7</a>). In JavaScript, aside from some cutting-edge projects, you’re pretty much stuck with 64-bit floats.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Booleans"><div class="sect2" id="idm140319453367312">
<h2>Booleans</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="boolean operators" id="idm140319453383792"></a><a data-type="indexterm" data-primary="boolean operators" id="idm140319453382576"></a>Python differs from the JavaScript and the C class languages in using named boolean operators. Other than that, they work pretty much as expected. This table gives a comparison:</p>
<table>

<tbody>
<tr>
<td><p><strong>Python</strong></p></td>
<td><p><code>bool</code></p></td>
<td><p><code>True</code></p></td>
<td><p><code>False</code></p></td>
<td><p><code>not</code></p></td>
<td><p><code>and</code></p></td>
<td><p><code>or</code></p></td>
</tr>
<tr>
<td><p><strong>JavaScript</strong></p></td>
<td><p><code>boolean</code></p></td>
<td><p><code>true</code></p></td>
<td><p><code>false</code></p></td>
<td><p><code>!</code></p></td>
<td><p><code>&amp;&amp;</code></p></td>
<td><p>+`</p></td>
</tr>
</tbody>
</table>

<p>Python’s capitalized <code>True</code> and <code>False</code> is an obvious trip-up for any JavaScripter and vice versa, but any decent syntax highlighting should catch that, as should your code linter.</p>

<p>Rather than always returning boolean true or false, both Python and JavaScript <code>and</code>/<code>or</code> expressions return the result of one of the arguments, which may of course be a boolean value. <a data-type="xref" href="#table0201">Table 2-1</a> shows how this works, using Python to demonstrate.</p>
<table id="table0201">
<caption><span class="label">Table 2-1. </span>Python’s boolean operators</caption>
<thead>
<tr>
<th>Operation</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>x or y</p></td>
<td><p>if x is false, then y, else x</p></td>
</tr>
<tr>
<td><p>x and y</p></td>
<td><p>if x is false, then x, else y</p></td>
</tr>
<tr>
<td><p>not x</p></td>
<td><p>if x is false, then <code>True</code>, else <code>False</code></p></td>
</tr>
</tbody>
</table>

<p>This fact allows for some occasionally useful variable assignments:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">rocket_launch</code> <code class="o">=</code> <code class="bp">True</code>
<code class="p">(</code><code class="n">rocket_launch</code> <code class="o">==</code> <code class="bp">True</code> <code class="ow">and</code> <code class="s1">'All OK'</code><code class="p">)</code> <code class="ow">or</code> <code class="s1">'We have a problem!'</code>
<code class="n">Out</code><code class="p">:</code>
<code class="s1">'All OK'</code>

<code class="n">rocket_launch</code> <code class="o">=</code> <code class="bp">False</code>
<code class="p">(</code><code class="n">rocket_launch</code> <code class="o">==</code> <code class="bp">True</code> <code class="ow">and</code> <code class="s1">'All OK'</code><code class="p">)</code> <code class="ow">or</code> <code class="s1">'We have a problem!'</code>
<code class="n">Out</code><code class="p">:</code>
<code class="s1">'We have a problem!'</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Data Containers: Dicts, Objects, Lists, Arrays"><div class="sect2" id="idm140319453313216">
<h2>Data Containers: Dicts, Objects, Lists, Arrays</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="data containers" id="llbpbdatacont2"></a><a data-type="indexterm" data-primary="dicts" id="dicts2"></a><a data-type="indexterm" data-primary="objects" id="obj2"></a><a data-type="indexterm" data-primary="lists" data-secondary="vs. arrays" data-secondary-sortas="arrays" id="list2"></a><a data-type="indexterm" data-primary="arrays" id="array2"></a><a data-type="indexterm" data-primary="data containers" id="datacont2"></a>Roughly speaking, JavaScript <code>objects</code> can be used like Python <code>dict</code>s, and Python <code>list</code>s like JavaScript arrays. Python also has a tuple container, which functions like an immutable list. Here are some examples:</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># Python</code>
<code class="n">d</code> <code class="o">=</code> <code class="p">{</code><code class="s1">'name'</code><code class="p">:</code> <code class="s1">'Groucho'</code><code class="p">,</code> <code class="s1">'occupation'</code><code class="p">:</code> <code class="s1">'Ruler of Freedonia'</code><code class="p">}</code>
<code class="n">l</code> <code class="o">=</code> <code class="p">[</code><code class="s1">'Harpo'</code><code class="p">,</code> <code class="s1">'Groucho'</code><code class="p">,</code> <code class="mi">99</code><code class="p">]</code>
<code class="n">t</code> <code class="o">=</code> <code class="p">(</code><code class="s1">'an'</code><code class="p">,</code> <code class="s1">'immutable'</code><code class="p">,</code> <code class="s1">'container'</code><code class="p">)</code></pre>

<pre data-type="programlisting" data-code-language="js"><code class="c1">// JavaScript</code>
<code class="nx">d</code> <code class="o">=</code> <code class="p">{</code><code class="s1">'name'</code><code class="o">:</code> <code class="s1">'Groucho'</code><code class="p">,</code> <code class="s1">'occupation'</code><code class="o">:</code> <code class="s1">'Ruler of Freedonia'</code><code class="p">}</code>
<code class="nx">l</code> <code class="o">=</code> <code class="p">[</code><code class="s1">'Harpo'</code><code class="p">,</code> <code class="s1">'Groucho'</code><code class="p">,</code> <code class="mi">99</code><code class="p">]</code></pre>

<p>As shown in Section A of Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a>, while Python’s <code>dict</code> keys must be quote-marked strings (or hashable types), JavaScript allows you to omit the quotes if the property is a valid identifier (i.e., not containing special characters such as spaces and dashes). So in our <code>studentData</code> objects, JS implicitly converts the property <code>'name'</code> to string form.</p>

<p>The student data declarations look pretty much the same and, in practice, are used pretty much the same, too. The key difference to note is that while the curly-bracketed containers in the JS <code>studentData</code> look like Python <code>dict</code>s, they are actually a shorthand declaration of JS <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects">objects</a>, a somewhat different data container.</p>

<p>In JS data visualization, we tend to use arrays of objects as the chief data container and here, JS objects function much as a Pythonista would expect. In fact, as demonstrated in the following code, we get the advantage of both dot notation and key-string access, the former being preferred where applicable (keys with spaces or dashes needing quoted strings):</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">foo</code> <code class="o">=</code> <code class="p">{</code><code class="nx">bar</code><code class="o">:</code><code class="mi">3</code><code class="p">,</code> <code class="nx">baz</code><code class="o">:</code><code class="mi">5</code><code class="p">};</code>
<code class="nx">foo</code><code class="p">.</code><code class="nx">bar</code><code class="p">;</code> <code class="c1">// 3</code>
<code class="nx">foo</code><code class="p">[</code><code class="s1">'baz'</code><code class="p">];</code> <code class="c1">// 5, same as Python</code></pre>

<p>It’s good to be aware that although they can be used like Python dictionaries, JavaScript objects are much more than just containers (aside from primitives like strings and numbers, pretty much everything in JavaScript is an object).<sup><a data-type="noteref" id="idm140319453006528-marker" href="ch02.html#idm140319453006528">17</a></sup> But in most dataviz examples you see, they are used very much like Python <code>dict</code>s.</p>

<p><a data-type="xref" href="#table0202">Table 2-2</a> converts basic list operations.</p>
<table id="table0202">
<caption><span class="label">Table 2-2. </span>Lists and arrays</caption>
<thead>
<tr>
<th>JavaScript array (a)</th>
<th>Python list (l)</th>
</tr>
</thead>
<tbody>
<tr>
<td><p><code>a.length</code></p></td>
<td><p><code>len(l)</code></p></td>
</tr>
<tr>
<td><p><code>a.push(item)</code></p></td>
<td><p><code>l.append(item)</code></p></td>
</tr>
<tr>
<td><p><code>a.pop()</code></p></td>
<td><p><code>l.pop()</code></p></td>
</tr>
<tr>
<td><p><code>a.shift()</code></p></td>
<td><p><code>l.pop(0)</code></p></td>
</tr>
<tr>
<td><p><code>a.unshift(item)</code></p></td>
<td><p><code>l.insert(0, item)</code></p></td>
</tr>
<tr>
<td><p><code>a.slice(start, end)</code></p></td>
<td><p><code>l[start:end]</code></p></td>
</tr>
<tr>
<td><p><code>a.splice(start, howMany, i1,  …)</code></p></td>
<td><p><code>l[start:end] = [i1, …]</code></p></td>
</tr>
</tbody>
</table>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Functions"><div class="sect2" id="idm140319453288016">
<h2>Functions</h2>

<p><a data-type="indexterm" data-primary="" data-startref="llbpbdatacont2" id="idm140319452980272"></a><a data-type="indexterm" data-primary="" data-startref="dicts2" id="idm140319452979072"></a><a data-type="indexterm" data-primary="" data-startref="obj2" id="idm140319452978128"></a><a data-type="indexterm" data-primary="" data-startref="list2" id="idm140319452977184"></a><a data-type="indexterm" data-primary="" data-startref="array2" id="idm140319452976240"></a><a data-type="indexterm" data-primary="" data-startref="datacont2" id="idm140319452975296"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="functions" id="idm140319452974352"></a><a data-type="indexterm" data-primary="functions" id="idm140319452973168"></a>Section B of Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a> shows a function declaration.  Python uses <code>def</code> to indicate a function:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">process_student_data</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">pass_threshold</code><code class="o">=</code><code class="mi">60</code><code class="p">,</code>
                         <code class="n">merit_threshold</code><code class="o">=</code><code class="mi">75</code><code class="p">):</code>
    <code class="sd">""" Perform some basic stats on some student data. """</code>
    <code class="o">...</code></pre>

<p>whereas JavaScript uses <code>function</code>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code> <code class="nx">processStudentData</code><code class="p">(</code><code class="nx">data</code><code class="p">,</code> <code class="nx">passThreshold</code><code class="p">,</code> <code class="nx">meritThreshold</code><code class="p">){</code>
    <code class="nx">passThreshold</code> <code class="o">=</code> <code class="k">typeof</code> <code class="nx">passThreshold</code> <code class="o">!==</code> <code class="s1">'undefined'</code><code class="o">?</code>
      <code class="nx">passThreshold</code><code class="o">:</code> <code class="mi">60</code><code class="p">;</code>
    <code class="nx">meritThreshold</code> <code class="o">=</code> <code class="k">typeof</code> <code class="nx">meritThreshold</code> <code class="o">!==</code> <code class="s1">'undefined'</code><code class="o">?</code>
      <code class="nx">meritThreshold</code><code class="o">:</code> <code class="mi">75</code><code class="p">;</code>
    <code class="p">...</code>
<code class="p">}</code></pre>

<p>Both have a list of parameters. With JS, the function code block is indicated by the curly brackets <em>{ … }</em>; with Python, the code block is defined by a colon and indentation.</p>

<p>JS has an alternative way of defining a function called the <em>function expression</em>, which you may see in examples:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="kd">var</code> <code class="nx">processStudentData</code> <code class="o">=</code> <code class="kd">function</code><code class="p">(</code> <code class="p">...){</code></pre>

<p>The differences are subtle enough not to worry about for now.<sup><a data-type="noteref" id="idm140319452898368-marker" href="ch02.html#idm140319452898368">18</a></sup> For what it’s worth, I tend to use function expressions pretty much exclusively.</p>

<p>Function parameters is an area where Python’s handling is a great deal more sophisticated than JavaScript’s. As you can see in <code>process_student_data</code> (Section B in <a data-type="xref" href="#ex1_py">Example 2-3</a>), Python allows default arguments for the parameters. In JavaScript, all parameters not used in the function call are declared as <em>undefined</em>.  In order to set a default value for these, we have to perform a distinctly hacky conditional (ternary) expression:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code> <code class="nx">processStudentData</code><code class="p">(</code><code class="nx">data</code><code class="p">,</code> <code class="nx">passThreshold</code><code class="p">,</code> <code class="nx">meritThreshold</code><code class="p">){</code>
    <code class="nx">passThreshold</code> <code class="o">=</code> <code class="k">typeof</code> <code class="nx">passThreshold</code> <code class="o">!==</code> <code class="s1">'undefined'</code><code class="o">?</code>
      <code class="nx">passThreshold</code><code class="o">:</code> <code class="mi">60</code><code class="p">;</code>
    <code class="p">...</code></pre>

<p>The good news for JavaScripters is that the latest version of JavaScript, based on Ecmascript 6 and coming very soon, allows Python-like <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/default_parameters">default parameters</a>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code> <code class="nx">processStudentData</code><code class="p">(</code><code class="nx">data</code><code class="p">,</code> <code class="nx">passThreshold</code><code class="o">=</code><code class="mi">60</code><code class="p">,</code>
  <code class="nx">meritThreshold</code><code class="o">=</code><code class="mi">75</code><code class="p">){</code>
<code class="p">...</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Iterating: for Loops and Functional Alternatives"><div class="sect2" id="idm140319452981472">
<h2>Iterating: for Loops and Functional Alternatives</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="iteration" id="LLBpbiteration2"></a><a data-type="indexterm" data-primary="iteration" id="iteration2"></a><a data-type="indexterm" data-primary="for loops" id="forloops2"></a><a data-type="indexterm" data-primary="functional methods" data-secondary="vs. for loops" data-secondary-sortas="for loops" id="funcalt2"></a>Section C in Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a> shows our first major departure, demonstrating JavaScript’s functional chops.</p>

<p>Python’s <code>for</code> loops are simple, intuitive, and effective on any iterator, such as arrays and <code>dict</code>s. One gotcha with <code>dict</code>s is that standard iteration is by key, not items. For example:</p>

<pre data-type="programlisting" data-code-language="python" class="pagebreak-before"><code class="n">foo</code> <code class="o">=</code> <code class="p">{</code><code class="s1">'a'</code><code class="p">:</code><code class="mi">3</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">:</code><code class="mi">2</code><code class="p">}</code>
<code class="k">for</code> <code class="n">x</code> <code class="ow">in</code> <code class="n">foo</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">x</code><code class="p">)</code>
<code class="c1"># outputs 'a' 'b'</code></pre>

<p>To iterate over the key-value pairs, use the <code>dict</code>’s <code>items</code> method like so:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">for</code> <code class="n">x</code> <code class="ow">in</code> <code class="n">foo</code><code class="o">.</code><code class="n">items</code><code class="p">():</code>
    <code class="k">print</code><code class="p">(</code><code class="n">x</code><code class="p">)</code>
<code class="c1"># outputs key-value tuples ('a', 3) ('b' 2)</code></pre>

<p>You can assign the key/values in the <code>for</code> statement for convenience. For example:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">for</code> <code class="n">key</code><code class="p">,</code> <code class="n">value</code> <code class="ow">in</code> <code class="n">foo</code><code class="o">.</code><code class="n">items</code><code class="p">():</code></pre>

<p>Because Python’s <code>for</code> loop works on anything with the correct iterator plumbing, you can do cool things like loop over file lines:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">for</code> <code class="n">line</code> <code class="ow">in</code> <code class="nb">open</code><code class="p">(</code><code class="s1">'data.txt'</code><code class="p">):</code>
    <code class="k">print</code><code class="p">(</code><code class="n">line</code><code class="p">)</code></pre>

<p>Coming from Python, JS’s for loop is a pretty horrible, unintuitive thing. Here’s an example:</p>

<pre data-type="programlisting" data-code-language="js"><code class="k">for</code><code class="p">(</code><code class="kd">var</code> <code class="nx">i</code> <code class="k">in</code> <code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">]){</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">i</code><code class="p">)</code>
<code class="p">}</code>
<code class="err">#</code> <code class="nx">outputs</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code></pre>

<p>JS’s <code>for .. in</code> returns the index of the array’s items, not the items themselves. To compound matters, for the Pythonista, the order of iteration is not guaranteed, so the indices could be returned in non-consecutive order.</p>

<p>Even iterating over an object is trickier than it might have been. Unlike Python’s <code>dict</code>s, objects could have inherited properties from the prototyping chain, so you should use a <code>hasOwnProperty</code> guard to filter these out, like so:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">obj</code> <code class="o">=</code> <code class="p">{</code><code class="nx">a</code><code class="o">:</code><code class="mi">3</code><code class="p">,</code> <code class="nx">b</code><code class="o">:</code><code class="mi">2</code><code class="p">,</code> <code class="nx">c</code><code class="o">:</code><code class="mi">4</code><code class="p">};</code>
<code class="k">for</code> <code class="p">(</code><code class="kd">var</code> <code class="nx">prop</code> <code class="k">in</code> <code class="nx">obj</code><code class="p">)</code> <code class="p">{</code>
  <code class="k">if</code><code class="p">(</code> <code class="nx">obj</code><code class="p">.</code><code class="nx">hasOwnProperty</code><code class="p">(</code> <code class="nx">prop</code> <code class="p">)</code> <code class="p">)</code> <code class="p">{</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s2">"o."</code> <code class="o">+</code> <code class="nx">prop</code> <code class="o">+</code> <code class="s2">" = "</code> <code class="o">+</code> <code class="nx">obj</code><code class="p">[</code><code class="nx">prop</code><code class="p">]);</code>
  <code class="p">}</code>
<code class="p">}</code>
<code class="c1">// out: o.a = 3, o.b = 2, o.c = 4</code></pre>

<p>Shifting between Python and JS <code>for</code> loops is hardly seamless, demanding you keep on the ball. The good news is that you hardly need to use JS <code>for</code> loops these days. In fact, I almost never find the need. That’s because JS has recently acquired some very powerful first-class functional abilities, which have more expressive power and less scope for confusion with Python and, once you get used to them, quickly become indispensable.<sup><a data-type="noteref" id="idm140319452547088-marker" href="ch02.html#idm140319452547088">19</a></sup></p>

<p>Section C in <a data-type="xref" href="#ex1_js">Example 2-4</a>   demonstrates <code>forEach()</code>, one of the <em>functional</em> methods available to modern JavaScript arrays.<sup><a data-type="noteref" id="idm140319452544080-marker" href="ch02.html#idm140319452544080">20</a></sup> <code>forEach()</code> iterates over the array’s items, sending them in turn to an anonymous callback function defined in the first argument, where they can be processed. The true expressive power of these functional methods comes from chaining them (maps, filters, etc.), but already we have a cleaner, more elegant iteration with none of the awkward bookkeeping of old.</p>

<p>The callback function receives index and the original array as an optional second argument.</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="nx">data</code><code class="p">.</code><code class="nx">forEach</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">currentValue</code><code class="p">,</code> <code class="nx">index</code><code class="p">){</code><code class="c1">//---</code></pre>

<p>Whereas JS arrays have a set of native functional iterator methods (<code>map</code>, <code>reduce</code>, <code>filter</code>, <code>every</code>, <code>sum</code>, <code>reduceRight</code>), <code>Object</code>s—in their guise as pseudo-dictionaries—don’t. If you want to iterate over <code>Object</code> key-value pairs, then I’d recommend using underscore,<sup><a data-type="noteref" id="idm140319452532912-marker" href="ch02.html#idm140319452532912">21</a></sup> the most frequently used functional library for JS and almost as ubiquitous as jQuery. Underscore methods are accessed with the shorthand <code>_</code>, like this:</p>

<pre data-type="programlisting" data-code-language="js"><code class="nx">_</code><code class="p">.</code><code class="nx">each</code><code class="p">(</code><code class="nx">obj</code><code class="p">,</code> <code class="kd">function</code><code class="p">(</code><code class="nx">value</code><code class="p">,</code> <code class="nx">key</code><code class="p">){</code>
    <code class="c1">// do something with the data..</code></pre>

<p>This does introduce a library dependency, but this type of iteration is very common in data-visualization work and underscore has lots of other goodies. Along with jQuery, it has pretty much honorary JS standard-library status.<a data-type="indexterm" data-primary="" data-startref="funcalt2" id="idm140319452391136"></a><a data-type="indexterm" data-primary="" data-startref="forloops2" id="idm140319452470528"></a><a data-type="indexterm" data-primary="" data-startref="iteration2" id="idm140319452469616"></a><a data-type="indexterm" data-primary="" data-startref="LLBpbiteration2" id="idm140319452468672"></a></p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Conditionals: if, else, elif, switch"><div class="sect2" id="idm140319452778272">
<h2>Conditionals: if, else, elif, switch</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="conditionals" id="idm140319452466992"></a><a data-type="indexterm" data-primary="conditional statements" id="idm140319452465552"></a><a data-type="indexterm" data-primary="if statements" id="idm140319452464880"></a><a data-type="indexterm" data-primary="else statements" id="idm140319452464208"></a><a data-type="indexterm" data-primary="elif statements" id="idm140319452359168"></a><a data-type="indexterm" data-primary="switch statements" id="idm140319452358496"></a>Section C in Examples <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_py">2-3</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="#ex1_js">2-4</a> shows Python and JavaScript conditionals in action. Aside from JavaScript’s bracket fetish, the statements are very similar; the only real difference being Python’s extra <code>elif</code> keyword, a convenient conjunction of <code>else if</code>.</p>

<p>Though much requested, Python does not have the <code>switch</code> statement found in most high-level languages. JS does, allowing you to do this:</p>

<pre data-type="programlisting" data-code-language="js"><code class="k">switch</code><code class="p">(</code><code class="nx">expression</code><code class="p">){</code>
  <code class="k">case</code> <code class="nx">value1</code><code class="o">:</code>
    <code class="c1">// execute if expression === value1</code>
    <code class="k">break</code><code class="p">;</code> <code class="c1">// optional end expression</code>
  <code class="k">case</code> <code class="nx">value2</code><code class="o">:</code>
    <code class="c1">//...</code>
  <code class="k">default</code><code class="o">:</code>
    <code class="c1">// if other matches fail</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="File Input and Output"><div class="sect2" id="idm140319452335392">
<h2>File Input and Output</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="file I/O" id="idm140319452345456"></a><a data-type="indexterm" data-primary="file I/O" id="idm140319452344192"></a>JavaScript has no real equivalent of file input and output (I/O), but Python’s is as simple as could be:</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># READING A FILE</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s2">"data.txt"</code><code class="p">)</code> <code class="c1"># open file for reading</code>

<code class="k">for</code> <code class="n">line</code> <code class="ow">in</code> <code class="n">f</code><code class="p">:</code> <code class="c1"># iterate over file lines</code>
    <code class="k">print</code><code class="p">(</code><code class="n">line</code><code class="p">)</code>

<code class="n">lines</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">readlines</code><code class="p">()</code> <code class="c1"># grab all lines in file into array</code>
<code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code> <code class="c1"># read all of file as single string</code>

<code class="c1"># WRITING TO A FILE</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s2">"data.txt"</code><code class="p">,</code> <code class="s1">'w'</code><code class="p">)</code>
<code class="c1"># use 'w' to write, 'a' to append to file</code>
<code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s2">"this will be written as a line to the file"</code><code class="p">)</code>
<code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code> <code class="c1"># explicitly close the file</code></pre>

<p>One much recommended best practice is to use Python’s <code>with</code>, <code>as</code> context manager when opening files. This ensures they are closed automatically when leaving the block, essentially providing syntactic sugar for a <code>try</code>, <code>except</code>, <code>finally</code> block. Here’s how to open a file using <code>with</code>, <code>as</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s2">"data.txt"</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">lines</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">readlines</code><code class="p">()</code>
    <code class="o">...</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Classes and Prototypes"><div class="sect2" id="idm140319452433888">
<h2>Classes and Prototypes</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="classes" id="LLBpbclass2"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="programming basics" data-tertiary="prototypes" id="LLBpbproto2"></a><a data-type="indexterm" data-primary="classes" id="classes2"></a><a data-type="indexterm" data-primary="prototypes" id="prototypes2"></a>Possibly the cause of more confusion that any other topic is <span class="keep-together">JavaScript’s</span> choice of prototypes rather than classical classes as its chief object-oriented programming (OOP) element. I have come to appreciate the concept of prototypes, if not its JS implementation, which could have been cleaner. Nevertheless, once you get the basic principle, you may find that it is actually a better mental model for much of what we do as programmers than classical OOP paradigms.</p>

<p>I remember, when I first started my forays into more advanced languages like C++, falling for the promise of OOP, particularly class-based inheritance. Polymorphism was all the rage and Shape classes were being subclassed to rectangles and ellipses, which were in turn subclassed to more specialized squares and circles.</p>

<p>It didn’t take long to realize that the clean class divisions found in the textbooks were rarely found in real programming and that trying to balance generic and specific APIs quickly became fraught. In this sense, I find composition and mix-ins much more useful as a programming concept than attempts at extended subclassing and often avoid all these by using functional programming techniques, particularly in JavaScript.  Nevertheless, the class/prototype distinction is an obvious difference between the two languages, and the more you understand its nuances, the better you’ll code.<sup><a data-type="noteref" id="idm140319452250560-marker" href="ch02.html#idm140319452250560">22</a></sup></p>

<p>Python’s classes are fairly simple affairs and, as with most of the language, easy to use. I tend to think of them these days as a handy way to encapsulate data with a convenient API, and rarely extend sub-classing beyond one generation. Here’s a simple example:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">class</code><code> </code><code class="nc">Citizen</code><code class="p">(</code><code class="nb">object</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="k">def</code><code> </code><code class="nf-Magic">__init__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code><code> </code><code class="n">name</code><code class="p">,</code><code> </code><code class="n">country</code><code class="p">)</code><code class="p">:</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO6-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>        </code><code class="bp">self</code><code class="o">.</code><code class="n">name</code><code> </code><code class="o">=</code><code> </code><code class="n">name</code><code>
</code><code>        </code><code class="bp">self</code><code class="o">.</code><code class="n">country</code><code> </code><code class="o">=</code><code> </code><code class="n">country</code><code>
</code><code>
</code><code>    </code><code class="k">def</code><code> </code><code class="nf">print_details</code><code class="p">(</code><code class="bp">self</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code class="k">print</code><code class="p">(</code><code class="s1">'</code><code class="s1">Citizen </code><code class="si">%s</code><code class="s1"> from </code><code class="si">%s</code><code class="s1">'</code><code class="o">%</code><code class="p">(</code><code class="bp">self</code><code class="o">.</code><code class="n">name</code><code class="p">,</code><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">country</code><code class="p">)</code><code class="p">)</code><code>
</code><code>
</code><code>
</code><code class="n">c</code><code> </code><code class="o">=</code><code> </code><code class="n">Citizen</code><code class="p">(</code><code class="s1">'</code><code class="s1">Groucho M.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Freedonia</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO6-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">c</code><code class="o">.</code><code class="n">print_details</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="n">Citizen</code><code> </code><code class="n">Groucho</code><code> </code><code class="n">M</code><code class="o">.</code><code> </code><code class="kn">from</code><code> </code><code class="nn">Freedonia</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO6-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Python classes have a number of double-underscored special methods, <code>__init__</code> being the most common, called when the class instance is created. All instance methods have a first, explicit <code>self</code> argument (you could name it something else, but it’s a very bad idea), which refers to the instance. In this case, we use it to set name and country properties.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO6-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Creates a new <code>Citizen</code> instance, initialized with name and country.</p></dd>
</dl>

<p>Python follows a fairly classical pattern of class inheritance. It’s easy to do, which is probably why Pythonistas make a lot of use of it. Let’s customize the <code>Citizen</code> class to create a (Nobel Prize) <code>Winner</code> class with a couple of extra properties:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">class</code><code> </code><code class="nc">Winner</code><code class="p">(</code><code class="n">Citizen</code><code class="p">)</code><code class="p">:</code><code>
</code><code>
</code><code>    </code><code class="k">def</code><code> </code><code class="nf-Magic">__init__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code><code> </code><code class="n">name</code><code class="p">,</code><code> </code><code class="n">country</code><code class="p">,</code><code> </code><code class="n">category</code><code class="p">,</code><code> </code><code class="n">year</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code class="nb">super</code><code class="p">(</code><code class="n">Winner</code><code class="p">,</code><code> </code><code class="bp">self</code><code class="p">)</code><code class="o">.</code><code class="nf-Magic">__init__</code><code class="p">(</code><code class="n">name</code><code class="p">,</code><code> </code><code class="n">country</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO7-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>        </code><code class="bp">self</code><code class="o">.</code><code class="n">category</code><code> </code><code class="o">=</code><code> </code><code class="n">category</code><code>
</code><code>        </code><code class="bp">self</code><code class="o">.</code><code class="n">year</code><code> </code><code class="o">=</code><code> </code><code class="n">year</code><code>
</code><code>
</code><code>    </code><code class="k">def</code><code> </code><code class="nf">print_details</code><code class="p">(</code><code class="bp">self</code><code class="p">)</code><code class="p">:</code><code>
</code><code>        </code><code class="k">print</code><code class="p">(</code><code class="s1">'</code><code class="s1">Nobel winner </code><code class="si">%s</code><code class="s1"> from </code><code class="si">%s</code><code class="s1">, category </code><code class="si">%s</code><code class="s1">, year </code><code class="si">%s</code><code class="s1">'</code><code>\
</code><code>        </code><code class="o">%</code><code class="p">(</code><code class="bp">self</code><code class="o">.</code><code class="n">name</code><code class="p">,</code><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">country</code><code class="p">,</code><code> </code><code class="bp">self</code><code class="o">.</code><code class="n">category</code><code class="p">,</code><code>\
</code><code>        </code><code class="nb">str</code><code class="p">(</code><code class="bp">self</code><code class="o">.</code><code class="n">year</code><code class="p">)</code><code class="p">)</code><code class="p">)</code><code>
</code><code>
</code><code>
</code><code class="n">w</code><code> </code><code class="o">=</code><code> </code><code class="n">Winner</code><code class="p">(</code><code class="s1">'</code><code class="s1">Albert E.</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Switzerland</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Physics</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">1921</code><code class="p">)</code><code>
</code><code class="n">w</code><code class="o">.</code><code class="n">print_details</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="n">Nobel</code><code> </code><code class="n">prize</code><code class="o">-</code><code class="n">winner</code><code> </code><code class="n">Albert</code><code> </code><code class="n">E</code><code class="o">.</code><code> </code><code class="kn">from</code><code> </code><code class="nn">Switzerland</code><code class="p">,</code><code> </code><code class="n">category</code><code> </code><code class="n">Physics</code><code class="p">,</code><code>
</code><code class="n">year</code><code> </code><code class="mi">1921</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO7-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>We want to reuse the superclass <code>Citizen’s</code> <code>__init__</code> method, using this <code>Winner</code> instance as <code>self</code>. The <code>super</code> method scales the inheritance tree one branch from its first argument, supplying the second as instance to the class-instance method.</p></dd>
</dl>

<p>I think the best article I have read on the key difference between <span class="keep-together">JavaScript’s</span> prototypes and classical classes is Reginald Braithwaite’s  <a href="http://raganwald.com/2015/05/11/javascript-classes.html">“OOP, JavaScript, and so-called Classes”</a>. This quote sums up the difference between classes and prototypes as nicely as any I’ve found:</p>
<blockquote>
<p>The difference between a prototype and a class is similar to the difference between a model home and a blueprint for a home.</p></blockquote>

<p>When you instantiate a C++ or Python class, a blueprint is followed, creating an object and calling its various constructors in the inheritance tree. In other words, you start from scratch and build a nice, pristine new class instance.</p>

<p>With JavaScript prototypes, you start with a model home (object) that has rooms (methods). If you want a new living room, you can just replace the old one with something in better colors. If you want a new conservatory, then just make an extension. But rather than building from scratch with a blueprint, you’re adapting and extending an existing object.</p>

<p>With that necessary theory out of the way and the reminder that object inheritance is useful to know but hardly ubiquitous in dataviz, let’s see a simple JavaScript prototype object in <a data-type="xref" href="#bridge_citizen_js">Example 2-5</a>.</p>
<div id="bridge_citizen_js" data-type="example">
<h5><span class="label">Example 2-5. </span>A simple JavaScript object</h5>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code><code> </code><code class="nx">Citizen</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">name</code><code class="p">,</code><code> </code><code class="nx">country</code><code class="p">)</code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO8-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
  </code><code class="k">this</code><code class="p">.</code><code class="nx">name</code><code> </code><code class="o">=</code><code> </code><code class="nx">name</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO8-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO8-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
  </code><code class="k">this</code><code class="p">.</code><code class="nx">country</code><code> </code><code class="o">=</code><code> </code><code class="nx">country</code><code class="p">;</code><code>
</code><code class="p">}</code><code class="p">;</code><code>

</code><code class="nx">Citizen</code><code class="p">.</code><code class="nx">prototype</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO8-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO8-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
  </code><code class="nx">printDetails</code><code class="o">:</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="p">)</code><code class="p">{</code><code>
    </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Citizen '</code><code> </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">name</code><code> </code><code class="o">+</code><code> </code><code class="s1">' from '</code><code> </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">country</code><code class="p">)</code><code class="p">;</code><code>
  </code><code class="p">}</code><code>
</code><code class="p">}</code><code class="p">;</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">c</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="nx">Citizen</code><code class="p">(</code><code class="s1">'Groucho M.'</code><code class="p">,</code><code> </code><code class="s1">'Freedonia'</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO8-4" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO8-4"><img src="4.png" alt="4" width="12" height="12"></a><code>

</code><code class="nx">c</code><code class="p">.</code><code class="nx">printDetails</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nx">Citizen</code><code> </code><code class="nx">Groucho</code><code> </code><code class="nx">M</code><code class="p">.</code><code> </code><code class="nx">from</code><code> </code><code class="nx">Freedonia</code><code>

</code><code class="k">typeof</code><code class="p">(</code><code class="nx">c</code><code class="p">)</code><code> </code><code class="err">#</code><code> </code><code class="nx">object</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO8-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>JavaScript has no classes<sup><a data-type="noteref" id="idm140319451691728-marker" href="ch02.html#idm140319451691728">23</a></sup> so object instances are built from functions or objects.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO8-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO8-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p><code>this</code> is an implicit reference to the <em>calling context</em> of the function. For now, it behaves as you would expect and even though it looks a little like Python’s <code>self</code>, the two are quite different, as we’ll see.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO8-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO8-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>The methods specified here will both override any prototypical methods up the inheritance chain and be inherited by any objects derived from <code>Citizen</code>.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO8-4" href="#co_a_language_learning_bridge_between_python_and_javascript_CO8-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p><code>new</code> is used to create a new object, set its prototype to that of the <code>Citizen</code> constructor function, and then call the <code>Citizen</code> constructor function on the new object.</p></dd>
</dl></div>
<aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm140319451661360">
<h5>self Versus this</h5>
<p><a data-type="indexterm" data-primary="self variable" id="idm140319451660112"></a><a data-type="indexterm" data-primary="this keyword" id="idm140319451659184"></a>At first glance, it would be easy enough to assume that Python’s <code>self</code> and JavaScript’s <code>this</code> are essentially the same, the latter being an implicit version of the former, which is supplied to all class instance methods. Actually, <code>this</code> and <code>self</code> are significantly different. Let’s use our bilingual <code>Citizen</code> class to demonstrate.</p>

<p>Python’s <code>self</code> is a variable supplied to each class method (you can call it anything you like, but it’s not advisable), representing the class instance. But <code>this</code> is a keyword that refers to the object calling the method. This calling object can be different from the method’s object instance, and JavaScript provides the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"><code>call</code>, <code>bind</code>, and <code>apply</code></a> function methods to allow you to exploit this fact.</p>

<p>Let’s use the <code>call</code> method to change the calling object of a <code>print_details</code> method and therefore the reference for <code>this</code>, used in the method to get the citizen’s name:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">groucho</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Citizen</code><code class="p">(</code><code class="s1">'Groucho M.'</code><code class="p">,</code> <code class="s1">'Freedonia'</code><code class="p">);</code>
<code class="kd">var</code> <code class="nx">harpo</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Citizen</code><code class="p">(</code><code class="s1">'Harpo M.'</code><code class="p">,</code> <code class="s1">'Freedonia'</code><code class="p">);</code>

<code class="nx">groucho</code><code class="p">.</code><code class="nx">print_details</code><code class="p">.</code><code class="nx">call</code><code class="p">(</code><code class="nx">harpo</code><code class="p">);</code>
<code class="nx">Out</code><code class="o">:</code>
<code class="s2">"Citizen Harpo M. from Freedonia"</code></pre>

<p>So JavaScript’s <code>this</code> is a much more malleable proxy than Python’s <code>self</code>, offering more freedom but also the responsibility of tracking calling context and, should you use it, making sure <code>new</code> is always used in creating objects.<sup><a data-type="noteref" id="idm140319451611360-marker" href="ch02.html#idm140319451611360">24</a></sup></p>
</div></aside>

<p>I included  <a data-type="xref" href="#bridge_citizen_js">Example 2-5</a>, which shows <code>new</code> in JavaScript object instantiation, because you will run into its use a fair deal. But the syntax is already a little awkward and gets quite a bit worse when you try to do inheritance. Ecmascript 5 introduced the <code>Object.create</code> method, a better way to create objects and to implement inheritance. I’d recommend using it in your own code, but <code>new</code> will probably crop up in some third-party libraries.</p>

<p>Let’s use <code>Object.create</code> to create a <code>Citizen</code> and its <code>Winner</code> inheritor. To emphasize, JavaScript has many ways to do this, but <a data-type="xref" href="#bridge_prototype_inheritance">Example 2-6</a> shows the cleanest I have found and my personal <span class="keep-together">pattern</span>.</p>
<div id="bridge_prototype_inheritance" data-type="example">
<h5><span class="label">Example 2-6. </span>Prototypical inheritance with Object.create</h5>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code><code> </code><code class="nx">Citizen</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO9-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
    </code><code class="nx">setCitizen</code><code class="o">:</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">name</code><code class="p">,</code><code> </code><code class="nx">country</code><code class="p">)</code><code class="p">{</code><code>
        </code><code class="k">this</code><code class="p">.</code><code class="nx">name</code><code> </code><code class="o">=</code><code> </code><code class="nx">name</code><code class="p">;</code><code>
        </code><code class="k">this</code><code class="p">.</code><code class="nx">country</code><code> </code><code class="o">=</code><code> </code><code class="nx">country</code><code class="p">;</code><code>
        </code><code class="k">return</code><code> </code><code class="k">this</code><code class="p">;</code><code>
    </code><code class="p">}</code><code class="p">,</code><code>
    </code><code class="nx">printDetails</code><code class="o">:</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="p">)</code><code class="p">{</code><code>
        </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Citizen '</code><code> </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">name</code><code> </code><code class="o">+</code><code> </code><code class="s1">' from '</code><code class="p">,</code><code class="o">\</code><code>
        </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">country</code><code class="p">)</code><code class="p">;</code><code>
    </code><code class="p">}</code><code>
</code><code class="p">}</code><code class="p">;</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">Winner</code><code> </code><code class="o">=</code><code> </code><code class="nb">Object</code><code class="p">.</code><code class="nx">create</code><code class="p">(</code><code class="nx">Citizen</code><code class="p">)</code><code class="p">;</code><code>

</code><code class="nx">Winner</code><code class="p">.</code><code class="nx">setWinner</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">name</code><code class="p">,</code><code> </code><code class="nx">country</code><code class="p">,</code><code> </code><code class="nx">category</code><code class="p">,</code><code> </code><code class="nx">year</code><code class="p">)</code><code class="p">{</code><code>
    </code><code class="k">this</code><code class="p">.</code><code class="nx">setCitizen</code><code class="p">(</code><code class="nx">name</code><code class="p">,</code><code> </code><code class="nx">country</code><code class="p">)</code><code class="p">;</code><code>
    </code><code class="k">this</code><code class="p">.</code><code class="nx">category</code><code> </code><code class="o">=</code><code> </code><code class="nx">category</code><code class="p">;</code><code>
    </code><code class="k">this</code><code class="p">.</code><code class="nx">year</code><code> </code><code class="o">=</code><code> </code><code class="nx">year</code><code class="p">;</code><code>
    </code><code class="k">return</code><code> </code><code class="k">this</code><code class="p">;</code><code>
</code><code class="p">}</code><code class="p">;</code><code>

</code><code class="nx">Winner</code><code class="p">.</code><code class="nx">printDetails</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="p">)</code><code class="p">{</code><code>
    </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Nobel winner '</code><code> </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">name</code><code> </code><code class="o">+</code><code> </code><code class="s1">' from '</code><code> </code><code class="o">+</code><code>
    </code><code class="k">this</code><code class="p">.</code><code class="nx">country</code><code> </code><code class="o">+</code><code> </code><code class="s1">', category '</code><code> </code><code class="o">+</code><code> </code><code class="k">this</code><code class="p">.</code><code class="nx">category</code><code> </code><code class="o">+</code><code> </code><code class="s1">', year '</code><code> </code><code class="o">+</code><code>
    </code><code class="k">this</code><code class="p">.</code><code class="nx">year</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="p">}</code><code class="p">;</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">albert</code><code> </code><code class="o">=</code><code> </code><code class="nb">Object</code><code class="p">.</code><code class="nx">create</code><code class="p">(</code><code class="nx">Winner</code><code class="p">)</code><code>
    </code><code class="p">.</code><code class="nx">setWinner</code><code class="p">(</code><code class="s1">'Albert Einstein'</code><code class="p">,</code><code> </code><code class="s1">'Switzerland'</code><code class="p">,</code><code> </code><code class="s1">'Physics'</code><code class="p">,</code><code> </code><code class="mi">1921</code><code class="p">)</code><code class="p">;</code><code>

</code><code class="nx">albert</code><code class="p">.</code><code class="nx">printDetails</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nx">Nobel</code><code> </code><code class="nx">winner</code><code> </code><code class="nx">Albert</code><code> </code><code class="nx">Einstein</code><code> </code><code class="nx">from</code><code> </code><code class="nx">Switzerland</code><code class="p">,</code><code> </code><code class="nx">category</code><code>
</code><code class="nx">Physics</code><code class="p">,</code><code> </code><code class="nx">year</code><code> </code><code class="mi">1921</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO9-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p><code>Citizen</code> is now an object rather than a constructor function. Think of this as the base house for any new buildings such as <code>Winner</code>.</p></dd>
</dl></div>

<p>To reiterate, prototypical inheritance is not seen that often in JavaScript dataviz, particularly the 800-pound gorilla D3 with its emphasis on declarative and functional patterns, with <em>raw</em> unencapsulated data being used to stamp its impression on the web page.</p>

<p>The tricky class/prototype comparison concludes this section on basic syntactic differences. Now let’s look at some common patterns seen in dataviz work with Python and JS.<a data-type="indexterm" data-primary="" data-startref="prototypes2" id="idm140319441768928"></a><a data-type="indexterm" data-primary="" data-startref="classes2" id="idm140319441767952"></a><a data-type="indexterm" data-primary="" data-startref="LLBpbproto2" id="idm140319441767008"></a><a data-type="indexterm" data-primary="" data-startref="LLBpbclass2" id="idm140319441772672"></a></p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Differences in Practice"><div class="sect1" id="idm140319452258640">
<h1>Differences in Practice</h1>

<p>The syntactic differences between JS and Python are important to know and thankfully outweighed by their syntactic similarities. The meat and potatoes of imperative programming, loops, conditionals, data declaration, and manipulation is much the same. This is all the more so in the specialized domain of data processing and data visualization where the languages’ first-class functions allow common idioms.</p>

<p>What follows is a less-than-comprehensive list of some important patterns and idioms seen in Python and JavaScript, from the perspective of a data visualizer. Where possible, a translation between the two languages is given.</p>








<section data-type="sect2" data-pdf-bookmark="Method Chaining"><div class="sect2" id="idm140319441817552">
<h2>Method Chaining</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="method chaining" id="idm140319441816080"></a><a data-type="indexterm" data-primary="method chaining" id="idm140319441544272"></a>A common JavaScript idiom is <em>method chaining</em>, popularized by its most popular library, jQuery, and much used in D3. Method chaining involves returning an object from its own method in order to call another method on the result, using dot notation:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code><code> </code><code class="nx">sel</code><code> </code><code class="o">=</code><code> </code><code class="nx">d3</code><code class="p">.</code><code class="nx">select</code><code class="p">(</code><code class="s1">'#viz'</code><code class="p">)</code><code>
    </code><code class="p">.</code><code class="nx">attr</code><code class="p">(</code><code class="s1">'width'</code><code class="p">,</code><code> </code><code class="s1">'600px'</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO10-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
    </code><code class="p">.</code><code class="nx">attr</code><code class="p">(</code><code class="s1">'height'</code><code class="p">,</code><code> </code><code class="s1">'400px'</code><code class="p">)</code><code>
    </code><code class="p">.</code><code class="nx">style</code><code class="p">(</code><code class="s1">'background'</code><code class="p">,</code><code> </code><code class="s1">'lightgray'</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO10-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The <code>attr</code> method returns the D3 selection that called it, which is then used to call another <code>attr</code> method.</p></dd>
</dl>

<p>Method chaining is not much seen in Python, which generally advocates one statement per line in keeping with simplicity and <span class="keep-together">readability</span>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Enumerating a List"><div class="sect2" id="idm140319451588384">
<h2>Enumerating a List</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="list enumeration" id="idm140319451587072"></a><a data-type="indexterm" data-primary="lists" data-secondary="enumerating" id="idm140319451585968"></a>Often it’s useful to iterate through a list while keeping track of the item’s index. Python has the very handy built-in <code>enumerate</code> function for just this reason:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">names</code> <code class="o">=</code> <code class="p">[</code><code class="s1">'Alice'</code><code class="p">,</code> <code class="s1">'Bob'</code><code class="p">,</code> <code class="s1">'Carol'</code><code class="p">]</code>

<code class="k">for</code> <code class="n">i</code><code class="p">,</code> <code class="n">n</code> <code class="ow">in</code> <code class="nb">enumerate</code><code class="p">(</code><code class="n">names</code><code class="p">):</code>
    <code class="k">print</code><code class="p">(</code><code class="s1">'</code><code class="si">%d</code><code class="s1">: </code><code class="si">%s</code><code class="s1">'</code><code class="o">%</code><code class="p">(</code><code class="n">i</code><code class="p">,</code> <code class="n">n</code><code class="p">))</code>

<code class="n">Out</code><code class="p">:</code>
<code class="mi">0</code><code class="p">:</code> <code class="n">Alice</code>
<code class="mi">1</code><code class="p">:</code> <code class="n">Bob</code>
<code class="mi">2</code><code class="p">:</code> <code class="n">Carol</code></pre>

<p>JavaScript’s list methods, such as <code>forEach</code> and the functional <code>map</code>, <code>reduce</code>, and <code>filter</code>, supply the iterated item and its index to the callback function:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">names</code> <code class="o">=</code> <code class="p">[</code><code class="s1">'Alice'</code><code class="p">,</code> <code class="s1">'Bob'</code><code class="p">,</code> <code class="s1">'Carol'</code><code class="p">];</code>

<code class="nx">names</code><code class="p">.</code><code class="nx">forEach</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">n</code><code class="p">,</code> <code class="nx">i</code><code class="p">){</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">i</code> <code class="o">+</code> <code class="s1">': '</code> <code class="o">+</code> <code class="nx">n</code><code class="p">);</code>
<code class="p">});</code>

<code class="nx">Out</code><code class="o">:</code>
<code class="mi">0</code><code class="o">:</code> <code class="nx">Alice</code>
<code class="mi">1</code><code class="o">:</code> <code class="nx">Bob</code>
<code class="mi">2</code><code class="o">:</code> <code class="nx">Carol</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Tuple Unpacking"><div class="sect2" id="idm140319451316832">
<h2>Tuple Unpacking</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="tuple unpacking" id="idm140319442184304"></a><a data-type="indexterm" data-primary="tuples, unpacking" id="idm140319442183088"></a>One of the first cool tricks Python initiates come across uses tuple unpacking to switch variables:</p>

<pre data-type="programlisting" data-code-language="python"><code class="p">(</code><code class="n">a</code><code class="p">,</code> <code class="n">b</code><code class="p">)</code> <code class="o">=</code> <code class="p">(</code><code class="n">b</code><code class="p">,</code> <code class="n">a</code><code class="p">)</code></pre>

<p>Note that the brackets are optional. This can be put to more practical purpose as a way of reducing the temporary variables, such as in a Fibonacci function:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">fibonacci</code><code class="p">(</code><code class="n">n</code><code class="p">):</code>
    <code class="n">x</code><code class="p">,</code> <code class="n">y</code> <code class="o">=</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">1</code>
    <code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="n">n</code><code class="p">):</code>
        <code class="k">print</code><code class="p">(</code><code class="n">x</code><code class="p">)</code>
        <code class="n">x</code><code class="p">,</code> <code class="n">y</code> <code class="o">=</code> <code class="n">y</code><code class="p">,</code> <code class="n">x</code> <code class="o">+</code> <code class="n">y</code></pre>

<p>If you want to ignore one of the unpacked variables, use an <span class="keep-together">underscore</span>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">winner</code> <code class="o">=</code> <code class="s1">'Albert Einstein'</code><code class="p">,</code> <code class="s1">'Physics'</code><code class="p">,</code> <code class="mi">1921</code><code class="p">,</code> <code class="s1">'Swiss'</code>

<code class="n">name</code><code class="p">,</code> <code class="n">_</code><code class="p">,</code> <code class="n">_</code><code class="p">,</code> <code class="n">nationality</code> <code class="o">=</code> <code class="n">winner</code></pre>

<p>Tuple unpacking has a slew of use cases. It is also a fundamental feature of the language and not available in JavaScript.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Collections"><div class="sect2" id="idm140319442149984">
<h2>Collections</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="collections" id="idm140319442148672"></a><a data-type="indexterm" data-primary="collections module" id="idm140319442147232"></a>One of the most useful Python “batteries” is the <code>collections</code> module. This provides some specialized container datatypes to augment Python’s standard set. It has a <code>deque</code>, which provides a list-like container with fast appends and pops at either end; an <code>OrderedDict</code>, which remembers the order entries were added; a <code>defaultdict</code>, which provides a factory function to set the dictionary’s default; and a <code>Counter</code> container for counting hashable objects, among others. I find myself using the last three a lot. Here are a few examples:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code><code> </code><code class="nn">collections</code><code> </code><code class="kn">import</code><code> </code><code class="n">Counter</code><code class="p">,</code><code> </code><code class="n">defaultdict</code><code class="p">,</code><code> </code><code class="n">OrderedDict</code><code>
</code><code>
</code><code class="n">items</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">B</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">]</code><code>
</code><code>
</code><code class="n">cntr</code><code> </code><code class="o">=</code><code> </code><code class="n">Counter</code><code class="p">(</code><code class="n">items</code><code class="p">)</code><code>
</code><code class="k">print</code><code class="p">(</code><code class="n">cntr</code><code class="p">)</code><code>
</code><code class="n">cntr</code><code class="p">[</code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">-</code><code class="o">=</code><code class="mi">1</code><code>
</code><code class="k">print</code><code class="p">(</code><code class="n">cntr</code><code class="p">)</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="n">Counter</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">B</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">}</code><code class="p">)</code><code>
</code><code class="n">Counter</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">B</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">}</code><code class="p">)</code><code>
</code><code>
</code><code>
</code><code class="n">d</code><code> </code><code class="o">=</code><code> </code><code class="n">defaultdict</code><code class="p">(</code><code class="nb">int</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO11-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>
</code><code class="k">for</code><code> </code><code class="n">item</code><code> </code><code class="ow">in</code><code> </code><code class="n">items</code><code class="p">:</code><code>
</code><code>    </code><code class="n">d</code><code class="p">[</code><code class="n">item</code><code class="p">]</code><code> </code><code class="o">+</code><code class="o">=</code><code> </code><code class="mi">1</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO11-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO11-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>
</code><code class="n">d</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="n">defaultdict</code><code class="p">(</code><code class="o">&lt;</code><code class="nb">type</code><code> </code><code class="s1">'</code><code class="s1">int</code><code class="s1">'</code><code class="o">&gt;</code><code class="p">,</code><code> </code><code class="p">{</code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">B</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="mi">2</code><code class="p">}</code><code class="p">)</code><code>
</code><code>
</code><code>
</code><code class="n">OrderedDict</code><code class="p">(</code><code class="nb">sorted</code><code class="p">(</code><code class="n">d</code><code class="o">.</code><code class="n">items</code><code class="p">(</code><code class="p">)</code><code class="p">,</code><code> </code><code class="n">key</code><code class="o">=</code><code class="k">lambda</code><code> </code><code class="n">i</code><code class="p">:</code><code> </code><code class="n">i</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO11-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO11-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="n">OrderedDict</code><code class="p">(</code><code class="p">[</code><code class="p">(</code><code class="s1">'</code><code class="s1">B</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">E</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">A</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">F</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">)</code><code class="p">,</code><code> </code><code class="p">(</code><code class="s1">'</code><code class="s1">C</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">)</code><code class="p">]</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO11-4" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO11-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO11-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Sets the dictionary default to an integer, with value 0 by default.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO11-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO11-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>If the item-key doesn’t exist, its value is set to the default of 0 and 1 added to that.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO11-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO11-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Gets the list of items in the dictionary <code>d</code> as key-value tuple pairs, sorts using the integer value, and then creates an <code>OrderedDict</code> with the sorted list.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO11-4" href="#co_a_language_learning_bridge_between_python_and_javascript_CO11-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>The <code>OrderedDict</code> remembers the (sorted) order of the items as they were added to it.</p></dd>
</dl>

<p>You can get more details on the <code>collections</code> module from  <a href="https://docs.python.org/2/library/collections.html">here</a>.</p>

<p>There is a recent JavaScript library that emulates the Python <code>collections</code> module. You can find it <a href="https://github.com/seriesoftubes/pycollections.js">here</a>. As of late 2015, it is a very new but impressive piece of work, worth checking out even if you just want to extend your JavaScript knowledge.</p>

<p>If you want to replicate some of Python’s <code>collections</code> function using more conventional JavaScript libraries, underscore (or its functionally identical replacement lodash<sup><a data-type="noteref" id="idm140319441148800-marker" href="ch02.html#idm140319441148800">25</a></sup>) is a good place to start. These libraries offer some enhanced functional programming utilities. Let’s take a quick look at this very handy tool.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Underscore"><div class="sect2" id="idm140319441147824">
<h2>Underscore</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="underscore library" id="idm140319441146256"></a><a data-type="indexterm" data-primary="underscore library" id="idm140319441144992"></a>Underscore is probably the most popular JavaScript library after the ubiquitous jQuery and offers a bevy of functional programming utilities for the JavaScript dataviz programmer. The easiest way to use underscore is to use a content delivery network (CDN) to load it remotely (these loads will be cached by your browser, making things very efficient for common libraries), like so:</p>

<pre data-type="programlisting" data-code-language="html"><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"https://cdnjs.cloudflare.com/ajax/libs/</code>
<code class="s">             underscore.js/1.8.3/underscore-min.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p>Underscore has loads of useful functions. There is, for example, a <code>countBy</code> method, which serves the same purpose as the Python’s <code>collections</code> counter just discussed:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code><code> </code><code class="nx">items</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="s1">'F'</code><code class="p">,</code><code> </code><code class="s1">'C'</code><code class="p">,</code><code> </code><code class="s1">'C'</code><code class="p">,</code><code> </code><code class="s1">'A'</code><code class="p">,</code><code> </code><code class="s1">'B'</code><code class="p">,</code><code> </code><code class="s1">'A'</code><code class="p">,</code><code> </code><code class="s1">'C'</code><code class="p">,</code><code> </code><code class="s1">'E'</code><code class="p">,</code><code> </code><code class="s1">'F'</code><code class="p">]</code><code class="p">;</code><code>

</code><code class="nx">_</code><code class="p">.</code><code class="nx">countBy</code><code class="p">(</code><code class="nx">items</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO12-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nb">Object</code><code> </code><code class="p">{</code><code class="nx">F</code><code class="o">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="nx">C</code><code class="o">:</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="nx">A</code><code class="o">:</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="nx">B</code><code class="o">:</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="nx">E</code><code class="o">:</code><code> </code><code class="mi">1</code><code class="p">}</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO12-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Now you see why the library is called underscore.</p></dd>
</dl>

<p>As we’ll now see, the inclusion in modern JavaScript of native functional methods (<code>map</code>, <code>reduce</code>, <code>filter</code>) and a <code>forEach</code> iterator for arrays has made underscore slightly less indispensable, but it still has some great utilities to augment vanilla JS. With a little chaining, you can produce extremely terse but very powerful code. Underscore was my gateway drug to functional programming in JavaScript, and the idioms are just as addictive today.  Check out underscore’s repertoire of utilities <a href="http://underscorejs.org/">here</a>.</p>

<p>Let’s have a look at underscore in action, tackling a more involved task:</p>

<pre data-type="programlisting" data-code-language="js"><code class="nx">journeys</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code>
  </code><code class="p">{</code><code class="nx">period</code><code class="o">:</code><code class="s1">'morning'</code><code class="p">,</code><code> </code><code class="nx">times</code><code class="o">:</code><code class="p">[</code><code class="mi">44</code><code class="p">,</code><code> </code><code class="mi">34</code><code class="p">,</code><code> </code><code class="mi">56</code><code class="p">,</code><code> </code><code class="mi">31</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code>
  </code><code class="p">{</code><code class="nx">period</code><code class="o">:</code><code class="s1">'evening'</code><code class="p">,</code><code> </code><code class="nx">times</code><code class="o">:</code><code class="p">[</code><code class="mi">35</code><code class="p">,</code><code> </code><code class="mi">33</code><code class="p">]</code><code class="p">,</code><code class="p">}</code><code class="p">,</code><code>
  </code><code class="p">{</code><code class="nx">period</code><code class="o">:</code><code class="s1">'morning'</code><code class="p">,</code><code> </code><code class="nx">times</code><code class="o">:</code><code class="p">[</code><code class="mi">33</code><code class="p">,</code><code> </code><code class="mi">29</code><code class="p">,</code><code> </code><code class="mi">35</code><code class="p">,</code><code> </code><code class="mi">41</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code>
  </code><code class="p">{</code><code class="nx">period</code><code class="o">:</code><code class="s1">'evening'</code><code class="p">,</code><code> </code><code class="nx">times</code><code class="o">:</code><code class="p">[</code><code class="mi">24</code><code class="p">,</code><code> </code><code class="mi">45</code><code class="p">,</code><code> </code><code class="mi">27</code><code class="p">]</code><code class="p">}</code><code class="p">,</code><code>
  </code><code class="p">{</code><code class="nx">period</code><code class="o">:</code><code class="s1">'morning'</code><code class="p">,</code><code> </code><code class="nx">times</code><code class="o">:</code><code class="p">[</code><code class="mi">18</code><code class="p">,</code><code> </code><code class="mi">23</code><code class="p">,</code><code> </code><code class="mi">28</code><code class="p">]</code><code class="p">}</code><code>
</code><code class="p">]</code><code class="p">;</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">groups</code><code> </code><code class="o">=</code><code> </code><code class="nx">_</code><code class="p">.</code><code class="nx">groupBy</code><code class="p">(</code><code class="nx">journeys</code><code class="p">,</code><code> </code><code class="s1">'period'</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="kd">var</code><code> </code><code class="nx">mTimes</code><code> </code><code class="o">=</code><code> </code><code class="nx">_</code><code class="p">.</code><code class="nx">pluck</code><code class="p">(</code><code class="nx">groups</code><code class="p">[</code><code class="s1">'morning'</code><code class="p">]</code><code class="p">,</code><code> </code><code class="s1">'times'</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="nx">mTimes</code><code> </code><code class="o">=</code><code> </code><code class="nx">_</code><code class="p">.</code><code class="nx">flatten</code><code class="p">(</code><code class="nx">mTimes</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO13-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="kd">var</code><code> </code><code class="nx">average</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">l</code><code class="p">)</code><code class="p">{</code><code>
  </code><code class="kd">var</code><code> </code><code class="nx">sum</code><code> </code><code class="o">=</code><code> </code><code class="nx">_</code><code class="p">.</code><code class="nx">reduce</code><code class="p">(</code><code class="nx">l</code><code class="p">,</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="nx">a</code><code class="p">,</code><code class="nx">b</code><code class="p">)</code><code class="p">{</code><code class="k">return</code><code> </code><code class="nx">a</code><code class="o">+</code><code class="nx">b</code><code class="p">}</code><code class="p">,</code><code class="mi">0</code><code class="p">)</code><code class="p">;</code><code>
  </code><code class="k">return</code><code> </code><code class="nx">sum</code><code class="o">/</code><code class="nx">l</code><code class="p">.</code><code class="nx">length</code><code class="p">;</code><code>
</code><code class="p">}</code><code class="p">;</code><code>
</code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Average morning time is '</code><code> </code><code class="o">+</code><code> </code><code class="nx">average</code><code class="p">(</code><code class="nx">mTimes</code><code class="p">)</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nx">Average</code><code> </code><code class="nx">morning</code><code> </code><code class="nx">time</code><code> </code><code class="nx">is</code><code> </code><code class="mf">33.81818181818182</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO13-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Our array of morning times arrays ([[44, 34, 56, 31], [33…]]) needs to be <em>flattened</em> into a a single array of numbers.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Functional Array Methods and List Comprehensions"><div class="sect2" id="idm140319441147232">
<h2>Functional Array Methods and List Comprehensions</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="functional array methods" id="LLBpdfuncarray2"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="list comprehensions" id="LLBpdlistcomp2"></a><a data-type="indexterm" data-primary="lists" data-secondary="list comprehensions" id="Llistcomp2"></a><a data-type="indexterm" data-primary="functional methods" data-secondary="array methods" id="FMarray2"></a>I find myself using underscore a lot less since the addition, with Ecmascript 5,  of functional methods to JavaScript arrays. I don’t think I’ve used a conventional <code>for</code> loop since then, which, given the ugliness of JS <code>for</code> loops, is a very good thing.</p>

<p>Once you get used to processing arrays functionally, it’s hard to consider going back. Combined with JS’s anonymous functions, it makes for very fluid, expressive programming. It’s also an area where method chaining seems very natural. Let’s look at a highly contrived example:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code><code> </code><code class="nx">nums</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">7</code><code class="p">,</code><code> </code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">10</code><code class="p">]</code><code class="p">;</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">sum</code><code> </code><code class="o">=</code><code> </code><code class="nx">nums</code><code class="p">.</code><code class="nx">filter</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">o</code><code class="p">)</code><code class="p">{</code><code> </code><code class="k">return</code><code> </code><code class="nx">o</code><code class="o">%</code><code class="mi">2</code><code> </code><code class="p">}</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO14-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO14-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
  </code><code class="p">.</code><code class="nx">map</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">o</code><code class="p">)</code><code class="p">{</code><code> </code><code class="k">return</code><code> </code><code class="nx">o</code><code> </code><code class="o">*</code><code> </code><code class="nx">o</code><code class="p">}</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO14-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO14-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
  </code><code class="p">.</code><code class="nx">reduce</code><code class="p">(</code><code class="kd">function</code><code class="p">(</code><code class="nx">a</code><code class="p">,</code><code> </code><code class="nx">b</code><code class="p">)</code><code class="p">{</code><code class="k">return</code><code> </code><code class="nx">a</code><code class="o">+</code><code class="nx">b</code><code class="p">}</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO14-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO14-3"><img src="3.png" alt="3" width="12" height="12"></a><code>

</code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Sum of the odd squares is '</code><code> </code><code class="o">+</code><code> </code><code class="nx">sum</code><code class="p">)</code><code class="p">;</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO14-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO14-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Filters the list for odd numbers (i.e., returning <code>1</code> for the modulus (%) 2 operation).</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO14-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO14-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p><code>map</code> produces a new list by applying a function to each member (i.e., [1, 3, 5…] → [1, 9, 25…]).</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO14-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO14-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p><code>reduce</code> processes the resultant mapped list in sequence, providing the current (in this case, summed) value (a) and the item value (b). By default, the initial value of the first argument (a) is 0.</p></dd>
</dl>

<p>Python’s powerful list comprehensions can emulate the previous example easily enough:</p>

<pre data-type="programlisting" data-code-language="python" class="pagebreak-before"><code class="n">nums</code><code> </code><code class="o">=</code><code> </code><code class="nb">range</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO15-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO15-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>
</code><code class="n">odd_squares</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="n">x</code><code> </code><code class="o">*</code><code> </code><code class="n">x</code><code> </code><code class="k">for</code><code> </code><code class="n">x</code><code> </code><code class="ow">in</code><code> </code><code class="n">nums</code><code> </code><code class="k">if</code><code> </code><code class="n">x</code><code class="o">%</code><code class="mi">2</code><code class="p">]</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO15-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO15-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="nb">sum</code><code class="p">(</code><code class="n">odd_squares</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO15-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO15-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="mi">165</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO15-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO15-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Python has a handy built-in <code>range</code> function, which can also take a start, end, and step (e.g., range(2, 8, 2) → [2, 4, 6])</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO15-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO15-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>The <code>if</code> condition tests for oddness of <code>x</code>, and any numbers passing this filter are squared and inserted into the list.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO15-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO15-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Python also has a built-in and often used <code>sum</code> statement.</p></dd>
</dl>
<div data-type="tip"><h6>Tip</h6>
<p>Python’s list comprehensions can use recursive control structures, such as applying a second <code>for</code>/<code>if</code> expression to the iterated items. Although this can create terse and powerful lines of code, it goes against the grain of Python’s readability and I discourage its use. Even simple list comprehensions are less than intuitive and, as much as it appeals to the leet hacker in all of us, you risk creating incomprehensible code.</p>
</div>

<p>Python’s list comprehensions work well for basic filtering and mapping. They do lack the convenience of JavaScript’s anonymous functions (which are fully fledged, with their own scope, control blocks, exception handling, etc.), but there are arguments against the use of anonymous functions. For example, they are not reusable and, being unnamed, they make it hard to follow exceptions and debug. See <a href="http://bit.ly/1Yxkej3">here</a> for some persuasive arguments. Having said that, for libraries like D3, replacing the small, throwaway anonymous functions used to set DOM attributes and properties with named ones would be far too onerous and would just add to the boilerplate.</p>

<p>Python does have functional lambda expressions, which we’ll look at in the next section, but for full functional processing in Python by necessity and JavaScript for best practice, we can use named functions to increase our control scope. For our simple odd-squares example, named functions are a contrivance—but note that they increase the first-glance readability of the list comprehension, which becomes much more important as your functions get more complex.</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">is_odd</code><code class="p">(</code><code class="n">x</code><code class="p">):</code>
    <code class="k">return</code> <code class="n">x</code><code class="o">%</code><code class="mi">2</code>

<code class="k">def</code> <code class="nf">sq</code><code class="p">(</code><code class="n">x</code><code class="p">):</code>
    <code class="k">return</code> <code class="n">x</code> <code class="o">*</code> <code class="n">x</code>

<code class="nb">sum</code><code class="p">([</code><code class="n">sq</code><code class="p">(</code><code class="n">x</code><code class="p">)</code> <code class="k">for</code> <code class="n">x</code> <code class="ow">in</code> <code class="n">l</code> <code class="k">if</code> <code class="n">is_odd</code><code class="p">(</code><code class="n">x</code><code class="p">)])</code></pre>

<p><a data-type="indexterm" data-primary="" data-startref="FMarray2" id="idm140319440781584"></a><a data-type="indexterm" data-primary="" data-startref="Llistcomp2" id="idm140319440742592"></a><a data-type="indexterm" data-primary="" data-startref="LLBpdlistcomp2" id="idm140319440741680"></a><a data-type="indexterm" data-primary="" data-startref="LLBpdfuncarray2" id="idm140319440740736"></a>With JavaScript, a similar contrivance can also increase readability and facilitate DRY code:<sup><a data-type="noteref" id="idm140319440739552-marker" href="ch02.html#idm140319440739552">26</a></sup></p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">var</code> <code class="nx">isOdd</code> <code class="o">=</code> <code class="kd">function</code><code class="p">(</code><code class="nx">x</code><code class="p">){</code> <code class="k">return</code> <code class="nx">x</code><code class="o">%</code><code class="mi">2</code><code class="p">;</code> <code class="p">};</code>

<code class="nx">sum</code> <code class="o">=</code> <code class="nx">l</code><code class="p">.</code><code class="nx">filter</code><code class="p">(</code><code class="nx">isOdd</code><code class="p">)</code>
<code class="p">...</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Map, Reduce, and Filter with Python’s Lambdas"><div class="sect2" id="idm140319441651136">
<h2>Map, Reduce, and Filter with Python’s Lambdas</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="map, reduce, and filter functions" id="idm140319440610128"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="lambdas" id="idm140319440608976"></a><a data-type="indexterm" data-primary="map function" id="idm140319440732608"></a><a data-type="indexterm" data-primary="lambdas" id="idm140319440731936"></a><a data-type="indexterm" data-primary="reduce function" id="idm140319440731264"></a><a data-type="indexterm" data-primary="filter function" id="idm140319440730592"></a>Although Python lacks anonymous functions, it does have <em>lambdas</em>, which are nameless expressions that take arguments. Though lacking the bells and whistles of JavaScript’s anonymous functions, these are a powerful addition to Python’s functional programming repertoire, especially when combined with its functional methods.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Python’s functional built-ins (<code>map</code>, <code>reduce</code>, <code>filter</code> methods, and lambda expressions) have a checkered past. It’s no secret that the creator of Python wanted to remove them from the language. The clamor of disapproval led to their reluctant preservation. With the recent trend toward functional programming, this looks like a very good thing. They’re not perfect but are far better than nothing. And given JavaScript’s strong functional emphasis, they’re a good way to leverage skills acquired in that language.</p>
</div>

<p>Python’s lambdas take a number of parameters and return an operation on them, using a colon separator to define the function block, in much the same way that standard Python functions only pared to the bare essentials and with an implicit return. The following example shows a few lambdas employed in functional programming:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code><code> </code><code class="nn">functools</code><code> </code><code class="kn">import</code><code> </code><code class="nb">reduce</code><code> </code><code class="c1"># if using Python 3+</code><code>
</code><code>
</code><code class="n">nums</code><code> </code><code class="o">=</code><code> </code><code class="p">[</code><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">,</code><code> </code><code class="mi">4</code><code class="p">,</code><code> </code><code class="mi">5</code><code class="p">,</code><code> </code><code class="mi">6</code><code class="p">,</code><code> </code><code class="mi">7</code><code class="p">,</code><code> </code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">]</code><code>
</code><code>
</code><code class="n">odds</code><code> </code><code class="o">=</code><code> </code><code class="nb">filter</code><code class="p">(</code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">:</code><code> </code><code class="n">x</code><code> </code><code class="o">%</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="n">nums</code><code class="p">)</code><code>
</code><code class="n">odds_sq</code><code> </code><code class="o">=</code><code> </code><code class="nb">map</code><code class="p">(</code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">:</code><code> </code><code class="n">x</code><code> </code><code class="o">*</code><code> </code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">odds</code><code class="p">)</code><code>
</code><code class="nb">reduce</code><code class="p">(</code><code class="k">lambda</code><code> </code><code class="n">x</code><code class="p">,</code><code> </code><code class="n">y</code><code class="p">:</code><code> </code><code class="n">x</code><code> </code><code class="o">+</code><code> </code><code class="n">y</code><code class="p">,</code><code> </code><code class="n">odds_sq</code><code class="p">)</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO16-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO16-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="mi">165</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO16-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO16-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Here, the <code>reduce</code> method provides two arguments to the lambda, which uses them to return the expression after the colon.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="JavaScript Closures and the Module Pattern"><div class="sect2" id="idm140319440707808">
<h2>JavaScript Closures and the Module Pattern</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="closures" id="LLBpdclos2"></a><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="module pattern" id="LLBpdmodule2"></a><a data-type="indexterm" data-primary="closures" id="clos2"></a><a data-type="indexterm" data-primary="modules" data-secondary="module pattern" id="Mmodpat2"></a>One of the key concepts in JavaScript is that of the <em>closure</em>, which is essentially a nested function declaration that uses variables declared in an outer (but not global) scope that are <em>kept alive</em> after the function is returned. Closures allow for a number of very useful programming patterns and are a common feature of the language.</p>

<p>Let’s look at possibly the most common usage of closures and one we’ve already seen exploited in our module pattern (<a data-type="xref" href="#pyjs_module">Example 2-2</a>): exposing a limited API while having access to essentially private member variables.</p>

<p>A simple example of a closure is this little counter:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code><code> </code><code class="nx">Counter</code><code class="p">(</code><code class="nx">inc</code><code class="p">)</code><code> </code><code class="p">{</code><code>
  </code><code class="kd">var</code><code> </code><code class="nx">count</code><code> </code><code class="o">=</code><code> </code><code class="mi">0</code><code class="p">;</code><code>
  </code><code class="kd">var</code><code> </code><code class="nx">add</code><code> </code><code class="o">=</code><code> </code><code class="kd">function</code><code class="p">(</code><code class="p">)</code><code> </code><code class="p">{</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO17-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO17-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
    </code><code class="nx">count</code><code> </code><code class="o">+=</code><code> </code><code class="nx">inc</code><code class="p">;</code><code>
    </code><code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Current count: '</code><code> </code><code class="o">+</code><code> </code><code class="nx">count</code><code class="p">)</code><code class="p">;</code><code>
  </code><code class="p">}</code><code>
  </code><code class="k">return</code><code> </code><code class="nx">add</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="kd">var</code><code> </code><code class="nx">inc2</code><code> </code><code class="o">=</code><code> </code><code class="nx">Counter</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO17-2" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO17-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="nx">inc2</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO17-3" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO17-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nx">Current</code><code> </code><code class="nx">count</code><code class="o">:</code><code> </code><code class="mi">2</code><code>
</code><code class="nx">inc2</code><code class="p">(</code><code class="p">)</code><code class="p">;</code><code>
</code><code class="nx">Out</code><code class="o">:</code><code>
</code><code class="nx">Current</code><code> </code><code class="nx">count</code><code class="o">:</code><code> </code><code class="mi">4</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO17-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO17-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The <code>add</code> function gets access to the essentially private, outer-scope <code>count</code> and <code>inc</code> variables.</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO17-2" href="#co_a_language_learning_bridge_between_python_and_javascript_CO17-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>This returns an <code>add</code> function with the closure variables, <code>count</code> (0) and <code>inc</code> (2).</p></dd>
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO17-3" href="#co_a_language_learning_bridge_between_python_and_javascript_CO17-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Calling <code>inc2</code> calls <code>add</code>, updating the <em>closed</em> <code>count</code> variable.</p></dd>
</dl>

<p>We can extend the <code>Counter</code> to add a little API. This technique is the basis of JavaScript modules and many simple libraries. In essence, it selectively exposes public methods while hiding private methods and variables, which is generally seen as good practice in the programming world:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code> <code class="nx">Counter</code><code class="p">(</code><code class="nx">inc</code><code class="p">)</code> <code class="p">{</code>
  <code class="kd">var</code> <code class="nx">count</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
  <code class="kd">var</code> <code class="nx">api</code> <code class="o">=</code> <code class="p">{};</code>
  <code class="nx">api</code><code class="p">.</code><code class="nx">add</code> <code class="o">=</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">count</code> <code class="o">+=</code> <code class="nx">inc</code><code class="p">;</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Current count: '</code> <code class="o">+</code> <code class="nx">count</code><code class="p">);</code>
  <code class="p">}</code>
  <code class="nx">api</code><code class="p">.</code><code class="nx">sub</code> <code class="o">=</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">count</code> <code class="o">-=</code> <code class="nx">inc</code><code class="p">;</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Current count: '</code> <code class="o">+</code> <code class="nx">count</code><code class="p">)</code>
  <code class="p">}</code>
  <code class="nx">api</code><code class="p">.</code><code class="nx">reset</code> <code class="o">=</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code>
    <code class="nx">count</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="s1">'Count reset to 0'</code><code class="p">)</code>
  <code class="p">}</code>

  <code class="k">return</code> <code class="nx">api</code><code class="p">;</code>
<code class="p">}</code>

<code class="nx">cntr</code> <code class="o">=</code> <code class="nx">Counter</code><code class="p">(</code><code class="mi">3</code><code class="p">);</code>
<code class="nx">cntr</code><code class="p">.</code><code class="nx">add</code><code class="p">()</code> <code class="c1">// Current count: 3</code>
<code class="nx">cntr</code><code class="p">.</code><code class="nx">add</code><code class="p">()</code> <code class="c1">// Current count: 6</code>
<code class="nx">cntr</code><code class="p">.</code><code class="nx">sub</code><code class="p">()</code> <code class="c1">// Current count: 3</code>
<code class="nx">cntr</code><code class="p">.</code><code class="nx">reset</code><code class="p">()</code> <code class="c1">// Count reset to 0</code></pre>

<p>Closures have all sorts of uses in JavaScript and I’d recommend getting your head around them—you’ll see them a lot as you start investigating other people’s code. These are three particularly good web articles that provide a lot of good use cases for closures:</p>

<ul>
<li>
<p><a href="http://markdaggett.com/blog/2013/02/25/getting-closure">“Getting Closure”</a> by Mark Daggett</p>
</li>
<li>
<p><a href="http://www.adequatelygood.com/JavaScript-Module-Pattern-In-Depth.html">“JavaScript Module Pattern: In-Depth”</a> by Ben Cherry</p>
</li>
<li>
<p><a href="https://msdn.microsoft.com/en-us/magazine/ff696765.aspx">“Use Cases for JavaScript Closures”</a> by Juriy Zaytsev</p>
</li>
</ul>

<p>Python has closures, but they are not used nearly as much as <span class="keep-together">JavaScript’s</span>, perhaps because of a few quirks that, though surmountable, make for some slightly awkward code. To demonstrate, <a data-type="xref" href="#pyjs_pyclosure_1">Example 2-7</a> tries to replicate the previous JavaScript counter.</p>
<div id="pyjs_pyclosure_1" data-type="example">
<h5><span class="label">Example 2-7. </span>A first-pass attempt at a Python counter closure</h5>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">get_counter</code><code class="p">(</code><code class="n">inc</code><code class="p">):</code>
    <code class="n">count</code> <code class="o">=</code> <code class="mi">0</code>
    <code class="k">def</code> <code class="nf">add</code><code class="p">():</code>
        <code class="n">count</code> <code class="o">+=</code> <code class="n">inc</code>
        <code class="k">print</code><code class="p">(</code><code class="s1">'Current count: '</code> <code class="o">+</code> <code class="nb">str</code><code class="p">(</code><code class="n">count</code><code class="p">))</code>
    <code class="k">return</code> <code class="n">add</code></pre></div>

<p>If you create a counter with <code>get_counter</code> (<a data-type="xref" href="#pyjs_pyclosure_1">Example 2-7</a>) and try to run it, you’ll get an <code>UnboundLocalError</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">cntr</code> <code class="o">=</code> <code class="n">get_counter</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code>
<code class="n">cntr</code><code class="p">()</code>
<code class="n">Out</code><code class="p">:</code>
<code class="o">...</code>
<code class="ne">UnboundLocalError</code><code class="p">:</code> <code class="n">local</code> <code class="n">variable</code> <code class="s1">'count'</code> <code class="n">referenced</code> <code class="n">before</code>
<code class="n">assignment</code></pre>

<p>Interestingly, although we can read the value of <code>count</code> within the <code>add</code> function (comment out the  <code>count += inc</code> line to try it), attempts to change it throw an error. This is because attempts to assign a value to something in Python assume it is local in scope. There is no <code>count</code> local to the <code>add</code> function and so an error is thrown.</p>

<p>In Python 3, we can get around the error in <a data-type="xref" href="#pyjs_pyclosure_1">Example 2-7</a> by using the <code>nonlocal</code> keyword to tell Python that <code>count</code> is in a nonlocal scope:</p>

<pre data-type="programlisting" data-code-language="python"><code class="o">...</code>
<code class="k">def</code> <code class="nf">add</code><code class="p">():</code>
    <code class="n">nonlocal</code> <code class="n">count</code>
    <code class="n">count</code> <code class="o">+=</code> <code class="n">inc</code>
<code class="o">...</code></pre>

<p>In Python 2, we can use a little dictionary hack to allow mutation of our closed variables:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code> <code class="nf">get_counter</code><code class="p">(</code><code class="n">inc</code><code class="p">):</code>
    <code class="nb">vars</code> <code class="o">=</code> <code class="p">{</code><code class="s1">'count'</code><code class="p">:</code> <code class="mi">0</code><code class="p">}</code>
    <code class="k">def</code> <code class="nf">add</code><code class="p">():</code>
        <code class="nb">vars</code><code class="p">[</code><code class="s1">'count'</code><code class="p">]</code> <code class="o">+=</code> <code class="n">inc</code>
        <code class="k">print</code><code class="p">(</code><code class="s1">'Current count: '</code> <code class="o">+</code> <code class="nb">str</code><code class="p">(</code><code class="nb">vars</code><code class="p">[</code><code class="s1">'count'</code><code class="p">]))</code>
    <code class="k">return</code> <code class="n">add</code></pre>

<p>This <em>hack</em> works because we are not assigning a new value to <code>vars</code> but are instead mutating an existing container, which is perfectly valid even if it is out of local scope.</p>

<p>As you can see, with a bit of effort, JavaScripters can transfer their closure skills to Python. The use cases are similar, but Python, being a richer language with lots of useful batteries included, has more options to apply to the same problem. Probably the most common use of closures is in Python’s decorators.</p>

<p><em>Decorators</em> are essentially function wrappers that extend the function’s utility without having to alter the function itself. They’re a relatively advanced concept, but you can find a user-friendly introduction <a href="http://thecodeship.com/patterns/guide-to-python-function-decorators/">on The Code Ship website</a>.<a data-type="indexterm" data-primary="" data-startref="Mmodpat2" id="idm140319440231456"></a><a data-type="indexterm" data-primary="" data-startref="clos2" id="idm140319440230480"></a><a data-type="indexterm" data-primary="" data-startref="LLBpdmodule2" id="idm140319440229536"></a><a data-type="indexterm" data-primary="" data-startref="LLBpdclos2" id="idm140319440228592"></a></p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="This Is That"><div class="sect2" id="idm140319440706896">
<h2>This Is That</h2>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="practical differences" data-tertiary="this vs. that keywords" id="idm140319440226592"></a><a data-type="indexterm" data-primary="this keyword" id="idm140319440225152"></a><a data-type="indexterm" data-primary="'that', as proxy for JS this" data-primary-sortas="that, as proxy for JS 'this'" id="idm140319440224480"></a>One JavaScript hack you’ll see a lot of is a consequence of closures and the slippery <code>this</code> keyword. If you wish to refer to the outer-scoped <code>this</code> in a child function, you must use a proxy because the child’s <code>this</code> will be bound according to context. The convention is to use <code>that</code> to refer to <code>this</code>. The code is less confusing than the <span class="keep-together">explanation</span>:</p>

<pre data-type="programlisting" data-code-language="js"><code class="kd">function</code><code> </code><code class="nx">outer</code><code class="p">(</code><code class="nx">bar</code><code class="p">)</code><code class="p">{</code><code>
   </code><code class="k">this</code><code class="p">.</code><code class="nx">bar</code><code> </code><code class="o">=</code><code> </code><code class="nx">bar</code><code class="p">;</code><code>
   </code><code class="kd">var</code><code> </code><code class="nx">that</code><code> </code><code class="o">=</code><code> </code><code class="k">this</code><code class="p">;</code><code>
   </code><code class="kd">function</code><code> </code><code class="nx">inner</code><code class="p">(</code><code class="nx">baz</code><code class="p">)</code><code class="p">{</code><code>
       </code><code class="k">this</code><code class="p">.</code><code class="nx">baz</code><code> </code><code class="o">=</code><code> </code><code class="nx">baz</code><code> </code><code class="o">*</code><code> </code><code class="nx">that</code><code class="p">.</code><code class="nx">bar</code><code class="p">;</code><code> </code><a class="co" id="co_a_language_learning_bridge_between_python_and_javascript_CO18-1" href="#callout_a_language_learning_bridge_between_python_and_javascript_CO18-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
       </code><code class="c1">// ...</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_a_language_learning_bridge_between_python_and_javascript_CO18-1" href="#co_a_language_learning_bridge_between_python_and_javascript_CO18-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p><code>that</code> refers to the outer function’s <code>this</code>.</p></dd>
</dl>

<p>This concludes my cherry-picked selection of patterns and hacks that I find myself using a lot in dataviz work. You’ll doubtless acquire your own, but I hope these give you a leg up.</p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="A Cheat Sheet"><div class="sect1" id="idm140319441771472">
<h1>A Cheat Sheet</h1>

<p><a data-type="indexterm" data-primary="language-learning bridge" data-secondary="reference guide/cheat sheet" id="LLBref2"></a>As a handy reference guide, Figures <a data-type="xref" data-xrefstyle="select:labelnumber" href="#build_cheat_basic">2-2</a> to <a data-type="xref" data-xrefstyle="select:labelnumber" href="#build_cheat_classes">2-7</a> include a set of cheat sheets to translate basic operations between Python and JavaScript.</p>

<figure><div id="build_cheat_basic" class="figure">
<img src="dvpj_0202.png" alt="dvpj 0202" width="701" height="468">
<h6><span class="label">Figure 2-2. </span>Some basic syntax</h6>
</div></figure>

<figure><div id="build_cheat_bools" class="figure">
<img src="dvpj_0203.png" alt="dvpj 0203" width="639" height="206">
<h6><span class="label">Figure 2-3. </span>Booleans</h6>
</div></figure>

<figure><div id="build_cheat_loops" class="figure">
<img src="dvpj_0204.png" alt="dvpj 0204" width="790" height="757">
<h6><span class="label">Figure 2-4. </span>Loops and iterations</h6>
</div></figure>

<figure><div id="build_cheat_conds" class="figure">
<img src="dvpj_0205.png" alt="dvpj 0205" width="743" height="487">
<h6><span class="label">Figure 2-5. </span>Conditionals</h6>
</div></figure>

<figure><div id="build_cheat_containers" class="figure">
<img src="dvpj_0206.png" alt="dvpj 0206" width="761" height="550">
<h6><span class="label">Figure 2-6. </span>Containers</h6>
</div></figure>

<figure><div id="build_cheat_classes" class="figure">
<img src="dvpj_0207.png" alt="dvpj 0207" width="762" height="439">
<h6><span class="label">Figure 2-7. </span>Classes and prototypes</h6>
</div></figure>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="idm140319439969536">
<h1>Summary</h1>

<p><a data-type="indexterm" data-primary="" data-startref="LLBref2" id="idm140319439968416"></a>I hope this chapter has shown that JavaScript and Python have a lot of common syntax and that most common idioms and patterns from one of the languages can be expressed in the other without too much fuss. The meat and potatoes of programming, iteration, conditionals, and basic data manipulation is simple in both languages, and the translation of functions is straightforward.  If you can program in one to any degree of competency, the threshold to entry for the other is low. That’s the huge appeal of these simple scripting languages, which have a lot of common heritage.</p>

<p>I provided a list of patterns, hacks, and idioms I find myself using frequently in dataviz work. I’m sure this list has its idiosyncrasies, but I’ve tried to tick the obvious boxes.</p>

<p>Treat this as part tutorial, part reference for the chapters to come. Anything not covered here will be dealt with when introduced.</p>
</div></section>







<div data-type="footnotes"><p data-type="footnote" id="idm140319456491792"><sup><a href="ch02.html#idm140319456491792-marker">1</a></sup> One particularly annoying little gotcha is that while Python uses <code>pop</code> to remove a list item, it uses <code>append</code>—not <code>push</code>—to add an item. JavaScript uses <code>push</code> to add an item, whereas <code>append</code> is used to concatenate arrays.</p><p data-type="footnote" id="idm140319456477552"><sup><a href="ch02.html#idm140319456477552-marker">2</a></sup> The ascent of <a href="https://nodejs.org/en/">node.js</a> has extended JavaScript to the server.</p><p data-type="footnote" id="idm140319456472496"><sup><a href="ch02.html#idm140319456472496-marker">3</a></sup> This is changing with libraries like Crossfilter, but JS is far behind Python, R, and others.</p><p data-type="footnote" id="idm140319455618400"><sup><a href="ch02.html#idm140319455618400-marker">4</a></sup> This version is based on the <a href="http://www.qt.io">Qt GUI library</a>.</p><p data-type="footnote" id="idm140319455616912"><sup><a href="ch02.html#idm140319455616912-marker">5</a></sup> At the cost of a running a Python interpreter on the server.</p><p data-type="footnote" id="idm140319455303088"><sup><a href="ch02.html#idm140319455303088-marker">6</a></sup> The constraint of having to deliver JS scripts over the Web via HTTP is largely responsible for this.</p><p data-type="footnote" id="idm140319454964688"><sup><a href="ch02.html#idm140319454964688-marker">7</a></sup> This means any blocking-script-loading calls occur after the page’s HTML has <span class="keep-together">rendered</span>.</p><p data-type="footnote" id="idm140319454633648"><sup><a href="ch02.html#idm140319454633648-marker">8</a></sup> You can eliminate the possibility of a missing <code>var</code> by using the Ecmascript 5 <code>'use strict'</code> directive.</p><p data-type="footnote" id="idm140319454538576"><sup><a href="ch02.html#idm140319454538576-marker">9</a></sup> This is a good thing for reasons outlined in <a href="https://www.python.org/dev/peps/pep-3105/">PEP 3105</a>.</p><p data-type="footnote" id="idm140319453903760"><sup><a href="ch02.html#idm140319453903760-marker">10</a></sup> This is actually done by JavaScript compressors to reduce the file size of downloaded web pages.</p><p data-type="footnote" id="idm140319453902112"><sup><a href="ch02.html#idm140319453902112-marker">11</a></sup> The soft versus hard tab debate generates controversy, with much heat and little light. <em>PEP 8</em> stipulates spaces, which is good enough for me.</p><p data-type="footnote" id="idm140319453900224"><sup><a href="ch02.html#idm140319453900224-marker">12</a></sup> It could be two or even three spaces, but this number must be consistent throughout the module.</p><p data-type="footnote" id="idm140319453419328"><sup><a href="ch02.html#idm140319453419328-marker">13</a></sup> The quite fair assumption that JavaScript uses UTF-16 has been the cause of much bug-driven misery. See <a href="https://mathiasbynens.be/notes/javascript-encoding">here</a> for an interesting analysis.</p><p data-type="footnote" id="idm140319453417792"><sup><a href="ch02.html#idm140319453417792-marker">14</a></sup> The change to Unicode strings in Python 3 is a big one. Given the confusion that often attends Unicode de/encoding, it’s worth reading <a href="https://docs.python.org/3/howto/unicode.html">a little bit about it</a>.</p><p data-type="footnote" id="idm140319453337952"><sup><a href="ch02.html#idm140319453337952-marker">15</a></sup> <code>parseInt</code> can do quite a bit more than round. For example, <code>parseInt(<em>12.5px</em>)</code> gives 12, first removing the <em><code>px</code></em> and then casting the string to a number. It also has a second <code>radix</code> argument to specify the base of the cast. See <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt">here</a> for the specifics.</p><p data-type="footnote" id="idm140319453397904"><sup><a href="ch02.html#idm140319453397904-marker">16</a></sup> Because all numbers in JavaScript are floating point, it can only support 53-bit integers. Using larger integers (such as the commonly used 64 bit) can result in discontinuous integers. See <a href="http://www.2ality.com/2012/07/large-integers.html"><em class="hyperlink">http://www.2ality.com/2012/07/large-integers.html</em></a> for further information.</p><p data-type="footnote" id="idm140319453006528"><sup><a href="ch02.html#idm140319453006528-marker">17</a></sup> This makes iterating over their properties a little trickier than it might be. See <a href="http://stackoverflow.com/questions/8312459/iterate-through-object-properties">here</a> for more details.</p><p data-type="footnote" id="idm140319452898368"><sup><a href="ch02.html#idm140319452898368-marker">18</a></sup> For the curious, there’s a nice summation <a href="https://javascriptweblog.wordpress.com/2010/07/06/function-declarations-vs-function-expressions/">here</a>.</p><p data-type="footnote" id="idm140319452547088"><sup><a href="ch02.html#idm140319452547088-marker">19</a></sup> This is one area where JS beats Python hands down and which finds many of us wishing for similar functionality in Python.</p><p data-type="footnote" id="idm140319452544080"><sup><a href="ch02.html#idm140319452544080-marker">20</a></sup> Added with  Ecmascript 5 and available on all modern browsers.</p><p data-type="footnote" id="idm140319452532912"><sup><a href="ch02.html#idm140319452532912-marker">21</a></sup> I use lodash, which is functionally identical.</p><p data-type="footnote" id="idm140319452250560"><sup><a href="ch02.html#idm140319452250560-marker">22</a></sup> I mentioned to a talented programmer friend that I was faced with the challenge of explaining prototypes to Python programmers and he pointed out that most JavaScripters could probably do with some pointers too. There’s a lot of truth in this and many JSers do manage to be productive by using prototypes in a <em>classy</em> way, hacking their way around the edge cases.</p><p data-type="footnote" id="idm140319451691728"><sup><a href="ch02.html#idm140319451691728-marker">23</a></sup> As of Ecmascript 6, this will change with the addition of the <code>class</code> keyword, a piece of syntactic sugar generating a lot of heat and not much light right now.</p><p data-type="footnote" id="idm140319451611360"><sup><a href="ch02.html#idm140319451611360-marker">24</a></sup> This is another reason to use Ecmascript 5’s  <code>'use strict;'</code> injunction, which calls attention to such mistakes.</p><p data-type="footnote" id="idm140319441148800"><sup><a href="ch02.html#idm140319441148800-marker">25</a></sup> My personal choice for performance reasons.</p><p data-type="footnote" id="idm140319440739552"><sup><a href="ch02.html#idm140319440739552-marker">26</a></sup> Don’t Repeat Yourself (DRY) is a solid coding convention.</p></div></div></section></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/part01.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">I. Basic Toolkit</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch03.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">3. Reading and Writing Data with Python</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      <div id="js-subscribe-nag" class="subscribe-nag clearfix trial-panel t-subscribe-nag">
        
        
          
          

          
            <p>You have 7 days left in your trial, Flankpeter. Subscribe today. <a href="/subscribe/" class="ga-active-trial-subscribe-nag">See pricing options.</a></p>
          
        
        

      </div>

    
    



        
      </div>
      




  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>
      
        <li><a class="t-recommendations-footer" href="/r/">Recommended</a></li>
      
      <li>
      
      <a class="t-queue-footer" href="/playlists/">Playlists</a>
      
      </li>
      
        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>
      
      
        <li><a class="t-tutorials-footer" href="/tutorials/">Tutorials</a></li>
      
      <li><a class="t-settings-footer js-settings" href="/u/">Settings</a></li>
      <li class="full-support"><a href="https://www.safaribooksonline.com/public/support">Support</a></li>
      <li><a href="https://www.safaribooksonline.com/apps/">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2018 <a href="https://www.safaribooksonline.com" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="/privacy/">Privacy Policy</a>
  </footer>




    

    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
