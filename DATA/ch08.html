<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch08.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch08.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage"" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/data-visualization-with/9781491920565/ch08.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy=""


  data-user-id="2870136"
  data-user-uuid="fee1bd59-4e02-48a4-a7b4-152ec4c157ac"
  data-username="flankpeter"
  data-account-type="Trial"
  
  data-activated-trial-date="05/04/2018"


  data-archive="9781491920565"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch08.html"
  data-epub-title="Data Visualization with Python and JavaScript" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9781491920565"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>8. Introduction to Pandas - Data Visualization with Python and JavaScript</title><link rel="stylesheet" href="/static/CACHE/css/a04cd81b09cd.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.ef38b0457d7b.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td,#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content canvas,#sbo-rt-content details,#sbo-rt-content embed,#sbo-rt-content figure,#sbo-rt-content figcaption,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content output,#sbo-rt-content ruby,#sbo-rt-content section,#sbo-rt-content summary,#sbo-rt-content time,#sbo-rt-content mark,#sbo-rt-content audio,#sbo-rt-content video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}#sbo-rt-content article,#sbo-rt-content aside,#sbo-rt-content details,#sbo-rt-content figcaption,#sbo-rt-content figure,#sbo-rt-content footer,#sbo-rt-content header,#sbo-rt-content hgroup,#sbo-rt-content menu,#sbo-rt-content nav,#sbo-rt-content section{display:block}#sbo-rt-content div{line-height:1}#sbo-rt-content ol,#sbo-rt-content ul{list-style:none}#sbo-rt-content blockquote,#sbo-rt-content q{quotes:none}#sbo-rt-content blockquote:before,#sbo-rt-content blockquote:after,#sbo-rt-content q:before,#sbo-rt-content q:after{content:none}#sbo-rt-content table{border-collapse:collapse;border-spacing:0}@page{margin:5px !important}#sbo-rt-content p{margin:10px 0 0;line-height:125%;text-align:left}#sbo-rt-content p.byline{text-align:left;margin:-33px auto 35px;font-style:italic;font-weight:bold}#sbo-rt-content div.preface p+p.byline{margin:1em 0 0}#sbo-rt-content div.preface p.byline+p.byline{margin:0}#sbo-rt-content div.sect1>p.byline{margin:-.25em 0 1em}#sbo-rt-content div.sect1>p.byline+p.byline{margin-top:-1em}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link,#sbo-rt-content a{text-decoration:none;color:#8e0012}#sbo-rt-content span.lineannotation{font-style:italic;color:#a62a2a;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#fff}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important;margin-bottom:30px !important}#sbo-rt-content section[data-type="sect1"] h1{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content section[data-type="sect2"] h2{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content section[data-type="sect3"] h3{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content section[data-type="sect4"] h4{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section[data-type="chapter"]>div>h1,#sbo-rt-content section[data-type="preface"]>div>h1,#sbo-rt-content section[data-type="appendix"]>div>h1,#sbo-rt-content section[data-type="glossary"]>div>h1,#sbo-rt-content section[data-type="bibliography"]>div>h1,#sbo-rt-content section[data-type="index"]>div>h1{font-size:2em;line-height:1;margin-bottom:50px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content span.label,#sbo-rt-content span.keep-together{font-size:inherit;font-weight:inherit}#sbo-rt-content div[data-type="part"] h1{font-size:2em;text-align:center;margin-top:0 !important;margin-bottom:50px;padding:50px 0 10px 0;border-bottom:1px solid #000}#sbo-rt-content img.width-ninety{width:90%}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center !important;margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content figure{margin:15px 0 15px 0 !important;page-break-inside:avoid}#sbo-rt-content div.figure h6{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding-top:10px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center !important;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:15px 0 10px 0 !important;border:1px solid #DCDCDC;background-color:#F7F7F7;padding:15px !important;page-break-inside:avoid}#sbo-rt-content aside[data-type="sidebar"]{margin:15px 0 10px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title,#sbo-rt-content aside[data-type="sidebar"] h5{font-weight:bold;font-size:1em;font-family:sans-serif;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar ol,#sbo-rt-content div.sidebar ul,#sbo-rt-content aside[data-type="sidebar"] ol,#sbo-rt-content aside[data-type="sidebar"] ul{margin-left:1.25em !important}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content aside[data-type="sidebar"] figcaption,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif !important;color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div[data-type="tip"],#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div[data-type="note"],#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div[data-type="warning"],#sbo-rt-content div.sidebar div[data-type="caution"],#sbo-rt-content div.sidebar div[data-type="important"]{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content aside[data-type="sidebar"] p.byline{font-size:90%;font-weight:bold;font-style:italic;text-align:center;text-indent:0;margin:5px auto 6px;page-break-after:avoid}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;overflow-wrap:break-word}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div[data-type="example"]{margin:10px 0 15px 0 !important}#sbo-rt-content div[data-type="example"] h1,#sbo-rt-content div[data-type="example"] h2,#sbo-rt-content div[data-type="example"] h3,#sbo-rt-content div[data-type="example"] h4,#sbo-rt-content div[data-type="example"] h5,#sbo-rt-content div[data-type="example"] h6{font-style:italic;font-weight:normal;text-align:left !important;text-transform:none !important;font-family:serif !important;margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div[data-type="example"] pre[data-type="programlisting"],#sbo-rt-content div[data-type="example"] pre[data-type="screen"]{margin:0}#sbo-rt-content section[data-type="titlepage"]>div>h1{font-size:2em;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content section[data-type="titlepage"] h2,#sbo-rt-content section[data-type="titlepage"] p.subtitle,#sbo-rt-content section[data-type="titlepage"] p[data-type="subtitle"]{font-size:1.3em;font-weight:normal;text-align:center;margin-top:.5em;color:#555}#sbo-rt-content section[data-type="titlepage"]>div>h2[data-type="author"],#sbo-rt-content section[data-type="titlepage"] p.author{font-size:1.3em;font-family:serif !important;font-weight:bold;margin:50px 0 !important;text-align:center}#sbo-rt-content section[data-type="titlepage"] p.edition{text-align:center;text-transform:uppercase;margin-top:2em}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]>div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content ul.stafflist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.stafflist li{list-style-type:none;padding:5px 0}#sbo-rt-content ul.printings li{list-style-type:none}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif !important;font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif !important;margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif !important;font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10px}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif !important}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;margin:.75em 0 0 !important}#sbo-rt-content blockquote div.attribution,#sbo-rt-content blockquote p[data-type="attribution"]{margin:5px 0 10px 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p,#sbo-rt-content blockquote p[data-type="attribution"]{font-style:normal;margin-top:5px}#sbo-rt-content blockquote div.attribution p:before,#sbo-rt-content blockquote p[data-type="attribution"]:before{font-style:normal;content:"—";-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div[data-type="footnotes"]{border-top:1px solid black;margin-top:1.5em}#sbo-rt-content sub,#sbo-rt-content sup{font-size:75%;line-height:0;position:relative}#sbo-rt-content sup{top:-.5em}#sbo-rt-content sub{bottom:-.25em}#sbo-rt-content div.refentry p.refname{font-size:1em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin-bottom:5px;overflow:auto;width:100%}#sbo-rt-content div.refentry{width:100%;display:block;margin-top:2em}#sbo-rt-content div.refsynopsisdiv{display:block;clear:both}#sbo-rt-content div.refentry header{page-break-inside:avoid !important;display:block;break-inside:avoid !important;padding-top:0;border-bottom:1px solid #000}#sbo-rt-content div.refsect1 h6{font-size:.9em;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content div.refsect1{margin-top:3em}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dd{margin-left:1.5em !important;margin-bottom:.25em}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ul{list-style-type:disc}#sbo-rt-content ul ul{list-style-type:square}#sbo-rt-content ul ul ul{list-style-type:circle}#sbo-rt-content ol{list-style-type:decimal}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ol ul{list-style-type:disc}#sbo-rt-content ol ul ol{list-style-type:decimal}#sbo-rt-content ul ol{list-style-type:decimal}#sbo-rt-content ul ol ul{list-style-type:disc}#sbo-rt-content ol,#sbo-rt-content ul{list-style-position:outside;margin:15px 0 15px 1.25em}#sbo-rt-content ol li,#sbo-rt-content ul li{margin:.5em 0 .65em;line-height:125%}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist,#sbo-rt-content ul.simplelist{margin:15px 0 15px 20px !important}#sbo-rt-content ul.simplelist li{list-style-type:none;padding:5px 0}#sbo-rt-content table.simplelist td{border:none}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content dl.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content dl.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content dl.calloutlist img,#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol>li>ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol>li>ol>li>ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"],#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{margin:30px !important;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip ol,#sbo-rt-content div.tip ul,#sbo-rt-content div[data-type="tip"] ol,#sbo-rt-content div[data-type="tip"] ul,#sbo-rt-content div.note ol,#sbo-rt-content div.note ul,#sbo-rt-content div[data-type="note"] ol,#sbo-rt-content div[data-type="note"] ul,#sbo-rt-content div.warning ol,#sbo-rt-content div.warning ul,#sbo-rt-content div[data-type="warning"] ol,#sbo-rt-content div[data-type="warning"] ul,#sbo-rt-content div[data-type="caution"] ol,#sbo-rt-content div[data-type="caution"] ul,#sbo-rt-content div[data-type="important"] ol,#sbo-rt-content div[data-type="important"] ul{margin-left:1.5em !important}#sbo-rt-content div.tip,#sbo-rt-content div[data-type="tip"],#sbo-rt-content div.note,#sbo-rt-content div[data-type="note"]{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div[data-type="warning"],#sbo-rt-content div[data-type="caution"],#sbo-rt-content div[data-type="important"]{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="note"] h1,#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1,#sbo-rt-content div[data-type="important"] h6{font-weight:bold;font-size:110%;font-family:sans-serif !important;text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div.tip h3,#sbo-rt-content div[data-type="tip"] h6,#sbo-rt-content div.note h3,#sbo-rt-content div[data-type="note"] h6,#sbo-rt-content div[data-type="tip"] h1,#sbo-rt-content div[data-type="note"] h1{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div[data-type="warning"] h6,#sbo-rt-content div[data-type="caution"] h6,#sbo-rt-content div[data-type="important"] h6,#sbo-rt-content div[data-type="warning"] h1,#sbo-rt-content div[data-type="caution"] h1,#sbo-rt-content div[data-type="important"] h1{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note,#sbo-rt-content div.safarienabled{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3,#sbo-rt-content div.safarienabled h6{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px 0 30px 0 !important;max-width:95%;border:none !important;background:none;display:table !important}#sbo-rt-content div.table,#sbo-rt-content div.informaltable,#sbo-rt-content table{page-break-inside:avoid}#sbo-rt-content tr,#sbo-rt-content tr td{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td,#sbo-rt-content thead th{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{display:table-cell;padding:.3em;text-align:left;vertical-align:middle;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title,#sbo-rt-content table caption{font-weight:normal;font-style:italic;font-family:serif;font-size:1em;margin:10px 0 10px 0 !important;padding:0;page-break-after:avoid;text-align:left !important}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation,#sbo-rt-content div[data-type="equation"]{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title,#sbo-rt-content div[data-type="equation"] h5{font-style:italic;font-weight:normal;font-family:serif !important;font-size:90%;margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{text-indent:0}#sbo-rt-content div.index li{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content div.index ul,#sbo-rt-content div[data-type="index"] ul{list-style-type:none;padding-left:0;margin-left:0}#sbo-rt-content div.index ul li{padding-left:0;margin-left:0}#sbo-rt-content div.index ul li ul li{margin-left:1em}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif;text-align:left}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content span.gray{color:#4C4C4C}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9781491920565/chapter/ch08.html",
          "book_id": "9781491920565",
          "chapter_uri": "ch08.html",
          "position": 0,
          "user_uuid": "fee1bd59-4e02-48a4-a7b4-152ec4c157ac",
          "next_chapter_uri": "/library/view/data-visualization-with/9781491920565/ch09.html"
        
      },
      title: "Data Visualization with Python and JavaScript",
      author_list: "Kyran Dale",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false,
      show_ios_app_teaser: false
    };
    // ]]></script><script src="/static/js/src/modernizr.js"></script><script>
    
      
       window.PUBLIC_ANNOTATIONS = false;
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

    
      window.PRIVACY_CONTROL_SWITCH = true;
    

    
      window.PUBLISHER_PAGES = true;
    

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "https://www.safaribooksonline.com/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://www.safaribooksonline.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html"/><meta name="description" content=" Chapter 8. Introduction to Pandas Pandas is a key element in our dataviz toolchain, as we will use it for both cleaning and exploring our recently scraped dataset (see Chapter ... "><meta property="og:title" content="8. Introduction to Pandas" /><meta itemprop="isPartOf" content="/library/view/data-visualization-with/9781491920565/" /><meta itemprop="name" content="8. Introduction to Pandas" /><meta property="og:url" itemprop="url" content="https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://www.safaribooksonline.com/library/cover/9781491920565/" /><meta property="og:description" itemprop="description" content=" Chapter 8. Introduction to Pandas Pandas is a key element in our dataviz toolchain, as we will use it for both cleaning and exploring our recently scraped dataset (see Chapter ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="O&#39;Reilly Media, Inc." /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9781491920510" /><meta property="og:book:author" itemprop="author" content="Kyran Dale" /><meta property="og:book:tag" itemprop="about" content="JavaScript" /><meta property="og:book:tag" itemprop="about" content="Python" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><script>
    window.ENABLE_BOWERBIRD_COLLECTIONS = true;
  </script><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }

  
    ga('create', 'UA-39299553-7', {'userId': 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac' });
  

  
    
      ga('set', 'dimension1', 'Trial');
    
  

  ga('set', 'dimension6', user_uuid);

  
    ga('set', 'dimension2', 'fee1bd59-4e02-48a4-a7b4-152ec4c157ac');
    
  

  

  

  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
  </script><script defer src="/static/js/build/vendor.e2e622a103f9.js"></script><script defer src="/static/js/build/reader.84feb506aa44.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>
  



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        





<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>Safari Home Icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 9.9L4 9.9 4 18 16 18 16 9.9 10 4 4 9.9ZM2.6 8.1L2.6 8.1 8.7 1.9 10 0.5 11.3 1.9 17.4 8.1 18 8.7 18 9.5 18 18.1 18 20 16.1 20 3.9 20 2 20 2 18.1 2 9.5 2 8.7 2.6 8.1Z"/><rect x="10" y="12" width="3" height="7"/><rect transform="translate(18.121320, 10.121320) rotate(-315.000000) translate(-18.121320, -10.121320) " x="16.1" y="9.1" width="4" height="2"/><rect transform="translate(2.121320, 10.121320) scale(-1, 1) rotate(-315.000000) translate(-2.121320, -10.121320) " x="0.1" y="9.1" width="4" height="2"/></g></svg><span>Safari Home</span></a></li><li><a href="/r/" class="t-recommendations-nav l0 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recommendations icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M50 25C50 18.2 44.9 12.5 38.3 11.7 37.5 5.1 31.8 0 25 0 18.2 0 12.5 5.1 11.7 11.7 5.1 12.5 0 18.2 0 25 0 31.8 5.1 37.5 11.7 38.3 12.5 44.9 18.2 50 25 50 31.8 50 37.5 44.9 38.3 38.3 44.9 37.5 50 31.8 50 25ZM25 3.1C29.7 3.1 33.6 6.9 34.4 11.8 30.4 12.4 26.9 15.1 25 18.8 23.1 15.1 19.6 12.4 15.6 11.8 16.4 6.9 20.3 3.1 25 3.1ZM34.4 15.6C33.6 19.3 30.7 22.2 27.1 22.9 27.8 19.2 30.7 16.3 34.4 15.6ZM22.9 22.9C19.2 22.2 16.3 19.3 15.6 15.6 19.3 16.3 22.2 19.2 22.9 22.9ZM3.1 25C3.1 20.3 6.9 16.4 11.8 15.6 12.4 19.6 15.1 23.1 18.8 25 15.1 26.9 12.4 30.4 11.8 34.4 6.9 33.6 3.1 29.7 3.1 25ZM22.9 27.1C22.2 30.7 19.3 33.6 15.6 34.4 16.3 30.7 19.2 27.8 22.9 27.1ZM25 46.9C20.3 46.9 16.4 43.1 15.6 38.2 19.6 37.6 23.1 34.9 25 31.3 26.9 34.9 30.4 37.6 34.4 38.2 33.6 43.1 29.7 46.9 25 46.9ZM27.1 27.1C30.7 27.8 33.6 30.7 34.4 34.4 30.7 33.6 27.8 30.7 27.1 27.1ZM38.2 34.4C37.6 30.4 34.9 26.9 31.3 25 34.9 23.1 37.6 19.6 38.2 15.6 43.1 16.4 46.9 20.3 46.9 25 46.9 29.7 43.1 33.6 38.2 34.4Z"/></g></svg><span>Recommended</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
                 Playlists
              </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/tutorials/" class="l1 nav-icn t-tutorials-nav js-toggle-menu-item None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>tutorials icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.8 18.2C15.8 18.2 15.9 18.2 16 18.2 16.1 18.2 16.2 18.2 16.4 18.2 16.5 18.2 16.7 18.1 16.9 18 17 17.9 17.1 17.8 17.2 17.7 17.3 17.6 17.4 17.5 17.4 17.4 17.5 17.2 17.6 16.9 17.6 16.7 17.6 16.6 17.6 16.5 17.6 16.4 17.5 16.2 17.5 16.1 17.4 15.9 17.3 15.8 17.2 15.6 17 15.5 16.8 15.3 16.6 15.3 16.4 15.2 16.2 15.2 16 15.2 15.8 15.2 15.7 15.2 15.5 15.3 15.3 15.4 15.2 15.4 15.1 15.5 15 15.7 14.9 15.8 14.8 15.9 14.7 16 14.7 16.1 14.6 16.3 14.6 16.4 14.6 16.5 14.6 16.6 14.6 16.6 14.6 16.7 14.6 16.9 14.6 17 14.6 17.1 14.7 17.3 14.7 17.4 14.8 17.6 15 17.7 15.1 17.9 15.2 18 15.3 18 15.5 18.1 15.5 18.1 15.6 18.2 15.7 18.2 15.7 18.2 15.7 18.2 15.8 18.2L15.8 18.2ZM9.4 11.5C9.5 11.5 9.5 11.5 9.6 11.5 9.7 11.5 9.9 11.5 10 11.5 10.2 11.5 10.3 11.4 10.5 11.3 10.6 11.2 10.8 11.1 10.9 11 10.9 10.9 11 10.8 11.1 10.7 11.2 10.5 11.2 10.2 11.2 10 11.2 9.9 11.2 9.8 11.2 9.7 11.2 9.5 11.1 9.4 11 9.2 10.9 9.1 10.8 8.9 10.6 8.8 10.5 8.7 10.3 8.6 10 8.5 9.9 8.5 9.7 8.5 9.5 8.5 9.3 8.5 9.1 8.6 9 8.7 8.8 8.7 8.7 8.8 8.6 9 8.5 9.1 8.4 9.2 8.4 9.3 8.2 9.5 8.2 9.8 8.2 10 8.2 10.1 8.2 10.2 8.2 10.3 8.2 10.5 8.3 10.6 8.4 10.7 8.5 10.9 8.6 11.1 8.7 11.2 8.9 11.3 9 11.4 9.1 11.4 9.2 11.4 9.3 11.5 9.3 11.5 9.3 11.5 9.4 11.5 9.4 11.5L9.4 11.5ZM3 4.8C3.1 4.8 3.1 4.8 3.2 4.8 3.4 4.8 3.5 4.8 3.7 4.8 3.8 4.8 4 4.7 4.1 4.6 4.3 4.5 4.4 4.4 4.5 4.3 4.6 4.2 4.6 4.1 4.7 4 4.8 3.8 4.8 3.5 4.8 3.3 4.8 3.1 4.8 3 4.8 2.9 4.7 2.8 4.7 2.6 4.6 2.5 4.5 2.3 4.4 2.2 4.2 2.1 4 1.9 3.8 1.9 3.6 1.8 3.5 1.8 3.3 1.8 3.1 1.8 2.9 1.8 2.7 1.9 2.6 2 2.4 2.1 2.3 2.2 2.2 2.3 2.1 2.4 2 2.5 2 2.6 1.8 2.8 1.8 3 1.8 3.3 1.8 3.4 1.8 3.5 1.8 3.6 1.8 3.8 1.9 3.9 2 4 2.1 4.2 2.2 4.4 2.4 4.5 2.5 4.6 2.6 4.7 2.7 4.7 2.8 4.7 2.9 4.8 2.9 4.8 3 4.8 3 4.8 3 4.8L3 4.8ZM13.1 15.2C13.2 15.1 13.2 15.1 13.2 15.1 13.3 14.9 13.4 14.7 13.6 14.5 13.8 14.2 14.1 14 14.4 13.8 14.7 13.6 15.1 13.5 15.5 13.4 15.9 13.4 16.3 13.4 16.7 13.5 17.2 13.5 17.6 13.7 17.9 13.9 18.2 14.1 18.5 14.4 18.7 14.7 18.9 15 19.1 15.3 19.2 15.6 19.3 15.9 19.4 16.1 19.4 16.4 19.4 17 19.3 17.5 19.1 18.1 19 18.3 18.9 18.5 18.7 18.7 18.5 19 18.3 19.2 18 19.4 17.7 19.6 17.3 19.8 16.9 19.9 16.6 20 16.3 20 16 20 15.8 20 15.6 20 15.4 19.9 15.4 19.9 15.4 19.9 15.4 19.9 15.2 19.9 15 19.8 14.9 19.8 14.8 19.7 14.7 19.7 14.6 19.7 14.4 19.6 14.3 19.5 14.1 19.3 13.7 19.1 13.4 18.7 13.2 18.4 13.1 18.1 12.9 17.8 12.9 17.5 12.8 17.3 12.8 17.1 12.8 16.9L3.5 14.9C3.3 14.9 3.1 14.8 3 14.8 2.7 14.7 2.4 14.5 2.1 14.3 1.7 14 1.4 13.7 1.2 13.3 1 13 0.9 12.6 0.8 12.3 0.7 12 0.7 11.7 0.7 11.4 0.7 11 0.8 10.5 1 10.1 1.1 9.8 1.3 9.5 1.6 9.2 1.8 8.9 2.1 8.7 2.4 8.5 2.8 8.3 3.2 8.1 3.6 8.1 3.9 8 4.2 8 4.5 8 4.6 8 4.8 8 4.9 8.1L6.8 8.5C6.8 8.4 6.8 8.4 6.8 8.4 6.9 8.2 7.1 8 7.2 7.8 7.5 7.5 7.7 7.3 8 7.1 8.4 6.9 8.7 6.8 9.1 6.7 9.5 6.7 10 6.7 10.4 6.8 10.8 6.8 11.2 7 11.5 7.2 11.8 7.5 12.1 7.7 12.4 8 12.6 8.3 12.7 8.6 12.8 8.9 12.9 9.2 13 9.4 13 9.7 13 9.7 13 9.8 13 9.8 13.6 9.9 14.2 10.1 14.9 10.2 15 10.2 15 10.2 15.1 10.2 15.3 10.2 15.4 10.2 15.6 10.2 15.8 10.1 16 10 16.2 9.9 16.4 9.8 16.5 9.6 16.6 9.5 16.8 9.2 16.9 8.8 16.9 8.5 16.9 8.3 16.9 8.2 16.8 8 16.8 7.8 16.7 7.7 16.6 7.5 16.5 7.3 16.3 7.2 16.2 7.1 16 7 15.9 6.9 15.8 6.9 15.7 6.9 15.6 6.8 15.5 6.8L6.2 4.8C6.2 5 6 5.2 5.9 5.3 5.7 5.6 5.5 5.8 5.3 6 4.9 6.2 4.5 6.4 4.1 6.5 3.8 6.6 3.5 6.6 3.2 6.6 3 6.6 2.8 6.6 2.7 6.6 2.6 6.6 2.6 6.5 2.6 6.5 2.5 6.5 2.3 6.5 2.1 6.4 1.8 6.3 1.6 6.1 1.3 6 1 5.7 0.7 5.4 0.5 5 0.3 4.7 0.2 4.4 0.1 4.1 0 3.8 0 3.6 0 3.3 0 2.8 0.1 2.2 0.4 1.7 0.5 1.5 0.7 1.3 0.8 1.1 1.1 0.8 1.3 0.6 1.6 0.5 2 0.3 2.3 0.1 2.7 0.1 3.1 0 3.6 0 4 0.1 4.4 0.2 4.8 0.3 5.1 0.5 5.5 0.8 5.7 1 6 1.3 6.2 1.6 6.3 1.9 6.4 2.3 6.5 2.5 6.6 2.7 6.6 3 6.6 3 6.6 3.1 6.6 3.1 9.7 3.8 12.8 4.4 15.9 5.1 16.1 5.1 16.2 5.2 16.4 5.2 16.7 5.3 16.9 5.5 17.2 5.6 17.5 5.9 17.8 6.2 18.1 6.5 18.3 6.8 18.4 7.2 18.6 7.5 18.6 7.9 18.7 8.2 18.7 8.6 18.7 9 18.6 9.4 18.4 9.8 18.3 10.1 18.2 10.3 18 10.6 17.8 10.9 17.5 11.1 17.3 11.3 16.9 11.6 16.5 11.8 16 11.9 15.7 12 15.3 12 15 12 14.8 12 14.7 12 14.5 11.9 13.9 11.8 13.3 11.7 12.6 11.5 12.5 11.7 12.4 11.9 12.3 12 12.1 12.3 11.9 12.5 11.7 12.7 11.3 12.9 10.9 13.1 10.5 13.2 10.2 13.3 9.9 13.3 9.6 13.3 9.4 13.3 9.2 13.3 9 13.2 9 13.2 9 13.2 9 13.2 8.8 13.2 8.7 13.2 8.5 13.1 8.2 13 8 12.8 7.7 12.6 7.4 12.4 7.1 12 6.8 11.7 6.7 11.4 6.6 11.1 6.5 10.8 6.4 10.6 6.4 10.4 6.4 10.2 5.8 10.1 5.2 9.9 4.5 9.8 4.4 9.8 4.4 9.8 4.3 9.8 4.1 9.8 4 9.8 3.8 9.8 3.6 9.9 3.4 10 3.2 10.1 3 10.2 2.9 10.4 2.8 10.5 2.6 10.8 2.5 11.1 2.5 11.5 2.5 11.6 2.5 11.8 2.6 12 2.6 12.1 2.7 12.3 2.8 12.5 2.9 12.6 3.1 12.8 3.2 12.9 3.3 13 3.5 13.1 3.6 13.1 3.7 13.1 3.8 13.2 3.9 13.2L13.1 15.2 13.1 15.2Z"/></g></svg><span>Tutorials</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/fee1bd59-4e02-48a4-a7b4-152ec4c157ac/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" version="1.1" fill="#4A3C31"><desc>highlights icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13.325 18.071L8.036 18.071C8.036 11.335 12.36 7.146 22.5 5.594L22.5 0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35 15.545 35 19.578 31.485 19.578 26.184 19.578 21.556 17.211 18.891 13.325 18.071L13.325 18.071ZM40.825 18.071L35.565 18.071C35.565 11.335 39.86 7.146 50 5.594L50 0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35 43.045 35 47.078 31.485 47.078 26.184 47.078 21.556 44.74 18.891 40.825 18.071L40.825 18.071Z"/></g></svg><span>Highlights</span></a></li><li><a href="/u/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.safaribooksonline.com/public/support" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a><span class="l2 t-nag-notification"  id="nav-nag" ><strong class="trial-green">6</strong> days left in your trial.
  
  

  
    
      

<a class="" href="/subscribe/">Subscribe</a>.


    
  

  

</span></li><li><a href="https://www.safaribooksonline.com/public/support" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>


      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Data Visualization with Python and JavaScript
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9781491920565/chapter/ch08.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html&text=Data%20Visualization%20with%20Python%20and%20JavaScript&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 8.%20Introduction%20to%20Pandas&body=https://www.safaribooksonline.com/library/view/data-visualization-with/9781491920565/ch08.html%0D%0Afrom Data%20Visualization%20with%20Python%20and%20JavaScript%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    <section role="document">
        
        



 <!--[if lt IE 9]>
  
<![endif]-->



  <script defer src="/static/js/build/djangoMessagesPage.893631b34e7a.js"></script>


        
	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch07.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">7. Introduction to NumPy</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch09.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">9. Cleaning Data with Pandas</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 8. Introduction to Pandas"><div class="chapter" id="chapter_intro_to_pandas">
<h1><span class="label">Chapter 8. </span>Introduction to Pandas</h1>


<p>Pandas is a key element in our dataviz toolchain, as we will use it for both cleaning and exploring our recently scraped dataset (see <a data-type="xref" href="ch06.html#chapter_heavy_scraping">Chapter 6</a>). The last chapter introduced NumPy, the Python array processing library that is the foundation of Pandas. Before we move on to applying Pandas, this chapter will introduce its key concepts and show how it interacts with existing data files and database tables. The rest of your Pandas learning will be on the job over the next couple of chapters.</p>






<section data-type="sect1" data-pdf-bookmark="Why Pandas Is Tailor-Made for Dataviz"><div class="sect1" id="idm140319423921696">
<h1>Why Pandas Is Tailor-Made for Dataviz</h1>

<p><a data-type="indexterm" data-primary="Pandas" data-secondary="benefits of" id="idm140319423920560"></a>Take any dataviz, whether web-based or in print, and chances are that the data visualized was at one point stored in row-columnar form in a spreadsheet like Excel, a CSV file, or HDF5. There are certainly visualizations, like network graphs,  for which row-columnar data is not the best form, but they are in the minority. Pandas is tailor-made to manipulate row-columnar data tables with its core datatype, the <code>DataFrame</code>, which is best thought of as a very fast, programmatic spreadsheet.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Why Pandas Was Developed"><div class="sect1" id="idm140319423918384">
<h1>Why Pandas Was Developed</h1>

<p><a data-type="indexterm" data-primary="Pandas" data-secondary="development of" id="idm140319423917216"></a>First revealed by Wes Kinney in 2008, Pandas was built to solve a particular problem—namely, that while Python was great for manipulating data, munging it, and preparing it, it was weak in the area of data analysis and modeling, certainly compared with big hitters like R.</p>

<p>Pandas is designed to work with heterogeneous data like that found in row-columnar spreadsheets, but cleverly manages to leverage some of the speed of Python’s NumPy, originally intended for the sort of homogeneous numeric arrays used by mathematicians, physicists, computer graphics, and the like. Combined with the IPython interpreter-on-steroids and the Matplotlib plotting library (and family), Pandas represents a first-class interactive data analysis tool. Because it’s part of the NumPy ecosystem, its data modeling is easily enhanced by such libraries as SciPy, Statsmodel, and Scikit-learn, to name but a few.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Heterogeneous Data and Categorizing Measurements"><div class="sect1" id="idm140319423914544">
<h1>Heterogeneous Data and Categorizing Measurements</h1>

<p><a data-type="indexterm" data-primary="Pandas" data-secondary="heterogeneous datasets and" id="Phetero8"></a><a data-type="indexterm" data-primary="heterogeneous datasets" id="hetero8"></a><a data-type="indexterm" data-primary="categorizing measurements" id="categ8"></a>I’ll cover the core concepts of Pandas in the next section, focusing on the <code>DataFrame</code> and how to get your data into and out of it via the common datastores, CSV files and SQL databases. But first let’s take a little diversion to consider what we really mean by the heterogeneous datasets that Pandas was designed to work with and that are the mainstay of data visualizers.</p>

<p><a data-type="indexterm" data-primary="data visualization (dataviz)" data-secondary="measurement categories in" id="idm140319423908960"></a>Chances are that a visualization, maybe a bar chart or line graph used to illustrate an article or a modern web dashboard, presents the results of measurements in the real world, the price of commodities as they change over time, changes in rainfall over a year, voting intentions by ethnic group, and so forth. These measurements can be broadly broken into two groups, numerical and categorical. Numerical values can be divided into interval and ratio scales, and categorical values can in turn be divided into nominal and ordinal measurements. This gives four broad categories of observation available to the data visualizer.</p>

<p>Let’s take a set of tweets as an example in order to draw out these measurement categories. Each tweet has various data fields:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="p">{</code><code>
  </code><code class="s2">"text"</code><code class="o">:</code><code> </code><code class="s2">"#Python and #JavaScript sitting in a tree..."</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-1" href="#callout_introduction_to_pandas_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
  </code><code class="s2">"id"</code><code class="o">:</code><code> </code><code class="mi">2103303030333004303</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-2" href="#callout_introduction_to_pandas_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
  </code><code class="s2">"favorited"</code><code class="o">:</code><code> </code><code class="kc">true</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-3" href="#callout_introduction_to_pandas_CO1-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
  </code><code class="s2">"filter_level"</code><code class="o">:</code><code class="s2">"medium"</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-4" href="#callout_introduction_to_pandas_CO1-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
  </code><code class="s2">"created_at"</code><code class="o">:</code><code> </code><code class="s2">"Wed Mar 23 14:07:43 +0000 2015"</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-5" href="#callout_introduction_to_pandas_CO1-4"><img src="4.png" alt="4" width="12" height="12"></a><code>
  </code><code class="s2">"retweet_count"</code><code class="o">:</code><code class="mi">23</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-6" href="#callout_introduction_to_pandas_CO1-5"><img src="5.png" alt="5" width="12" height="12"></a><code>
  </code><code class="s2">"coordinates"</code><code class="o">:</code><code class="p">[</code><code class="o">-</code><code class="mf">97.5</code><code class="p">,</code><code> </code><code class="mf">45.3</code><code class="p">]</code><code> </code><a class="co" id="co_introduction_to_pandas_CO1-7" href="#callout_introduction_to_pandas_CO1-6"><img src="6.png" alt="6" width="12" height="12"></a><code>
  </code><code class="p">...</code><code>
</code><code class="p">}</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO1-1" href="#co_introduction_to_pandas_CO1-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The <code>text</code> and <code>id</code> fields are unique indicators. The former might contain categorical information (e.g., the category of tweets containing the #Python hashtag), and the latter might be used to create a category (e.g., the set of all users retweeting this tweet), but they are not per se visualizable fields.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO1-2" href="#co_introduction_to_pandas_CO1-3"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p><code>favorited</code> is Boolean, categorical information, dividing the tweets into two sets. This would count as a <em>nominal</em> category, as it can be counted but not ordered.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO1-3" href="#co_introduction_to_pandas_CO1-4"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p><code>filter_level</code> is also categorical information, but it is ordinal. There is an order, low→medium→high, to the filter levels.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO1-4" href="#co_introduction_to_pandas_CO1-5"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>The <code>created_at</code> field is a timestamp, a numerical value on an interval scale. We would probably want to order the tweets on this scale, something Pandas does automatically, and then maybe box into broader intervals, say by the day or week. Again, Pandas makes this trivial.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO1-5" href="#co_introduction_to_pandas_CO1-6"><img src="5.png" alt="5" width="12" height="12"></a></dt>
<dd><p><code>retweet_count</code> is likewise on a numerical scale, but it is a ratio one. A ratio scale, as opposed to an interval scale, has a meaningful concept of zero—in this case, no retweets. Our <code>created_at</code> timestamp, on the other hand, can have an arbitrary baseline (e.g., unix-time or Gregorian year 0), much in the same way as temperature scales, with 0 degrees Celsius being the same as 173 degrees Kelvin.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO1-6" href="#co_introduction_to_pandas_CO1-7"><img src="6.png" alt="6" width="12" height="12"></a></dt>
<dd><p><code>coordinates</code>, if available, has two numerical scales for longitude and latitude. Whereas longitude is taken arbitrarily from the Greenwich Meridian, a historical artifact of the British Empire, the line of latitude from the equator is nonarbitrary in as much as the earth’s pole disambiguates. Both are interval scales, though, as it doesn’t make much sense to speak of ratios of degrees.</p></dd>
</dl>

<p>So a small subset of our humble tweet’s fields contains heterogeneous information covering all the generally accepted divisions of measurement. Whereas the NumPy array is generally used for homogeneous, numerical number crunching, Pandas is designed to deal with categorical data, time series, and items that reflect the heterogeneous nature of real-world data. This makes it a great fit for the data visualization.</p>

<p>Now that we know the type of data Pandas is designed to deal with, let’s look at the data structures it uses.<a data-type="indexterm" data-primary="" data-startref="Phetero8" id="idm140319423661344"></a><a data-type="indexterm" data-primary="" data-startref="hetero8" id="idm140319423660496"></a><a data-type="indexterm" data-primary="" data-startref="categ8" id="idm140319423659552"></a></p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="The DataFrame"><div class="sect1" id="pandas_objects">
<h1>The DataFrame</h1>

<p><a data-type="indexterm" data-primary="Pandas" data-secondary="DataFrames" id="Pdframe8"></a><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="inspecting contents" id="idm140319423655424"></a>The first step in a Pandas session is usually to load some data into a <code>DataFrame</code>. We’ll cover the various ways we can do this in a later section. For now, let’s read our <em>nobel_winners.json</em> JSON data from a file. <code>read_json</code> returns a <code>DataFrame</code>, parsed from the JSON file specified. By convention, <code>DataFrame</code> variables start with <code>df</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code> <code class="nn">pandas</code> <code class="kn">as</code> <code class="nn">pd</code>

<code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_json</code><code class="p">(</code><code class="s1">'data/nobel_winners.json'</code><code class="p">)</code></pre>

<p>With our <code>DataFrame</code> in hand, let’s inspect its content. A quick way to get the row-columnar structure of the <code>DataFrame</code> is to use its <code>head</code> method to show (by default) the top five items. <a data-type="xref" href="#pandas_dataframe">Figure 8-1</a> shows the output from an IPython (or <a href="http://jupyter.org/">Jupyter</a>) Notebook, with key elements of the <code>DataFrame</code> highlighted.</p>

<figure><div id="pandas_dataframe" class="figure">
<img src="dvpj_0801.png" alt="dvpj 0801" width="1456" height="543">
<h6><span class="label">Figure 8-1. </span>The key elements of a Pandas DataFrame</h6>
</div></figure>








<section data-type="sect2" data-pdf-bookmark="Indices"><div class="sect2" id="idm140319423636080">
<h2>Indices</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="columns property" id="idm140319423634640"></a><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="indices" id="idm140319423633440"></a>The <code>DataFrame</code>’s columns are indexed by a <code>columns</code> property, which is a Pandas <code>index</code> instance. Let’s select the columns in <a data-type="xref" href="#pandas_dataframe">Figure 8-1</a>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">0</code><code class="p">]:</code> <code class="n">df</code><code class="o">.</code><code class="n">columns</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">0</code><code class="p">]:</code> <code class="n">Index</code><code class="p">([</code><code class="s-Affix">u</code><code class="s1">'born_in'</code><code class="p">,</code> <code class="s-Affix">u</code><code class="s1">'category'</code><code class="p">,</code> <code class="o">...</code> <code class="p">,</code> <code class="n">dtype</code><code class="o">=</code><code class="s1">'object'</code><code class="p">)</code></pre>

<p>Initially, Pandas rows have a single numeric index (Pandas can handle multiple indexes if necessary) that can be accessed by the <code>index</code> property:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="n">df</code><code class="o">.</code><code class="n">index</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">1</code><code class="p">]:</code> <code class="n">Int64Index</code><code class="p">([</code><code class="mi">0</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">7</code><code class="p">,</code> <code class="o">...</code><code class="p">],</code> <code class="n">dtype</code><code class="o">=</code><code class="s1">'int64'</code><code class="p">)</code></pre>

<p>As well as integers, row indices can be strings, <code>DatetimeIndice</code>s, or <code>PeriodIndice</code>s for time-based data, and so on. Often, to aid selections, a column of the <code>DataFrame</code> will be set to the index via the <code>set_index</code> method. In the following code, we first use the <code>set_index</code> method to set our Nobel <code>DataFrame</code>’s index to the name column and then use the <code>loc</code> method to select a row by the index label (<code>name</code> in this case):</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code> </code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">set_index</code><code class="p">(</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO2-1" href="#callout_introduction_to_pandas_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">loc</code><code class="p">[</code><code class="s1">'</code><code class="s1">Albert Einstein</code><code class="s1">'</code><code class="p">]</code><code> </code><a class="co" id="co_introduction_to_pandas_CO2-2" href="#callout_introduction_to_pandas_CO2-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">Out</code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code>
</code><code class="n">award_age</code><code>                                        </code><code class="mi">42</code><code>
</code><code class="n">category</code><code>                                    </code><code class="n">Physics</code><code>
</code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code>
</code><code class="n">year</code><code>                                           </code><code class="mi">1921</code><code>
</code><code class="n">Name</code><code class="p">:</code><code> </code><code class="n">Albert</code><code> </code><code class="n">Einstein</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="p">:</code><code> </code><code class="nb">object</code><code>
</code><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">reset_index</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO2-3" href="#callout_introduction_to_pandas_CO2-3"><img src="3.png" alt="3" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO2-1" href="#co_introduction_to_pandas_CO2-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Set the index to the name column.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO2-2" href="#co_introduction_to_pandas_CO2-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>You can now select a row by the <code>name</code> label.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO2-3" href="#co_introduction_to_pandas_CO2-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Return the index to original integer-based state.</p></dd>
</dl>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Rows and Columns"><div class="sect2" id="idm140319423404080">
<h2>Rows and Columns</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="working with rows/columns" id="idm140319423402672"></a>The rows and columns of a <code>DataFrame</code> are stored as <a href="http://bit.ly/1UT76Cl">Pandas <code>Series</code></a>, a heterogeneous counterpart to NumPy’s array. These are essentially a labeled one-dimensional array that can contain any datatype from integers, strings, and floats to Python objects and lists.</p>

<p>There are three ways to select a row from the <code>DataFrame</code>. We’ve seen the <code>loc</code> method, which selects by label. There’s also an <code>iloc</code> method, which selects by position. So to select the row in <a data-type="xref" href="#pandas_dataframe">Figure 8-1</a>, we grab row number two:</p>

<pre data-type="programlisting" data-code-language="python" class="pagebreak-before"><code class="n">In</code> <code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">iloc</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">4</code><code class="p">]:</code>
<code class="n">born_in</code>                                  <code class="n">Bosnia</code> <code class="ow">and</code> <code class="n">Herzegovina</code>
<code class="n">category</code>                                              <code class="n">Chemistry</code>
<code class="o">...</code>
<code class="n">name</code>                                          <code class="n">Vladimir</code> <code class="n">Prelog</code> <code class="o">*</code>
<code class="n">year</code>                                                       <code class="mi">1975</code>
<code class="n">Name</code><code class="p">:</code> <code class="mi">2</code><code class="p">,</code> <code class="n">dtype</code><code class="p">:</code> <code class="nb">object</code></pre>

<p>There is also an <code>ix</code> convenience method, which combines label access by <code>loc</code> with access by position <code>iloc</code>. <code>ix</code> prioritizes access by label, with a fallback to access by integer position if you use it with an integer and the axis (e.g., our Nobel Prize names column) is not an integer. Here are a few examples:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">5</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">ix</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code> <code class="c1"># equivalent to df.iloc[2]</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">5</code><code class="p">]:</code>
<code class="o">...</code>
<code class="n">name</code>                                          <code class="n">Vladimir</code> <code class="n">Prelog</code> <code class="o">*</code>
<code class="o">...</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">6</code><code class="p">]</code> <code class="n">df</code> <code class="o">=</code> <code class="n">df</code><code class="o">.</code><code class="n">set_index</code><code class="p">(</code><code class="s1">'name'</code><code class="p">)</code> <code class="c1"># index is now a name string</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">7</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">ix</code><code class="p">[</code><code class="s1">'Albert Einstein'</code><code class="p">]</code> <code class="c1"># == df.loc['Albert Einstein']</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">7</code><code class="p">]:</code>
<code class="o">...</code>
<code class="n">Name</code><code class="p">:</code> <code class="n">Albert</code> <code class="n">Einstein</code><code class="p">,</code> <code class="n">dtype</code><code class="p">:</code> <code class="nb">object</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">8</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">ix</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code> <code class="c1"># numeric access defaults to +iloc+</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">8</code><code class="p">]:</code>
<code class="o">...</code>
<code class="n">name</code>                                          <code class="n">Vladimir</code> <code class="n">Prelog</code> <code class="o">*</code></pre>

<p><code>ix</code> is a convenient method, but there is scope for confusion when it’s used with integer axes. If in doubt, it’s best to be explicit and use either <code>loc</code> or <code>iloc</code>.</p>

<p>You can grab a column of your <code>DataFrame</code> using dot notation<sup><a data-type="noteref" id="idm140319423198128-marker" href="ch08.html#idm140319423198128">1</a></sup> or conventional array access by keyword string. This returns a Pandas <code>Series</code> with all the column fields with their <code>DataFrame</code> indices <span class="keep-together">preserved</span>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">9</code><code class="p">]</code> <code class="n">gender_col</code> <code class="o">=</code> <code class="n">df</code><code class="o">.</code><code class="n">gender</code> <code class="c1"># or df['gender']</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">10</code><code class="p">]</code> <code class="nb">type</code><code class="p">(</code><code class="n">gender_col</code><code class="p">)</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">10</code><code class="p">]</code> <code class="n">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">series</code><code class="o">.</code><code class="n">Series</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">11</code><code class="p">]</code> <code class="n">gender_col</code><code class="o">.</code><code class="n">head</code><code class="p">()</code> <code class="c1"># grab the Series' first five items</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">11</code><code class="p">]:</code>
<code class="mi">0</code>    <code class="n">male</code> <code class="c1">#index, object</code>
<code class="mi">1</code>    <code class="n">male</code>
<code class="mi">2</code>    <code class="n">male</code>
<code class="mi">3</code>    <code class="n">male</code>
<code class="mi">4</code>    <code class="n">male</code>
<code class="n">Name</code><code class="p">:</code> <code class="n">gender</code><code class="p">,</code> <code class="n">dtype</code><code class="p">:</code> <code class="nb">object</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Selecting Groups"><div class="sect2" id="idm140319423194480">
<h2>Selecting Groups</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="selecting groups (subsets)" id="idm140319423012608"></a>There are various ways we can select groups (or subsets of rows) of our <code>DataFrame</code>, returning a new, filtered <code>DataFrame</code>. Often we want to select all rows with a specific column value (e.g., all rows with category Physics). One way to do this is to use the <code>DataFrame</code>’s <code>groupby</code> method to group a column (or list of columns) and then use the <code>get_group</code> method to select the required group. Let’s use these two methods to select all Nobel Physics Prize winners:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">12</code><code class="p">]</code> <code class="n">df</code> <code class="o">=</code> <code class="n">df</code><code class="o">.</code><code class="n">groupby</code><code class="p">(</code><code class="s1">'category'</code><code class="p">)</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">13</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">groups</code><code class="o">.</code><code class="n">keys</code><code class="p">()</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">13</code><code class="p">]:</code>
<code class="p">[</code><code class="s-Affix">u</code><code class="s1">'Physiology or Medicine'</code><code class="p">,</code>
 <code class="s-Affix">u</code><code class="s1">'Literature'</code><code class="p">,</code>
 <code class="s-Affix">u</code><code class="s1">'Economics'</code><code class="p">,</code>
 <code class="o">...</code>

<code class="n">In</code> <code class="p">[</code><code class="mi">14</code><code class="p">]</code> <code class="n">phy_group</code> <code class="o">=</code> <code class="n">df</code><code class="o">.</code><code class="n">get_group</code><code class="p">(</code><code class="s1">'Physics'</code><code class="p">)</code>
<code class="n">In</code> <code class="p">[</code><code class="mi">15</code><code class="p">]</code> <code class="n">phy_group</code><code class="o">.</code><code class="n">head</code><code class="p">()</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">15</code><code class="p">]:</code>
   <code class="n">born_in</code> <code class="n">category</code>    <code class="n">date_of_birth</code>     <code class="n">date_of_death</code> <code class="n">gender</code>  \
<code class="mi">13</code>          <code class="n">Physics</code>  <code class="mi">6</code> <code class="n">November</code> <code class="mi">1932</code>                     <code class="n">male</code>
<code class="mi">19</code>          <code class="n">Physics</code>   <code class="mi">7</code> <code class="n">October</code> <code class="mi">1885</code>  <code class="mi">18</code> <code class="n">November</code> <code class="mi">1962</code>   <code class="n">male</code>
<code class="mi">23</code>          <code class="n">Physics</code>     <code class="n">July</code> <code class="mi">9</code><code class="p">,</code> <code class="mi">1926</code>                     <code class="n">male</code>
<code class="mi">24</code>          <code class="n">Physics</code>     <code class="mi">19</code> <code class="n">June</code> <code class="mi">1922</code>  <code class="mi">8</code> <code class="n">September</code> <code class="mi">2009</code>   <code class="n">male</code>
<code class="mi">47</code>          <code class="n">Physics</code>       <code class="mi">3</code> <code class="n">May</code> <code class="mi">1902</code>    <code class="mi">7</code> <code class="n">January</code> <code class="mi">1984</code>   <code class="n">male</code>
<code class="o">...</code></pre>

<p>Another way to select row subsets is to use a Boolean mask to create a new <code>DataFrame</code>. You can apply Boolean operators to all rows in a <code>DataFrame</code> in much the same way as you can to all members of a NumPy array:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">16</code><code class="p">]</code> <code class="n">df</code><code class="o">.</code><code class="n">category</code> <code class="o">==</code> <code class="s1">'Physics'</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">16</code><code class="p">]:</code>
<code class="mi">0</code>     <code class="bp">False</code>
<code class="mi">1</code>     <code class="bp">False</code>
<code class="o">...</code>
<code class="mi">10</code>     <code class="bp">True</code>
<code class="mi">11</code>    <code class="bp">False</code>
<code class="o">...</code></pre>

<p>The resulting Boolean mask can then be applied to the original <code>DataFrame</code> to select a subset of its rows:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code> <code class="p">[</code><code class="mi">17</code><code class="p">]:</code> <code class="n">df</code><code class="p">[</code><code class="n">df</code><code class="o">.</code><code class="n">category</code> <code class="o">==</code> <code class="s1">'Physics'</code><code class="p">]</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">17</code><code class="p">]:</code>
         <code class="n">born_in</code> <code class="n">category</code>       <code class="n">date_of_birth</code>   <code class="o">...</code> <code class="n">gender</code>  \
<code class="mi">13</code>                <code class="n">Physics</code>     <code class="mi">6</code> <code class="n">November</code> <code class="mi">1932</code>   <code class="o">...</code>   <code class="n">male</code>
<code class="mi">19</code>                <code class="n">Physics</code>      <code class="mi">7</code> <code class="n">October</code> <code class="mi">1885</code>   <code class="o">...</code>   <code class="n">male</code>
<code class="mi">23</code>                <code class="n">Physics</code>        <code class="n">July</code> <code class="mi">9</code><code class="p">,</code> <code class="mi">1926</code>   <code class="o">...</code>   <code class="n">male</code>
<code class="o">...</code></pre>

<p>We’ll cover a lot more examples of data selections in the coming chapters. For now, let’s see how we create <code>DataFrame</code>s from existing data and how to save the results of our data frame manipulations.<a data-type="indexterm" data-primary="" data-startref="Pdframe8" id="idm140319422898144"></a></p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Creating and Saving DataFrames"><div class="sect1" id="load_save_dataframe">
<h1>Creating and Saving DataFrames</h1>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="creating/saving DataFrames" id="idm140319422895360"></a><a data-type="indexterm" data-primary="Pandas" data-secondary="creating/saving DataFrames" id="Pcreatedf8"></a>The easiest way to create a <code>DataFrame</code> is to use a Python dictionary. It’s also a way you won’t be using very often, as you will likely be accessing your data from files or databases. Nevertheless, it has its use cases.</p>

<p>By default, we specify the columns separately, in the following example creating three rows with name and category columns.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">({</code>
     <code class="s1">'name'</code><code class="p">:</code> <code class="p">[</code><code class="s1">'Albert Einstein'</code><code class="p">,</code> <code class="s1">'Marie Curie'</code><code class="p">,</code>\
     <code class="s1">'William Faulkner'</code><code class="p">],</code>
     <code class="s1">'category'</code><code class="p">:</code> <code class="p">[</code><code class="s1">'Physics'</code><code class="p">,</code> <code class="s1">'Chemistry'</code><code class="p">,</code> <code class="s1">'Literature'</code><code class="p">]</code>
     <code class="p">})</code></pre>

<p>We can use the <code>from_dict</code> method to allow us to use our preferred record-based object arrays. <code>from_dict</code> has an <code>orient</code> argument to allow us to specify record-like data, but Pandas is smart enough to work out the data form:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="o">.</code><code class="n">from_dict</code><code class="p">(</code><code class="p">[</code><code> </code><a class="co" id="co_introduction_to_pandas_CO3-1" href="#callout_introduction_to_pandas_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>     </code><code class="p">{</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Albert Einstein</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">category</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">Physics</code><code class="s1">'</code><code class="p">}</code><code class="p">,</code><code>
</code><code>     </code><code class="p">{</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">Marie Curie</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">category</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">Chemistry</code><code class="s1">'</code><code class="p">}</code><code class="p">,</code><code>
</code><code>     </code><code class="p">{</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="s1">'</code><code class="s1">William Faulkner</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">category</code><code class="s1">'</code><code class="p">:</code><code class="s1">'</code><code class="s1">Literature</code><code class="s1">'</code><code class="p">}</code><code>
</code><code>    </code><code class="p">]</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO3-1" href="#co_introduction_to_pandas_CO3-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Here we pass in an array of objects, each corresponding to a row in our <code>DataFrame</code>.</p></dd>
</dl>

<p class="pagebreak-after">The methods just shown produce an identical <code>DataFrame</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code><code class="o">.</code><code class="n">head</code><code class="p">()</code>
<code class="n">Out</code><code class="p">:</code>
     <code class="n">category</code>              <code class="n">name</code>
<code class="mi">0</code>     <code class="n">Physics</code>   <code class="n">Albert</code> <code class="n">Einstein</code>
<code class="mi">1</code>   <code class="n">Chemistry</code>       <code class="n">Marie</code> <code class="n">Curie</code>
<code class="mi">2</code>  <code class="n">Literature</code>  <code class="n">William</code> <code class="n">Faulkner</code></pre>

<p>As mentioned, you probably won’t be creating <code>DataFrame</code>s from Python containers directly. Instead, you will probably use one of the Pandas data reading methods.</p>

<p>Pandas has an impressive array of <code>read_[format]</code>/<code>to_[format]</code> methods, covering most conceivable data-loading use cases, from CSV through binary HDF5 to SQL databases. We’ll cover the subset most relevant to dataviz work. For a full list, see <a href="http://pandas.pydata.org/pandas-docs/dev/io.html">the Pandas <span class="keep-together">documentation</span></a>.</p>

<p>Note that by default Pandas will try to convert the loaded data sensibly. The <code>convert_axes</code> (try to convert the axes to the proper <code>dtype</code>s), <code>dtype</code> (guess datatype), and <code>convert_dates</code> arguments to the read methods are all <code>True</code> by default. See <a href="http://pandas.pydata.org/pandas-docs/stable/io.html#reading-json">here</a> for a full list of options.</p>

<p>Let’s cover file-based <code>DataFrame</code>s first, then see how to interact with (No)SQL databases.</p>








<section data-type="sect2" data-pdf-bookmark="JSON"><div class="sect2" id="idm140319422582480">
<h2>JSON</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="loading JSON data" id="idm140319422581008"></a><a data-type="indexterm" data-primary="JSON (JavaScript Object Notation)" data-secondary="loading into DataFrames" id="idm140319422580032"></a>Loading data from our preferred JSON format is trivial in Pandas:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_json</code><code class="p">(</code><code class="s1">'file.json'</code><code class="p">)</code></pre>

<p>There are various forms the JSON file can take, specified by an optional <code>orient</code> argument, one of [<code>split</code>, <code>records</code>, <code>index</code>, <code>columns</code>, <code>values</code>]. An array of records, our standard form, will be detected:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="p">[{</code><code class="s2">"name"</code><code class="o">:</code><code class="s2">"Albert Einstein"</code><code class="p">,</code> <code class="s2">"category"</code><code class="o">:</code><code class="s2">"Physics"</code><code class="p">,</code> <code class="p">...},</code>
<code class="p">{</code><code class="s2">"name"</code><code class="o">:</code><code class="s2">"Marie Curie"</code><code class="p">,</code> <code class="s2">"category"</code><code class="o">:</code><code class="s2">"Chemistry"</code><code class="p">,</code> <code class="p">...</code> <code class="p">}</code> <code class="p">...</code> <code class="p">]</code></pre>

<p>The default for a JSON object is <code>columns</code>, in the form:</p>

<pre data-type="programlisting" data-code-language="javascript"><code class="p">{</code><code class="s2">"name"</code><code class="o">:</code><code class="p">{</code><code class="s2">"0"</code><code class="o">:</code><code class="s2">"Albert Einstein"</code><code class="p">,</code><code class="s2">"1"</code><code class="o">:</code><code class="s2">"Marie Curie"</code> <code class="p">...</code> <code class="p">},</code>
<code class="s2">"category"</code><code class="o">:</code><code class="p">{</code><code class="s2">"1"</code><code class="p">,</code><code class="s2">"Physics"</code><code class="p">,</code><code class="s2">"2"</code><code class="o">:</code><code class="s2">"Chemistry"</code> <code class="p">...</code> <code class="p">}}</code></pre>

<p>As discussed, for web-based visualization work, particularly D3, record-based JSON is the most common way of passing row-columnar data to the browser.</p>
<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Note that you will need valid JSON files to work with Pandas because the <code>read_json</code> method and Python JSON parsers in general tend to be fairly unforgiving, and exceptions not as informative as they might be.<sup><a data-type="noteref" id="idm140319422552832-marker" href="ch08.html#idm140319422552832">2</a></sup> A common JSON error is failing to enclose keys in double-quote marks or using single quotes where double quotes are expected. The latter is particularly common for those coming from languages where single- and double-string quotes are essentially interchangeable and one reason why you should never build JSON documents yourself—always use an official or well-respected library.</p>
</div>

<p>There are various ways to store <code>DataFrame</code>s in JSON, but the format that will play most nicely with any dataviz work is the array of records. This is the most common form of D3 data and the one I recommend outputting from Pandas.<sup><a data-type="noteref" id="idm140319422546576-marker" href="ch08.html#idm140319422546576">3</a></sup> Writing a <code>DataFrame</code> as records to JSON is then simply a case of specifying the <code>orient</code> field in the <code>to_json</code> method.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_json</code><code class="p">(</code><code class="s1">'</code><code class="s1">data.json</code><code class="s1">'</code><code class="p">)</code><code>
</code><code class="c1"># ... Perform data-cleaning operations</code><code>
</code><code class="n">json</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">to_json</code><code class="p">(</code><code class="s1">'</code><code class="s1">data_cleaned.json</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">orient</code><code class="o">=</code><code class="s1">'</code><code class="s1">records</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO4-1" href="#callout_introduction_to_pandas_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code class="p">[</code><code class="p">{</code><code class="s2">"</code><code class="s2">name</code><code class="s2">"</code><code class="p">:</code><code class="s2">"</code><code class="s2">Albert Einstein</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">category</code><code class="s2">"</code><code class="p">:</code><code class="s2">"</code><code class="s2">Physics</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code class="p">}</code><code class="p">,</code><code>
</code><code class="p">{</code><code class="s2">"</code><code class="s2">name</code><code class="s2">"</code><code class="p">:</code><code class="s2">"</code><code class="s2">Marie Curie</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s2">"</code><code class="s2">category</code><code class="s2">"</code><code class="p">:</code><code class="s2">"</code><code class="s2">Chemistry</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code> </code><code class="p">}</code><code> </code><code class="o">.</code><code class="o">.</code><code class="o">.</code><code> </code><code class="p">]</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO4-1" href="#co_introduction_to_pandas_CO4-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Override the default save to store the JSON as dataviz-friendly records.</p></dd>
</dl>

<p>We also have the parameters <code>date_format</code>(<em>epoch</em> timestamp, <em>iso</em> for ISO8601, etc.), <code>double_precision</code>, and <code>default_handler</code> to call if the object cannot be converted into JSON using Pandas’ parser. Check <a href="http://pandas.pydata.org/pandas-docs/dev/io.html#writing-json">the Pandas documentation</a> for more details.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="CSV"><div class="sect2" id="idm140319422581856">
<h2>CSV</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="loading CSV data" id="idm140319422326688"></a><a data-type="indexterm" data-primary="CSV (comma-separated values) files" data-secondary="loading into DataFrames" id="idm140319422325712"></a>As befits Pandas’ data-table ethos, its handling of CSV files is sophisticated enough to cope with pretty much all conceivable data.  Conventional CSV files, which is the large majority, will load without parameters.</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># data.csv:</code>
<code class="c1"># name,category</code>
<code class="c1"># "Albert Einstein",Physics</code>
<code class="c1"># "Marie Curie",Chemistry</code>

<code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_csv</code><code class="p">(</code><code class="s1">'data.csv'</code><code class="p">)</code>
<code class="n">df</code>
<code class="n">Out</code><code class="p">:</code>
              <code class="n">name</code>   <code class="n">category</code>
<code class="mi">0</code>  <code class="n">Albert</code> <code class="n">Einstein</code>    <code class="n">Physics</code>
<code class="mi">1</code>      <code class="n">Marie</code> <code class="n">Curie</code>  <code class="n">Chemistry</code></pre>

<p>But there is a lot of CSV type data out there that is not comma-separated or that uses idiosyncratic quoting for strings containing spaces or special characters. In this case, we can specify any non-standard elements in our read request. We’ll use Python’s handy <code>StringIO</code> module to emulate reading from a file:<sup><a data-type="noteref" id="idm140319422264480-marker" href="ch08.html#idm140319422264480">4</a></sup></p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code><code> </code><code class="nn">StringIO</code><code> </code><code class="kn">import</code><code> </code><code class="n">StringIO</code><code>
</code><code>
</code><code class="n">data</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">  `Albert Einstein`| Physics </code><code class="se">\n</code><code class="s2">`Marie Curie`|  Chemistry</code><code class="s2">"</code><code>
</code><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_csv</code><code class="p">(</code><code class="n">StringIO</code><code class="p">(</code><code class="n">data</code><code class="p">)</code><code class="p">,</code><code>
</code><code>   </code><code class="n">sep</code><code class="o">=</code><code class="s1">'</code><code class="s1">|</code><code class="s1">'</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO5-1" href="#callout_introduction_to_pandas_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>   </code><code class="n">names</code><code class="o">=</code><code class="p">[</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">category</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO5-2" href="#callout_introduction_to_pandas_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>   </code><code class="n">skipinitialspace</code><code class="o">=</code><code class="bp">True</code><code class="p">,</code><code> </code><code class="n">quotechar</code><code class="o">=</code><code class="s2">"</code><code class="s2">`</code><code class="s2">"</code><code class="p">)</code><code>
</code><code>
</code><code class="n">df</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code>              </code><code class="n">name</code><code>   </code><code class="n">category</code><code>
</code><code class="mi">0</code><code>  </code><code class="n">Albert</code><code> </code><code class="n">Einstein</code><code>   </code><code class="n">Physics</code><code>
</code><code class="mi">1</code><code>      </code><code class="n">Marie</code><code> </code><code class="n">Curie</code><code>  </code><code class="n">Chemistry</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO5-1" href="#co_introduction_to_pandas_CO5-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The fields are pipe-separated, not the default comma-separated.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO5-2" href="#co_introduction_to_pandas_CO5-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Here we provide the missing column headers.</p></dd>
</dl>

<p>We have the same degree of flexibility when saving CSV files, here setting the encoding to Unicode utf-8.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code><code class="o">.</code><code class="n">to_csv</code><code class="p">(</code><code class="s1">'data.csv'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s1">'utf-8'</code><code class="p">)</code></pre>

<p>For full coverage of the CSV options, see <a href="http://pandas.pydata.org/pandas-docs/dev/io.html#csv-text-files">here</a>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="Excel Files"><div class="sect2" id="idm140319422119680">
<h2>Excel Files</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="loading Excel files" id="idm140319422118144"></a><a data-type="indexterm" data-primary="Excel files" data-secondary="loading into DataFrames" id="idm140319422116944"></a>Pandas uses Python’s xlrd module to read Excel 2003 (<em>.xls</em>) and Excel 2007 (<em>.xlsx</em>) files.  Excel documents have multiple named sheets, each of which can be passed to a <code>DataFrame</code>. There are two ways to read a datasheet into a <code>DataFrame</code>. The first is by creating and then parsing an <code>ExcelFile</code> object.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">dfs</code><code> </code><code class="o">=</code><code> </code><code class="p">{</code><code class="p">}</code><code>
</code><code class="n">xls</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">ExcelFile</code><code class="p">(</code><code class="s1">'</code><code class="s1">nobel_winners.xls</code><code class="s1">'</code><code class="p">)</code><code> </code><code class="c1"># load Excel file</code><code>
</code><code class="n">dfs</code><code class="p">[</code><code class="s1">'</code><code class="s1">WSheet1</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="n">xls</code><code class="o">.</code><code class="n">parse</code><code class="p">(</code><code class="s1">'</code><code class="s1">WinnersSheet1</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">na_values</code><code class="o">=</code><code class="p">[</code><code class="s1">'</code><code class="s1">NA</code><code class="s1">'</code><code class="p">]</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO6-1" href="#callout_introduction_to_pandas_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">dfs</code><code class="p">[</code><code class="s1">'</code><code class="s1">WSheet2</code><code class="s1">'</code><code class="p">]</code><code> </code><code class="o">=</code><code> </code><code class="n">xls</code><code class="o">.</code><code class="n">parse</code><code class="p">(</code><code class="s1">'</code><code class="s1">WinnersSheet2</code><code class="s1">'</code><code class="p">,</code><code>
</code><code>    </code><code class="n">index_col</code><code class="o">=</code><code class="mi">1</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO6-2" href="#callout_introduction_to_pandas_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>    </code><code class="n">na_values</code><code class="o">=</code><code class="p">[</code><code class="s1">'</code><code class="s1">-</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code> </code><a class="co" id="co_introduction_to_pandas_CO6-3" href="#callout_introduction_to_pandas_CO6-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code>    </code><code class="n">skiprows</code><code class="o">=</code><code class="mi">3</code><code> </code><a class="co" id="co_introduction_to_pandas_CO6-4" href="#callout_introduction_to_pandas_CO6-4"><img src="4.png" alt="4" width="12" height="12"></a><code>
</code><code>    </code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO6-1" href="#co_introduction_to_pandas_CO6-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Grab a sheet by name and save to a dictionary.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO6-2" href="#co_introduction_to_pandas_CO6-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Specify the column, by position, to use as <code>DataFrame</code>’s row labels.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO6-3" href="#co_introduction_to_pandas_CO6-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>A list of additional strings to recognize as NaN.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO6-4" href="#co_introduction_to_pandas_CO6-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>The number of rows (e.g., metadata) to skip before processing.</p></dd>
</dl>

<p>Alternatively you can use the <code>read_excel</code> method, which is a convenience method for loading multiple spreadsheets.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">data</code> <code class="o">=</code> <code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="p">[</code><code class="s1">'WSheet1'</code><code class="p">,</code><code class="s1">'WSheet2'</code><code class="p">],</code>
                      <code class="n">index_col</code><code class="o">=</code><code class="bp">None</code><code class="p">,</code> <code class="n">na_values</code><code class="o">=</code><code class="p">[</code><code class="s1">'NA'</code><code class="p">])</code></pre>

<p>The only reason not to use <code>read_excel</code> is if you need different arguments for reading each Excel sheet.</p>

<p>You can specify sheets by index or name using the second (<code>sheetname</code>) parameter. <code>sheetname</code> can be a single name-string or index (beginning at 0) or a mixed list. By default <code>sheetname</code> is <code>0</code>, returning the first sheet. <a data-type="xref" href="#excel_loads">Example 8-1</a> shows some variations. Setting <code>sheetname</code> to <code>None</code> returns a sheetname-keyed dictionary of <code>DataFrame</code>s.</p>
<div id="excel_loads" data-type="example">
<h5><span class="label">Example 8-1. </span>Loading Excel sheets</h5>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># return the first datasheet</code>
<code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">)</code>


<code class="c1"># return a named sheet</code>
<code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="s1">'WSheet3'</code><code class="p">)</code>

<code class="c1"># first sheet and sheet named 'WSheet3'</code>
<code class="n">df</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="p">[</code><code class="mi">0</code><code class="p">,</code> <code class="s1">'WSheet3'</code><code class="p">])</code>

<code class="c1"># all sheets loaded into a name-keyed dictionary</code>
<code class="n">dfs</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="n">sheetname</code><code class="o">=</code><code class="bp">None</code><code class="p">)</code></pre></div>

<p>The <code>parse_cols</code> parameter lets you select the sheet columns to be parsed. Setting <code>parse_cols</code> to an integer value selects all columns up to that ordinal. Setting <code>parse_cols</code> to a list of integers allows you to select specific columns.</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># parse up to the fifth column</code>
<code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="s1">'WSheet1'</code><code class="p">,</code> <code class="n">parse_cols</code><code class="o">=</code><code class="mi">4</code><code class="p">)</code>

<code class="c1"># parse the second and fourth columns</code>
<code class="n">pd</code><code class="o">.</code><code class="n">read_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xls'</code><code class="p">,</code> <code class="s1">'WSheet1'</code><code class="p">,</code> <code class="n">parse_cols</code><code class="o">=</code><code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">3</code><code class="p">])</code></pre>

<p>For more information on <code>read_excel</code>, see <a href="http://bit.ly/1tAISErl">here</a>.</p>

<p>You can save a <code>DataFrame</code> to the sheet of an  Excel file with the <code>to_excel</code> method, giving the Excel filename and a sheetname, <code>'nobel_winners'</code> and <code>'WSheet1'</code>, respectively, in this example:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">df</code><code class="o">.</code><code class="n">to_excel</code><code class="p">(</code><code class="s1">'nobel_winners.xlsx'</code><code class="p">,</code> <code class="n">sheet_name</code><code class="o">=</code><code class="s1">'WSheet1'</code><code class="p">)</code></pre>

<p>There are various options similar to <code>to_csv</code> and covered <a href="http://bit.ly/1W3YPxO">here</a>. Because Pandas <code>Panel</code>s and Excel files can store multiple <code>DataFrame</code>s,  there is a <code>Panel</code> <code>to_excel</code> method to write all its <code>DataFrame</code>s to an Excel file.</p>

<p>If you need to select multiple <code>DataFrame</code>s to write to a shared Excel file, you can use an <code>ExcelWriter</code> object.</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">with</code> <code class="n">pd</code><code class="o">.</code><code class="n">ExcelWriter</code><code class="p">(</code><code class="s1">'nobel_winners.xlsx'</code><code class="p">)</code> <code class="k">as</code> <code class="n">writer</code><code class="p">:</code>
    <code class="n">df1</code><code class="o">.</code><code class="n">to_excel</code><code class="p">(</code><code class="n">writer</code><code class="p">,</code> <code class="n">sheet_name</code><code class="o">=</code><code class="s1">'WSheet1'</code><code class="p">)</code>
    <code class="n">df2</code><code class="o">.</code><code class="n">to_excel</code><code class="p">(</code><code class="n">writer</code><code class="p">,</code> <code class="n">sheet_name</code><code class="o">=</code><code class="s1">'WSheet2'</code><code class="p">)</code></pre>
</div></section>













<section data-type="sect2" data-pdf-bookmark="SQL"><div class="sect2" id="sect_pandas_sql">
<h2>SQL</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="loading SQL tables" id="idm140319421792304"></a><a data-type="indexterm" data-primary="SQLAlchemy" data-secondary="loading into DataFrames" id="idm140319421791168"></a><a data-type="indexterm" data-primary="SQLite" data-secondary="loading into DataFrames" id="idm140319421790224"></a><a data-type="indexterm" data-primary="databases" data-secondary="loading into DataFrames" id="idm140319421789280"></a>If available, and I’d highly recommend that it is, Pandas uses Python’s <code>SQLAlchemy</code> module to do the database abstraction; otherwise, there is an <code>sqlite</code> fallback using Python’s standard database library.  If using <code>SQLAlchemy</code>, you’ll also need the driver library for your database.</p>

<p>The easiest way to load a database table or the results of an SQL query is with the <code>read_sql</code> method.</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code><code> </code><code class="nn">sqlalchemy</code><code>
</code><code>
</code><code class="n">engine</code><code> </code><code class="o">=</code><code> </code><code class="n">sqlalchemy</code><code class="o">.</code><code class="n">create_engine</code><code class="p">(</code><code>
</code><code>                </code><code class="s1">'</code><code class="s1">mysql://USER:PASSWORD@localhost/db</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO7-1" href="#callout_introduction_to_pandas_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">read_sql</code><code class="p">(</code><code class="s1">'</code><code class="s1">nobel_winners</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">engine</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO7-2" href="#callout_introduction_to_pandas_CO7-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO7-1" href="#co_introduction_to_pandas_CO7-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Here, we use a MySQL database. SQLAlchemy can create engines for all the commonly used databases.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO7-2" href="#co_introduction_to_pandas_CO7-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Read the contents of the <code>'nobel_winners'</code> SQL table into a <code>DataFrame</code>.</p></dd>
</dl>

<p><code>read_sql</code> is a convenience wrapper around the <code>read_sql_table</code> and <code>read_sql_query</code> methods and will do the right thing depending on its first argument.</p>

<p>Writing <code>DataFrame</code>s to an SQL database is simple enough. Using the engine we just created:</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># save DataFrame df to nobel_winners SQL table</code>
<code class="n">df</code><code class="o">.</code><code class="n">to_sql</code><code class="p">(</code><code class="s1">'nobel_winners'</code><code class="p">,</code> <code class="n">engine</code><code class="p">)</code></pre>

<p>If you encounter errors due to packet-size limitations, the <code>chunksize</code> parameter can set the number of rows to be written at a time.</p>

<pre data-type="programlisting" data-code-language="python"><code class="c1"># write 500 rows at a time</code>
<code class="n">df</code><code class="o">.</code><code class="n">to_sql</code><code class="p">(</code><code class="s1">'nobel_winners'</code><code class="p">,</code> <code class="n">engine</code><code class="p">,</code> <code class="n">chunksize</code><code class="o">=</code><code class="mi">500</code><code class="p">)</code></pre>

<p>Pandas will do the sensible thing and try to map your data to a suitable SQL type, inferring the datatype of objects. If necessary, the default type can be overridden in the load call:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">from</code><code> </code><code class="nn">sqlalchemy.types</code><code> </code><code class="kn">import</code><code> </code><code class="n">String</code><code>
</code><code class="n">df</code><code class="o">.</code><code class="n">to_sql</code><code class="p">(</code><code class="s1">'</code><code class="s1">nobel_winners</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">engine</code><code class="p">,</code><code> </code><code class="n">dtype</code><code class="o">=</code><code class="p">{</code><code class="s1">'</code><code class="s1">year</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="n">String</code><code class="p">}</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO8-1" href="#callout_introduction_to_pandas_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO8-1" href="#co_introduction_to_pandas_CO8-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Override Pandas’ inference, and specify year as a <code>String</code> <span class="keep-together">column</span>.</p></dd>
</dl>

<p>Further details of Pandas-SQL interaction can be found <a href="http://pandas.pydata.org/pandas-docs/dev/io.html#sql-queries">in the Pandas documentation</a>.</p>
</div></section>













<section data-type="sect2" data-pdf-bookmark="MongoDB"><div class="sect2" id="mongo_to_dataframe">
<h2>MongoDB</h2>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="loading MongoDB tables" id="idm140319421568112"></a><a data-type="indexterm" data-primary="MongoDB" data-secondary="loading into DataFrames" id="idm140319421567136"></a>For dataviz work, there’s a lot to be said for the convenience of document-based NoSQL databases like MongoDB. In MongoDB’s case, things are even better, as it uses a binary form of JSON for its datastore—namely BSON, short for binary JSON. Since JSON is our data glue of choice, as it connects our web dataviz with its backend server, there’s a good reason to consider storing your datasets in Mongo. It also plays nicely with Pandas.</p>

<p>As we’ve seen, Pandas <code>DataFrame</code>s convert nicely to and from JSON format, so getting a Mongo document collection into a Pandas <code>DataFrame</code> is a pretty easy affair:</p>

<pre data-type="programlisting" data-code-language="python"><code class="kn">import</code><code> </code><code class="nn">pandas</code><code> </code><code class="kn">as</code><code> </code><code class="nn">pd</code><code>
</code><code class="kn">from</code><code> </code><code class="nn">pymongo</code><code> </code><code class="kn">import</code><code> </code><code class="n">MongoClient</code><code>
</code><code>
</code><code class="n">client</code><code> </code><code class="o">=</code><code> </code><code class="n">MongoClient</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO9-1" href="#callout_introduction_to_pandas_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>
</code><code class="n">db</code><code> </code><code class="o">=</code><code> </code><code class="n">client</code><code class="o">.</code><code class="n">nobel_prize</code><code> </code><a class="co" id="co_introduction_to_pandas_CO9-2" href="#callout_introduction_to_pandas_CO9-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code class="n">cursor</code><code> </code><code class="o">=</code><code> </code><code class="n">db</code><code class="o">.</code><code class="n">winners</code><code class="o">.</code><code class="n">find</code><code class="p">(</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO9-3" href="#callout_introduction_to_pandas_CO9-3"><img src="3.png" alt="3" width="12" height="12"></a><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="nb">list</code><code class="p">(</code><code class="n">cursor</code><code class="p">)</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO9-4" href="#callout_introduction_to_pandas_CO9-4"><img src="4.png" alt="4" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO9-1" href="#co_introduction_to_pandas_CO9-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Create a Mongo client, using the default host and ports.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO9-2" href="#co_introduction_to_pandas_CO9-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Get the <code>nobel_prize</code> database.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO9-3" href="#co_introduction_to_pandas_CO9-3"><img src="3.png" alt="3" width="12" height="12"></a></dt>
<dd><p>Find all documents in the <code>winner</code> collection.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO9-4" href="#co_introduction_to_pandas_CO9-4"><img src="4.png" alt="4" width="12" height="12"></a></dt>
<dd><p>Load all documents from the cursor into a list and use to create a <code>DataFrame</code>.</p></dd>
</dl>

<p>It’s just as easy to insert a <code>DataFrame</code>’s records into a MongoDB database. Here, we use the <code>get_mongo_database</code> method we defined in <a data-type="xref" href="ch03.html#data_get_mongo">Example 3-5</a> to get our <code>nobel_prize</code> database and save the <code>DataFrame</code> to its <code>winners</code> collection:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">db</code><code> </code><code class="o">=</code><code> </code><code class="n">get_mongo_database</code><code class="p">(</code><code class="s1">'</code><code class="s1">nobel_prize</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>
</code><code class="n">records</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">to_dict</code><code class="p">(</code><code class="s1">'</code><code class="s1">records</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO10-1" href="#callout_introduction_to_pandas_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">db</code><code class="p">[</code><code class="n">collection</code><code class="p">]</code><code class="o">.</code><code class="n">insert</code><code class="p">(</code><code class="n">records</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO10-2" href="#callout_introduction_to_pandas_CO10-2"><img src="2.png" alt="2" width="12" height="12"></a></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO10-1" href="#co_introduction_to_pandas_CO10-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Converts the <code>DataFrame</code> to a <code>dict</code>, using the <code>records</code> argument to convert the rows into individual objects.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO10-2" href="#co_introduction_to_pandas_CO10-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>For PyMongo version 3 and later, use the faster <code>insert_many</code> method.</p></dd>
</dl>

<p>Let’s write a couple of convenience functions to read and write a <code>DataFrame</code> to a MongoDB database; we’ll use these in the next data cleaning chapter:</p>

<pre data-type="programlisting" data-code-language="python"><code class="k">def</code><code> </code><code class="nf">mongo_to_dataframe</code><code class="p">(</code><code class="n">db_name</code><code class="p">,</code><code> </code><code class="n">collection</code><code class="p">,</code><code> </code><code class="n">query</code><code class="o">=</code><code class="p">{</code><code class="p">}</code><code class="p">,</code><code>\
</code><code>                       </code><code class="n">host</code><code class="o">=</code><code class="s1">'</code><code class="s1">localhost</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">port</code><code class="o">=</code><code class="mi">27017</code><code class="p">,</code><code>\
</code><code>                       </code><code class="n">username</code><code class="o">=</code><code class="n">none</code><code class="p">,</code><code> </code><code class="n">password</code><code class="o">=</code><code class="n">none</code><code class="p">,</code><code>\
</code><code>                        </code><code class="n">no_id</code><code class="o">=</code><code class="n">true</code><code class="p">)</code><code class="p">:</code><code>
</code><code>    </code><code class="sd">""" create a dataframe from mongodb collection """</code><code>
</code><code>
</code><code>    </code><code class="n">db</code><code> </code><code class="o">=</code><code> </code><code class="n">get_mongo_database</code><code class="p">(</code><code class="n">db_name</code><code class="p">,</code><code> </code><code class="n">host</code><code class="p">,</code><code> </code><code class="n">port</code><code class="p">,</code><code> </code><code class="n">username</code><code class="p">,</code><code>\
</code><code>     </code><code class="n">password</code><code class="p">)</code><code>
</code><code>
</code><code>    </code><code class="n">cursor</code><code> </code><code class="o">=</code><code> </code><code class="n">db</code><code class="p">[</code><code class="n">collection</code><code class="p">]</code><code class="o">.</code><code class="n">find</code><code class="p">(</code><code class="n">query</code><code class="p">)</code><code>
</code><code>
</code><code>    </code><code class="n">df</code><code> </code><code class="o">=</code><code>  </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="nb">list</code><code class="p">(</code><code class="n">cursor</code><code class="p">)</code><code class="p">)</code><code>
</code><code>
</code><code>    </code><code class="k">if</code><code> </code><code class="n">no_id</code><code class="p">:</code><code> </code><a class="co" id="co_introduction_to_pandas_CO11-1" href="#callout_introduction_to_pandas_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code>        </code><code class="k">del</code><code> </code><code class="n">df</code><code class="p">[</code><code class="s1">'</code><code class="s1">_id</code><code class="s1">'</code><code class="p">]</code><code>
</code><code>
</code><code>    </code><code class="k">return</code><code> </code><code class="n">df</code><code>
</code><code>
</code><code class="k">def</code><code> </code><code class="nf">dataframe_to_mongo</code><code class="p">(</code><code class="n">df</code><code class="p">,</code><code> </code><code class="n">db_name</code><code class="p">,</code><code> </code><code class="n">collection</code><code class="p">,</code><code>\
</code><code>                       </code><code class="n">host</code><code class="o">=</code><code class="s1">'</code><code class="s1">localhost</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="n">port</code><code class="o">=</code><code class="mi">27017</code><code class="p">,</code><code>\
</code><code>                       </code><code class="n">username</code><code class="o">=</code><code class="n">none</code><code class="p">,</code><code> </code><code class="n">password</code><code class="o">=</code><code class="n">none</code><code class="p">)</code><code class="p">:</code><code>
</code><code>    </code><code class="sd">""" save a dataframe to mongodb collection """</code><code>
</code><code>    </code><code class="n">db</code><code> </code><code class="o">=</code><code> </code><code class="n">get_mongo_database</code><code class="p">(</code><code class="n">db_name</code><code class="p">,</code><code> </code><code class="n">host</code><code class="p">,</code><code> </code><code class="n">port</code><code class="p">,</code><code> </code><code class="n">username</code><code class="p">,</code><code>\
</code><code>     </code><code class="n">password</code><code class="p">)</code><code>
</code><code>
</code><code>    </code><code class="n">records</code><code> </code><code class="o">=</code><code> </code><code class="n">df</code><code class="o">.</code><code class="n">to_dict</code><code class="p">(</code><code class="s1">'</code><code class="s1">records</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>    </code><code class="n">db</code><code class="p">[</code><code class="n">collection</code><code class="p">]</code><code class="o">.</code><code class="n">insert</code><code class="p">(</code><code class="n">records</code><code class="p">)</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO11-1" href="#co_introduction_to_pandas_CO11-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Mongo’s <code>_id</code> field will be included in the <code>DataFrame</code>. By default, remove the column.</p></dd>
</dl>

<p>Another way to create <code>DataFrame</code>s is to build them from a collection of <code>Series</code>. Let’s have a look at that, taking the opportunity to explore <code>Series</code> in more detail.<a data-type="indexterm" data-primary="" data-startref="Pcreatedf8" id="idm140319421144528"></a></p>
</div></section>





</div></section>













<section data-type="sect1" data-pdf-bookmark="Series into DataFrames"><div class="sect1" id="idm140319422896704">
<h1>Series into DataFrames</h1>

<p><a data-type="indexterm" data-primary="DataFrames (Pandas)" data-secondary="creating from Series" id="DFPseries8"></a><a data-type="indexterm" data-primary="Series (Pandas)" id="series8"></a><a data-type="indexterm" data-primary="Pandas" data-secondary="creating Series" id="Pseries8"></a>The key idea with Pandas <code>Series</code> is the index. These indices function as labels for the heterogeneous data contained in, say, a row of data. When Pandas operates on more than one data object, these indices are used to align the fields.</p>

<p><code>Series</code> can be created in one of three ways. The first is from a Python list or NumPy array:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">])</code> <code class="c1"># Series(np.arange(4))</code>
<code class="n">Out</code><code class="p">:</code>
<code class="mi">0</code>    <code class="mi">1</code> <code class="c1"># index, value</code>
<code class="mi">1</code>    <code class="mi">2</code>
<code class="mi">2</code>    <code class="mi">3</code>
<code class="mi">3</code>    <code class="mi">4</code>
<code class="n">dtype</code><code class="p">:</code> <code class="n">int64</code></pre>

<p>Note that integer indices are automatically created for our <code>Series</code>. If we were adding a row of data to a <code>DataFrame</code> (table), we would want to specify the column indices by passing them as a list of integers or labels.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">],</code> <code class="n">index</code><code class="o">=</code><code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">,</code> <code class="s1">'d'</code><code class="p">])</code>
<code class="n">s</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code>    <code class="mi">1</code>
<code class="n">b</code>    <code class="mi">2</code>
<code class="n">c</code>    <code class="mi">3</code>
<code class="n">d</code>    <code class="mi">4</code>
<code class="n">dtype</code><code class="p">:</code> <code class="n">int64</code></pre>

<p>Note that the length of the index array should match the length of the data array.</p>

<p>We can specify both data and index using a Python <code>dict</code>:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">({</code><code class="s1">'a'</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">:</code><code class="mi">2</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">:</code><code class="mi">3</code><code class="p">})</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code>    <code class="mi">1</code>
<code class="n">b</code>    <code class="mi">2</code>
<code class="n">c</code>    <code class="mi">3</code>
<code class="n">dtype</code><code class="p">:</code> <code class="n">int64</code></pre>

<p>If we pass an index array along with the <code>dict</code>, Pandas will do the sensible thing, matching the indices to the data array. Any unmatched indices will be set to <code>NaN</code> (not a number), and any unmatched data discarded.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">({</code><code class="s1">'a'</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">:</code><code class="mi">2</code><code class="p">},</code> <code class="n">index</code><code class="o">=</code><code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">])</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code> <code class="mi">1</code>
<code class="n">b</code> <code class="mi">2</code>
<code class="n">c</code> <code class="n">NaN</code>

<code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">({</code><code class="s1">'a'</code><code class="p">:</code><code class="mi">1</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">:</code><code class="mi">2</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">:</code><code class="mi">3</code><code class="p">},</code> <code class="n">index</code><code class="o">=</code><code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">])</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code> <code class="mi">1</code>
<code class="n">b</code> <code class="mi">2</code></pre>

<p>Finally, we can pass a single, scalar value as data to the <code>Series</code>, provided we also specify an index. The scalar value is then applied to all indices.</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">(</code><code class="mi">9</code><code class="p">,</code> <code class="p">{</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">})</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code>    <code class="mi">9</code>
<code class="n">b</code>    <code class="mi">9</code>
<code class="n">c</code>    <code class="mi">9</code></pre>

<p><code>Series</code> are like NumPy arrays (<code>ndarray</code>), which means they can be passed to most NumPy functions:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code> <code class="o">=</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">],</code> <code class="p">[</code><code class="s1">'a'</code><code class="p">,</code> <code class="s1">'b'</code><code class="p">,</code> <code class="s1">'c'</code><code class="p">,</code> <code class="s1">'d'</code><code class="p">])</code>
<code class="n">np</code><code class="o">.</code><code class="n">sqrt</code><code class="p">(</code><code class="n">s</code><code class="p">)</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">a</code>    <code class="mf">1.000000</code>
<code class="n">b</code>    <code class="mf">1.414214</code>
<code class="n">c</code>    <code class="mf">1.732051</code>
<code class="n">d</code>    <code class="mf">2.000000</code>
<code class="n">dtype</code><code class="p">:</code> <code class="n">float64</code></pre>

<p>Slicing operations work as they would with Python lists or <code>ndarray</code>s, but note that the index labels are preserved:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">s</code><code class="p">[</code><code class="mi">1</code><code class="p">:</code><code class="mi">3</code><code class="p">]</code>
<code class="n">Out</code><code class="p">:</code>
<code class="n">b</code>  <code class="mi">2</code>
<code class="n">c</code>  <code class="mi">3</code></pre>

<p>And of course, unlike <code>ndarrays</code>, multiple datatypes are handled sensibly:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mf">2.1</code><code class="p">,</code> <code class="s1">'foo'</code><code class="p">])</code> <code class="o">+</code> <code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">([</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="s1">'bar'</code><code class="p">])</code>
<code class="n">Out</code><code class="p">:</code>
<code class="mi">0</code>         <code class="mi">3</code> <code class="c1"># 1 + 2</code>
<code class="mi">1</code>       <code class="mf">5.1</code> <code class="c1"># 2.1 + 3</code>
<code class="mi">2</code>    <code class="n">foobar</code> <code class="c1"># strings correctly concatenated</code>
<code class="n">dtype</code><code class="p">:</code> <code class="nb">object</code></pre>

<p>The ability to create and manipulate individual <code>Series</code> is particularly important when you are interacting with the NumPy ecosystem, manipulating data from a <code>DataFrame</code>, or creating visualizations outside of Pandas’ Matplotlib wrapper.</p>

<p>As <code>Series</code> are the building block of <code>DataFrame</code>s, it’s easy to join them together to create a <code>DataFrame</code>, using Pandas’ <code>concat</code> method:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">names</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">Albert Einstein</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Marie Curie</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code>\
</code><code> </code><code class="n">name</code><code class="o">=</code><code class="s1">'</code><code class="s1">name</code><code class="s1">'</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO12-1" href="#callout_introduction_to_pandas_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">categories</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">Series</code><code class="p">(</code><code class="p">[</code><code class="s1">'</code><code class="s1">Physics</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">Chemistry</code><code class="s1">'</code><code class="p">]</code><code class="p">,</code><code>\
</code><code> </code><code class="n">name</code><code class="o">=</code><code class="s1">'</code><code class="s1">category</code><code class="s1">'</code><code class="p">)</code><code>
</code><code>
</code><code class="n">df</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">concat</code><code class="p">(</code><code class="p">[</code><code class="n">names</code><code class="p">,</code><code> </code><code class="n">categories</code><code class="p">]</code><code class="p">,</code><code> </code><code class="n">axis</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO12-2" href="#callout_introduction_to_pandas_CO12-2"><img src="2.png" alt="2" width="12" height="12"></a><code>
</code><code>
</code><code class="n">df</code><code class="o">.</code><code class="n">head</code><code class="p">(</code><code class="p">)</code><code>
</code><code class="n">Out</code><code class="p">:</code><code>
</code><code>               </code><code class="n">name</code><code>    </code><code class="n">category</code><code>
</code><code class="mi">0</code><code>   </code><code class="n">Albert</code><code> </code><code class="n">Einstein</code><code>     </code><code class="n">Physics</code><code>
</code><code class="mi">1</code><code>       </code><code class="n">Marie</code><code> </code><code class="n">Curie</code><code>   </code><code class="n">Chemistry</code><code>
</code><code class="mi">2</code><code>  </code><code class="n">William</code><code> </code><code class="n">Faulkner</code><code>  </code><code class="n">Literature</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO12-1" href="#co_introduction_to_pandas_CO12-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>Create our <code>DataFrame</code> columns, using the <code>name</code> argument, to provide a header label.</p></dd>
<dt><a class="co" id="callout_introduction_to_pandas_CO12-2" href="#co_introduction_to_pandas_CO12-2"><img src="2.png" alt="2" width="12" height="12"></a></dt>
<dd><p>Concatenate the two  <code>Series</code> using the <code>axis</code> argument of <code>1</code> to indicate that the <code>Series</code> are columns.</p></dd>
</dl>

<p>Along with the many ways to create <code>DataFrame</code>s from files and databases just discussed, you should now have a solid grounding in getting data into and out of <code>DataFrame</code>s.<a data-type="indexterm" data-primary="" data-startref="DFPseries8" id="idm140319420455600"></a><a data-type="indexterm" data-primary="" data-startref="series8" id="idm140319420454592"></a><a data-type="indexterm" data-primary="" data-startref="Pseries8" id="idm140319420453648"></a></p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Panels"><div class="sect1" id="idm140319421175200">
<h1>Panels</h1>

<p><a data-type="indexterm" data-primary="Pandas" data-secondary="Panel class" id="idm140319420418752"></a><a data-type="indexterm" data-primary="Panel class (Pandas)" id="idm140319420417680"></a>Pandas provides a <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Panel.html"><code>Panel</code></a> class, which is essentially a container for multiple <code>DataFrame</code>s. In the same way that <code>DataFrame</code>s function as dictionaries of <code>Series</code>, the <code>Panel</code> functions as a dictionary of <code>DataFrame</code>s.</p>

<p>The <code>Panel</code> adds another dimension to the <code>DataFrame</code>, making it a three-dimensional container. So in addition to the index and columns of a <code>DataFrame</code>, it has an extra axis used to specify one of its <code>DataFrame</code>s.</p>

<p>We can create a <code>Panel</code> by providing it with a dictionary of <code>DataFrame</code>s:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">0</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df1</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">foo</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mi">1</code><code class="p">,</code><code> </code><code class="mi">2</code><code class="p">,</code><code> </code><code class="mi">3</code><code class="p">]</code><code class="p">,</code><code>
</code><code class="s1">'</code><code class="s1">bar</code><code class="s1">'</code><code class="p">:</code><code class="p">[</code><code class="s1">'</code><code class="s1">a</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">b</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">c</code><code class="s1">'</code><code class="p">]</code><code class="p">}</code><code class="p">)</code><code>
</code><code>
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">1</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">df2</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">DataFrame</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">baz</code><code class="s1">'</code><code class="p">:</code><code> </code><code class="p">[</code><code class="mi">7</code><code class="p">,</code><code> </code><code class="mi">8</code><code class="p">,</code><code> </code><code class="mi">9</code><code class="p">,</code><code> </code><code class="mi">11</code><code class="p">]</code><code class="p">,</code><code>
</code><code class="s1">'</code><code class="s1">qux</code><code class="s1">'</code><code class="p">:</code><code class="p">[</code><code class="s1">'</code><code class="s1">p</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">q</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">r</code><code class="s1">'</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">t</code><code class="s1">'</code><code class="p">]</code><code class="p">}</code><code class="p">)</code><code>
</code><code>
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">2</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">pn</code><code> </code><code class="o">=</code><code> </code><code class="n">pd</code><code class="o">.</code><code class="n">Panel</code><code class="p">(</code><code class="p">{</code><code class="s1">'</code><code class="s1">item1</code><code class="s1">'</code><code class="p">:</code><code class="n">df1</code><code class="p">,</code><code> </code><code class="s1">'</code><code class="s1">item2</code><code class="s1">'</code><code class="p">:</code><code class="n">df2</code><code class="p">}</code><code class="p">)</code><code>
</code><code class="n">In</code><code> </code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code> </code><code class="n">pn</code><code>
</code><code class="n">Out</code><code class="p">[</code><code class="mi">3</code><code class="p">]</code><code class="p">:</code><code>
</code><code class="o">&lt;</code><code class="k">class</code><code> </code><code class="err">'</code><code class="nc">pandas</code><code class="o">.</code><code class="n">core</code><code class="o">.</code><code class="n">panel</code><code class="o">.</code><code class="n">Panel</code><code class="s1">'</code><code class="s1">&gt;</code><code>
</code><code class="n">Dimensions</code><code class="p">:</code><code> </code><code class="mi">2</code><code> </code><code class="p">(</code><code class="n">items</code><code class="p">)</code><code> </code><code class="n">x</code><code> </code><code class="mi">4</code><code> </code><code class="p">(</code><code class="n">major_axis</code><code class="p">)</code><code> </code><code class="n">x</code><code> </code><code class="mi">4</code><code> </code><code class="p">(</code><code class="n">minor_axis</code><code class="p">)</code><code> </code><a class="co" id="co_introduction_to_pandas_CO13-1" href="#callout_introduction_to_pandas_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a><code>
</code><code class="n">Items</code><code> </code><code class="n">axis</code><code class="p">:</code><code> </code><code class="n">item1</code><code> </code><code class="n">to</code><code> </code><code class="n">item2</code><code>
</code><code class="n">Major_axis</code><code> </code><code class="n">axis</code><code class="p">:</code><code> </code><code class="mi">0</code><code> </code><code class="n">to</code><code> </code><code class="mi">3</code><code>
</code><code class="n">Minor_axis</code><code> </code><code class="n">axis</code><code class="p">:</code><code> </code><code class="n">bar</code><code> </code><code class="n">to</code><code> </code><code class="n">qux</code></pre>
<dl class="calloutlist">
<dt><a class="co" id="callout_introduction_to_pandas_CO13-1" href="#co_introduction_to_pandas_CO13-1"><img src="1.png" alt="1" width="12" height="12"></a></dt>
<dd><p>The <code>Panel</code>’s major and minor axes (rows and columns) have expanded to accommodate the two <code>DataFrame</code>s.</p></dd>
</dl>

<p>The <code>Panel</code> items are expanded where necessary to accommodate missing rows or columns, with <code>NaN</code> added as padding. You can select them by name using square brackets:</p>

<pre data-type="programlisting" data-code-language="python"><code class="n">pn</code><code class="p">[</code><code class="s1">'item1'</code><code class="p">]</code>
<code class="n">Out</code><code class="p">[</code><code class="mi">66</code><code class="p">]:</code>
   <code class="n">bar</code>  <code class="n">baz</code>  <code class="n">foo</code>  <code class="n">qux</code>
<code class="mi">0</code>    <code class="n">a</code>  <code class="n">NaN</code>    <code class="mi">1</code>  <code class="n">NaN</code>
<code class="mi">1</code>    <code class="n">b</code>  <code class="n">NaN</code>    <code class="mi">2</code>  <code class="n">NaN</code>
<code class="mi">2</code>    <code class="n">c</code>  <code class="n">NaN</code>    <code class="mi">3</code>  <code class="n">NaN</code>
<code class="mi">3</code>  <code class="n">NaN</code>  <code class="n">NaN</code>  <code class="n">NaN</code>  <code class="n">NaN</code></pre>

<p>I think it’s fair to say <code>Panel</code>s are a less used aspect of Pandas, but you may well run into them when dealing with Excel, where the multiple sheets in a workbook map nicely to multiple <code>DataFrame</code>s in a <code>Panel</code>.</p>
</div></section>













<section data-type="sect1" data-pdf-bookmark="Summary"><div class="sect1" id="idm140319420285856">
<h1>Summary</h1>

<p>This chapter laid a foundation for the two Pandas-based chapters to come. The core concepts of Pandas—the <code>DataFrame</code>, <code>Index</code>, and <code>Series</code>—were discussed and we saw why Pandas is such a good fit with the type of real-world data that data visualizers deal with, extending the NumPy <code>ndarray</code> by allowing the storage of heterogeneous data and adding a powerful indexing system.</p>

<p>With Pandas’ core data structures under our belts, the next few chapters will show you how to use them to clean and process your dataset of Nobel Prize winners, extending your knowledge of the Pandas toolkit and showing you how to go about applying it in a data visualization context.</p>

<p>Now that we know how to get data into and out of a <code>DataFrame</code>, it’s time to see what Pandas can do with it. We’ll first see how to give your data a clean bill of health, discovering and fixing anomalies such as duplicate rows, missing fields, and corrupted data.</p>
</div></section>







<div data-type="footnotes"><p data-type="footnote" id="idm140319423198128"><sup><a href="ch08.html#idm140319423198128-marker">1</a></sup> Only if the column name is a string without spaces.</p><p data-type="footnote" id="idm140319422552832"><sup><a href="ch08.html#idm140319422552832-marker">2</a></sup> If you have problems, you might try a subset of your data <a href="http://jsonlint.com">here</a> for better feedback.</p><p data-type="footnote" id="idm140319422546576"><sup><a href="ch08.html#idm140319422546576-marker">3</a></sup> D3 takes a number of other data formats, such as hierarchical (tree type) data or node and link graph formats. Here is a pretty comprehensive <a href="http://wiki.cfcl.com/Projects/D3/DF_DS">list</a>.</p><p data-type="footnote" id="idm140319422264480"><sup><a href="ch08.html#idm140319422264480-marker">4</a></sup> I recommend using this approach if you want to get a feel for the CSV or JSON parsers. It’s much more convenient than managing local files.</p></div></div></section></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch07.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">7. Introduction to NumPy</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="/library/view/data-visualization-with/9781491920565/ch09.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">9. Cleaning Data with Pandas</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      <div id="js-subscribe-nag" class="subscribe-nag clearfix trial-panel t-subscribe-nag">
        
        
          
          

          
            <p>You have 6 days left in your trial, Flankpeter. Subscribe today. <a href="/subscribe/" class="ga-active-trial-subscribe-nag">See pricing options.</a></p>
          
        
        

      </div>

    
    



        
      </div>
      




  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>
      
        <li><a class="t-recommendations-footer" href="/r/">Recommended</a></li>
      
      <li>
      
      <a class="t-queue-footer" href="/playlists/">Playlists</a>
      
      </li>
      
        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>
      
      
        <li><a class="t-tutorials-footer" href="/tutorials/">Tutorials</a></li>
      
      <li><a class="t-settings-footer js-settings" href="/u/">Settings</a></li>
      <li class="full-support"><a href="https://www.safaribooksonline.com/public/support">Support</a></li>
      <li><a href="https://www.safaribooksonline.com/apps/">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2018 <a href="https://www.safaribooksonline.com" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="/privacy/">Privacy Policy</a>
  </footer>




    

    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
